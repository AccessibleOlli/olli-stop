!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/olli-stop/",t(t.s=89)}([function(e,t,r){"use strict";function o(e){return{type:g,ready:e}}function n(e){return{type:w,route:e}}function i(e){return{type:_,position:e,coordinates:e.coordinates,progress:e.distance_travelled/(e.distance_travelled+e.distance_remaining),distanceRemaining:e.distance_remaining}}function a(e){return{type:x,coordinates:e.from_coordinates,fromStop:e.from_stop,toStop:e.to_stop}}function s(e){return{type:S,coordinates:e.to_coordinates,fromStop:e.from_stop,toStop:e.to_stop}}function c(e){return{type:P,pois:e}}function l(e){return{type:E,poi:e}}function p(e){return{type:C,poi:e}}function u(e){return{type:A,poiDirections:e}}function d(e){return{type:M,destinationStopName:e}}function h(e){return{type:z,kintransAvatarMessage:e}}function m(e){return{type:R,kinTransInUse:e}}function y(e){return{type:O,persona:e}}function f(e){return{type:j,persona:e}}r.d(t,"j",function(){return g}),r.d(t,"k",function(){return _}),r.d(t,"l",function(){return w}),r.d(t,"m",function(){return b}),r.d(t,"q",function(){return x}),r.d(t,"d",function(){return S}),r.d(t,"o",function(){return k}),r.d(t,"n",function(){return P}),r.d(t,"i",function(){return E}),r.d(t,"b",function(){return C}),r.d(t,"p",function(){return A}),r.d(t,"g",function(){return T}),r.d(t,"c",function(){return M}),r.d(t,"f",function(){return R}),r.d(t,"e",function(){return z}),r.d(t,"a",function(){return O}),r.d(t,"h",function(){return j}),r.d(t,"v",function(){return N}),r.d(t,"s",function(){return F}),t.B=o,t.D=n,t.C=i,t.G=a,t.u=s,t.F=c,t.x=l,t.t=p,t.E=u,t.y=d,t.z=h,t.A=m,t.r=y,t.w=f;var v=r(54),g="SET_MAP_READY",_="SET_OLLI_POSITION",w="SET_OLLI_ROUTE",b="SET_OLLI_ROUTE_VISIBILITY",x="START_OLLI_TRIP",S="END_OLLI_TRIP",k="SET_POI_CATEGORY",P="SET_POIS",E="SELECT_POI",C="DESELECT_POI",A="SET_POI_DIRECTIONS",T="MAP_MSG",M="DESTINATION_NAME",R="KINTRANS_USE",z="KINTRANS_AVATAR_MESSAGE",O="ADD_PERSONA",j="REMOVE_PERSONA",N=Object(v.a)("OLLIE_EVENT"),F=Object(v.a)("DELETE_MESSAGE")},function(e,t,r){"use strict";e.exports=r(96)},function(e,t,r){"use strict";function o(e){return"[object Array]"===k.call(e)}function n(e){return"[object ArrayBuffer]"===k.call(e)}function i(e){return"undefined"!==typeof FormData&&e instanceof FormData}function a(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"===typeof e}function c(e){return"number"===typeof e}function l(e){return"undefined"===typeof e}function p(e){return null!==e&&"object"===typeof e}function u(e){return"[object Date]"===k.call(e)}function d(e){return"[object File]"===k.call(e)}function h(e){return"[object Blob]"===k.call(e)}function m(e){return"[object Function]"===k.call(e)}function y(e){return p(e)&&m(e.pipe)}function f(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"===typeof e||o(e)||(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function w(){function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=w(t[r],e):t[r]=e}for(var t={},r=0,o=arguments.length;r<o;r++)_(arguments[r],e);return t}function b(e,t,r){return _(t,function(t,o){e[o]=r&&"function"===typeof t?x(t,r):t}),e}var x=r(39),S=r(111),k=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:n,isBuffer:S,isFormData:i,isArrayBufferView:a,isString:s,isNumber:c,isObject:p,isUndefined:l,isDate:u,isFile:d,isBlob:h,isFunction:m,isStream:y,isURLSearchParams:f,isStandardBrowserEnv:g,forEach:_,merge:w,extend:b,trim:v}},function(e,t,r){"use strict";var o=r(47),n=r(143),i=r(144);r(145),r(51),r(50);r.d(t,"c",function(){return o.b}),r.d(t,"b",function(){return n.a}),r.d(t,"a",function(){return i.a})},function(e,t,r){"use strict";var o=r(128),n=(r(46),r(133));r.d(t,"a",function(){return o.a}),r.d(t,"b",function(){return n.a})},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var o=r(48),n="object"==typeof self&&self&&self.Object===Object&&self,i=o.a||n||Function("return this")();t.a=i},function(e,t,r){"use strict";function o(e){if(!Object(a.a)(e)||Object(n.a)(e)!=s)return!1;var t=Object(i.a)(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&p.call(r)==d}var n=r(8),i=r(138),a=r(11),s="[object Object]",c=Function.prototype,l=Object.prototype,p=c.toString,u=l.hasOwnProperty,d=p.call(Object);t.a=o},function(e,t,r){"use strict";function o(e){return null==e?void 0===e?c:s:l&&l in Object(e)?Object(i.a)(e):Object(a.a)(e)}var n=r(23),i=r(136),a=r(137),s="[object Null]",c="[object Undefined]",l=n.a?n.a.toStringTag:void 0;t.a=o},function(e,t,r){e.exports=r(110)},function(e,t,r){"use strict";var o=function(e,t,r,o,n,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,n,i,a,s],p=0;c=new Error(t.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=o},function(e,t,r){"use strict";function o(e){return null!=e&&"object"==typeof e}t.a=o},function(e,t,r){"use strict";function o(e){if(!Object(i.a)(e))return!1;var t=Object(n.a)(e);return t==s||t==c||t==a||t==l}var n=r(8),i=r(25),a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",l="[object Proxy]";t.a=o},function(e,t,r){"use strict";var o=Array.isArray;t.a=o},function(e,t,r){"use strict";function o(e,t){var r=Object(i.a)(e,t);return Object(n.a)(r)?r:void 0}var n=r(177),i=r(180);t.a=o},function(e,t,r){"use strict";function o(e){return function(){return e}}var n=function(){};n.thatReturns=o,n.thatReturnsFalse=o(!1),n.thatReturnsTrue=o(!0),n.thatReturnsNull=o(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";function o(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}function n(e){if("function"===typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),o=new Uint8Array(e);return r.set(o),t}function i(e){if(e instanceof ArrayBuffer)return n(e);var t=e.size,r=e.type;return"function"===typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&z.call(r)==O}function s(e){var t,r,n;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=s(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return i(e);if(!a(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=s(e[r]);"undefined"!==typeof c&&(t[r]=c)}return t}function c(e){var t=!1;return P()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function l(e){return P()(function(t){t=s(t);var r=this,o="function"===typeof t[t.length-1]&&t.pop(),n=new S.a(function(o,n){var i;try{var a=c(function(e,t){e?n(e):o(t)});t.push(a),i=e.apply(r,t),i&&"function"===typeof i.then&&o(i)}catch(e){n(e)}});return o&&n.then(function(e){o(null,e)},o),n})}function p(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=t[o];i in e&&(r[i]=e[i])}return r}function u(){return"undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage&&"undefined"!==typeof chrome.storage.local}function d(){return R}function h(e){u()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):d()&&("undefined"!==typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function m(){E.EventEmitter.call(this),this._listeners={},h(this)}function y(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function f(e){for(var t=[],r=0,o=e.length;r<o;r++)t=t.concat(e[r]);return t}function v(){}function g(e){return"boolean"===typeof e._remote?e._remote:"function"===typeof e.type&&(y("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function _(e,t,r){return new S.a(function(o,n){e.get(t,function(i,a){if(i){if(404!==i.status)return n(i);a={}}var s=a._rev,c=r(a);if(!c)return o({updated:!1,rev:s});c._id=t,c._rev=s,o(w(e,c,r))})})}function w(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return _(e,t._id,r)})}r.d(t,"a",function(){return N}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return f}),r.d(t,"d",function(){return y}),r.d(t,"e",function(){return g}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return _});var b=r(70),x=r.n(b),S=r(33),k=r(32),P=r.n(k),E=(r(34),r(75)),C=(r.n(E),r(16)),A=r.n(C),T=r(31),M=r.n(T);r(214);r.d(t,"f",function(){return M.a});var R,z=Function.prototype.toString,O=z.call(Object);if(u())R=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),R=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){R=!1}A()(m,E.EventEmitter),m.prototype.addListener=function(e,t,r,o){function n(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var s=p(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(s).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===a&&M()(n),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=n,this.on(e,n)}},m.prototype.removeListener=function(e,t){t in this._listeners&&(E.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},m.prototype.notifyLocalWindows=function(e){u()?chrome.storage.local.set({dbName:e}):d()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},m.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var j;j="function"===typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var N=j,F=v.name;x.a.v4},function(e,t,r){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,c=o(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var p in r)i.call(r,p)&&(c[p]=r[p]);if(n){s=n(r);for(var u=0;u<s.length;u++)a.call(r,s[u])&&(c[s[u]]=r[s[u]])}}return c}},function(e,t,r){"use strict";function o(e,t,r,o,i,a,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,o,i,a,s,c],u=0;l=new Error(t.replace(/%s/g,function(){return p[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(e){};e.exports=o},function(e,t,r){"use strict";(function(t){function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var n=r(2),i=r(113),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=r(40):"undefined"!==typeof t&&(e=r(40)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(a)}),e.exports=s}).call(t,r(21))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?m=h.concat(m):f=-1,m.length&&s())}function s(){if(!y){var e=n(a);y=!0;for(var t=m.length;t;){for(h=m,m=[];++f<t;)h&&h[f].run();f=-1,t=m.length}h=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var p,u,d=e.exports={};!function(){try{p="function"===typeof setTimeout?setTimeout:r}catch(e){p=r}try{u="function"===typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var h,m=[],y=!1,f=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new c(e,t)),1!==m.length||y||n(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){"use strict";function o(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=o},function(e,t,r){"use strict";var o=r(6),n=o.a.Symbol;t.a=n},function(e,t,r){"use strict";function o(e){return e}t.a=o},function(e,t,r){"use strict";function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}t.a=o},function(e,t,r){"use strict";function o(e){return null!=e&&Object(i.a)(e.length)&&!Object(n.a)(e)}var n=r(12),i=r(58);t.a=o},function(e,t,r){"use strict";function o(e){return"string"==typeof e||!Object(i.a)(e)&&Object(a.a)(e)&&Object(n.a)(e)==s}var n=r(8),i=r(13),a=r(11),s="[object String]";t.a=o},function(e,t,r){"use strict";function o(e){return"symbol"==typeof e||Object(i.a)(e)&&Object(n.a)(e)==a}var n=r(8),i=r(11),a="[object Symbol]";t.a=o},function(e,t,r){"use strict";function o(e){if("undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}t.a=o},function(e,t,r){"use strict";(function(e){function o(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}function n(e){if("function"===typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),o=new Uint8Array(e);return r.set(o),t}function i(e){if(e instanceof ArrayBuffer)return n(e);var t=e.size,r=e.type;return"function"===typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&Sn.call(r)==kn}function s(e){var t,r,n;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=s(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return i(e);if(!a(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=s(e[r]);"undefined"!==typeof c&&(t[r]=c)}return t}function c(e){var t=!1;return pn()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function l(e){return pn()(function(t){t=s(t);var r=this,o="function"===typeof t[t.length-1]&&t.pop(),n=new xn(function(o,n){var i;try{var a=c(function(e,t){e?n(e):o(t)});t.push(a),i=e.apply(r,t),i&&"function"===typeof i.then&&o(i)}catch(e){n(e)}});return o&&n.then(function(e){o(null,e)},o),n})}function p(e,t,r){if(e.constructor.listeners("debug").length){for(var o=["api",e.name,t],n=0;n<r.length-1;n++)o.push(r[n]);e.constructor.emit("debug",o);var i=r[r.length-1];r[r.length-1]=function(r,o){var n=["api",e.name,t];n=n.concat(r?["error",r]:["success",o]),e.constructor.emit("debug",n),i(r,o)}}}function u(e,t){return l(pn()(function(r){if(this._closed)return xn.reject(new Error("database is closed"));if(this._destroyed)return xn.reject(new Error("database is destroyed"));var o=this;return p(o,e,r),this.taskqueue.isReady?t.apply(this,r):new xn(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function d(e){return"$"+e}function h(e){return e.substring(1)}function m(){this._store={}}function y(e){if(this._store=new m,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}function f(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=t[o];i in e&&(r[i]=e[i])}return r}function v(e){return e}function g(e){return[{ok:e}]}function _(e,t,r){function o(){var e=[];d.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e})}function n(){++u===p&&o()}function i(e,t,r){d[e]={id:t,docs:r},n()}function a(){if(!(m>=h.length)){var e=Math.min(m+An,h.length),t=h.slice(m,e);s(t,m),m+=t.length}}function s(r,o){r.forEach(function(r,n){var s=o+n,c=l.get(r),p=f(c[0],["atts_since","attachments"]);p.open_revs=c.map(function(e){return e.rev}),p.open_revs=p.open_revs.filter(v);var u=v;0===p.open_revs.length&&(delete p.open_revs,u=g),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(p[e]=t[e])}),e.get(r,p,function(e,t){var o;o=e?[{error:e}]:u(t),i(s,r,o),a()})})}var c=t.docs,l=new En;c.forEach(function(e){l.has(e.id)?l.get(e.id).push(e):l.set(e.id,[e])});var p=l.size,u=0,d=new Array(p),h=[];l.forEach(function(e,t){h.push(t)});var m=0;a()}function w(){return"undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage&&"undefined"!==typeof chrome.storage.local}function b(){return Cn}function x(e){w()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):b()&&("undefined"!==typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function S(){un.EventEmitter.call(this),this._listeners={},x(this)}function k(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function P(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function E(e){var t=0;return e||(t=2e3),P(e,t)}function C(e,t){k("info","The above "+e+" is totally normal. "+t)}function A(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}function T(e,t){function r(t){for(var r in e)"function"!==typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=A.prototype,new r(t)}function M(e){if("object"!==typeof e){var t=e;e=In,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function R(e,t,r){try{return!e(t,r)}catch(e){var o="Filter function threw: "+e.toString();return T(qn,o)}}function z(e){var t={},r=e.filter&&"function"===typeof e.filter;return t.query=e.query_params,function(o){o.doc||(o.doc={});var n=r&&R(e.filter,o.doc,t);if("object"===typeof n)return n;if(n)return!1;if(e.include_docs){if(!e.attachments)for(var i in o.doc._attachments)o.doc._attachments.hasOwnProperty(i)&&(o.doc._attachments[i].stub=!0)}else delete o.doc;return!0}}function O(e){for(var t=[],r=0,o=e.length;r<o;r++)t=t.concat(e[r]);return t}function j(){}function N(e){var t;if(e?"string"!==typeof e?t=T(jn):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(Fn)):t=T(Nn),t)throw t}function F(e){return"boolean"===typeof e._remote?e._remote:"function"===typeof e.type&&(k("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function I(e,t){return"listenerCount"in e?e.listenerCount(t):un.EventEmitter.listenerCount(e,t)}function B(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function D(e){var t=B(e);return t?t.join("/"):null}function L(e){for(var t=Qn.exec(e),r={},o=14;o--;){var n=Jn[o],i=t[o]||"",a=-1!==["user","password"].indexOf(n);r[n]=a?decodeURIComponent(i):i}return r[Zn]={},r[Jn[12]].replace(Xn,function(e,t,o){t&&(r[Zn][t]=o)}),r}function q(e,t){var r=[],o=[];for(var n in t)t.hasOwnProperty(n)&&(r.push(n),o.push(t[n]));return r.push(e),Function.apply(null,r).apply(null,o)}function U(e,t,r){return new xn(function(o,n){e.get(t,function(i,a){if(i){if(404!==i.status)return n(i);a={}}var s=a._rev,c=r(a);if(!c)return o({updated:!1,rev:s});c._id=t,c._rev=s,o(W(e,c,r))})})}function W(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return U(e,t._id,r)})}function V(){return an.a.v4().replace(/-/g,"").toLowerCase()}function H(e){for(var t,r,o,n,i=e.rev_tree.slice();n=i.pop();){var a=n.ids,s=a[2],c=n.pos;if(s.length)for(var l=0,p=s.length;l<p;l++)i.push({pos:c+1,ids:s[l]});else{var u=!!a[1].deleted,d=a[0];t&&!(o!==u?o:r!==c?r<c:t<d)||(t=d,r=c,o=u)}}return r+"-"+t}function G(e,t){for(var r,o=e.slice();r=o.pop();)for(var n=r.pos,i=r.ids,a=i[2],s=t(0===a.length,n,i[0],r.ctx,i[1]),c=0,l=a.length;c<l;c++)o.push({pos:n+1,ids:a[c],ctx:s})}function K(e,t){return e.pos-t.pos}function J(e){var t=[];G(e,function(e,r,o,n,i){e&&t.push({rev:r+"-"+o,pos:r,opts:i})}),t.sort(K).reverse();for(var r=0,o=t.length;r<o;r++)delete t[r].pos;return t}function Z(e){for(var t=H(e),r=J(e.rev_tree),o=[],n=0,i=r.length;n<i;n++){var a=r[n];a.rev===t||a.opts.deleted||o.push(a.rev)}return o}function X(e){var t=[];return G(e.rev_tree,function(e,r,o,n,i){"available"!==i.status||e||(t.push(r+"-"+o),i.status="missing")}),t}function Q(e){for(var t,r=[],o=e.slice();t=o.pop();){var n=t.pos,i=t.ids,a=i[0],s=i[1],c=i[2],l=0===c.length,p=t.history?t.history.slice():[];p.push({id:a,opts:s}),l&&r.push({pos:n+1-p.length,ids:p});for(var u=0,d=c.length;u<d;u++)o.push({pos:n+1,ids:c[u],history:p})}return r.reverse()}function Y(e,t){return e.pos-t.pos}function $(e,t,r){for(var o,n=0,i=e.length;n<i;)o=n+i>>>1,r(e[o],t)<0?n=o+1:i=o;return n}function ee(e,t,r){var o=$(e,t,r);e.splice(o,0,t)}function te(e,t){for(var r,o,n=t,i=e.length;n<i;n++){var a=e[n],s=[a.id,a.opts,[]];o?(o[2].push(s),o=s):r=o=s}return r}function re(e,t){return e[0]<t[0]?-1:1}function oe(e,t){for(var r=[{tree1:e,tree2:t}],o=!1;r.length>0;){var n=r.pop(),i=n.tree1,a=n.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(i[2][0]){for(var c=!1,l=0;l<i[2].length;l++)i[2][l][0]===a[2][s][0]&&(r.push({tree1:i[2][l],tree2:a[2][s]}),c=!0);c||(o="new_branch",ee(i[2],a[2][s],re))}else o="new_leaf",i[2][0]=a[2][s]}return{conflicts:o,tree:e}}function ne(e,t,r){var o,n=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,c=e.length;s<c;s++){var l=e[s];if(l.pos===t.pos&&l.ids[0]===t.ids[0])o=oe(l.ids,t.ids),n.push({pos:l.pos,ids:o.tree}),i=i||o.conflicts,a=!0;else if(!0!==r){var p=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,d=u.pos-p.pos,h=[],m=[];for(m.push({ids:p.ids,diff:d,parent:null,parentIdx:null});m.length>0;){var y=m.pop();if(0!==y.diff)for(var f=y.ids[2],v=0,g=f.length;v<g;v++)m.push({ids:f[v],diff:y.diff-1,parent:y.ids,parentIdx:v});else y.ids[0]===u.ids[0]&&h.push(y)}var _=h[0];_?(o=oe(_.ids,u.ids),_.parent[2][_.parentIdx]=o.tree,n.push({pos:p.pos,ids:p.ids}),i=i||o.conflicts,a=!0):n.push(l)}else n.push(l)}return a||n.push(t),n.sort(Y),{tree:n,conflicts:i||"internal_node"}}function ie(e,t){for(var r,o,n=Q(e),i=0,a=n.length;i<a;i++){var s,c=n[i],l=c.ids;if(l.length>t){r||(r={});var p=l.length-t;s={pos:c.pos+p,ids:te(l,p)};for(var u=0;u<p;u++){var d=c.pos+u+"-"+l[u].id;r[d]=!0}}else s={pos:c.pos,ids:te(l,0)};o=o?ne(o,s,!0).tree:[s]}return r&&G(o,function(e,t,o){delete r[t+"-"+o]}),{tree:o,revs:r?Object.keys(r):[]}}function ae(e,t,r){var o=ne(e,t),n=ie(o.tree,r);return{tree:n.tree,stemmedRevs:n.revs,conflicts:o.conflicts}}function se(e,t){for(var r,o=e.slice(),n=t.split("-"),i=parseInt(n[0],10),a=n[1];r=o.pop();){if(r.pos===i&&r.ids[0]===a)return!0;for(var s=r.ids[2],c=0,l=s.length;c<l;c++)o.push({pos:r.pos+1,ids:s[c]})}return!1}function ce(e){return e.ids}function le(e,t){t||(t=H(e));for(var r,o=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(ce);r=n.pop();){if(r[0]===o)return!!r[1].deleted;n=n.concat(r[2])}}function pe(e){return/^_local/.test(e)}function ue(e,t){for(var r,o=t.rev_tree.slice();r=o.pop();){var n=r.pos,i=r.ids,a=i[0],s=i[1],c=i[2],l=0===c.length,p=r.history?r.history.slice():[];if(p.push({id:a,pos:n,opts:s}),l)for(var u=0,d=p.length;u<d;u++){var h=p[u],m=h.pos+"-"+h.id;if(m===e)return n+"-"+a}for(var y=0,f=c.length;y<f;y++)o.push({pos:n+1,ids:c[y],history:p})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function de(e,t){try{e.emit("change",t)}catch(e){k("error",'Error in .on("change", function):',e)}}function he(e,t,r){function o(){n.cancel()}un.EventEmitter.call(this);var n=this;this.db=e,t=t?s(t):{};var i=t.complete=c(function(t,r){t?I(n,"error")>0&&n.emit("error",t):n.emit("complete",r),n.removeAllListeners(),e.removeListener("destroyed",o)});r&&(n.on("complete",function(e){r(null,e)}),n.on("error",r)),e.once("destroyed",o),t.onChange=function(e){n.isCancelled||de(n,e)};var a=new xn(function(e,r){t.complete=function(t,o){t?r(t):e(o)}});n.once("cancel",function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function me(e,t,r){var o=[{rev:e._rev}];"all_docs"===r.style&&(o=J(t.rev_tree).map(function(e){return{rev:e.rev}}));var n={id:t.id,changes:o,doc:e};return le(t,e._rev)&&(n.deleted=!0),r.conflicts&&(n.doc._conflicts=Z(t),n.doc._conflicts.length||delete n.doc._conflicts),n}function ye(e,t){return e<t?-1:e>t?1:0}function fe(e,t){return function(r,o){r||o[0]&&o[0].error?(r=r||o[0],r.docId=t,e(r)):e(null,o.length?o[0]:o)}}function ve(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var o=Object.keys(r._attachments),n=0;n<o.length;n++){var i=o[n];r._attachments[i]=f(r._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function ge(e,t){var r=ye(e._id,t._id);return 0!==r?r:ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _e(e){var t={},r=[];return G(e,function(e,o,n,i){var a=o+"-"+n;return e&&(t[a]=0),void 0!==i&&r.push({from:i,to:a}),a}),r.reverse(),r.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function we(e,t,r){var o="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&o.reverse(),!o.length)return e._allDocs({limit:0},r);var n={offset:t.skip};return xn.all(o.map(function(r){var o=Mn({key:r,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete o[e]}),new xn(function(t,i){e._allDocs(o,function(e,o){if(e)return i(e);n.total_rows=o.total_rows,t(o.rows[0]||{key:r,error:"not_found"})})})})).then(function(e){return n.rows=e,n})}function be(e){var t=e._compactionQueue[0],r=t.opts,o=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?o(t):o(null,r),yn()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&be(e)})})})}function xe(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Se(){un.EventEmitter.call(this)}function ke(){this.isReady=!1,this.failed=!1,this.queue=[]}function Pe(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var o=Ce.adapters,n=Ce.preferredAdapters,i=Ce.prefix,a=t.adapter;if(!a)for(var s=0;s<n.length;++s){a=n[s];{if(!("idb"===a&&"websql"in o&&b()&&localStorage["_pouch__websqldb_"+i+e]))break;k("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var c=o[a];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:i+e,adapter:a}}function Ee(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}function Ce(e,t){if(!(this instanceof Ce))return new Ce(e,t);var r=this;if(t=t||{},e&&"object"===typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=s(t),r.auto_compaction=t.auto_compaction,r.prefix=Ce.prefix,"string"!==typeof e)throw new Error("Missing/invalid DB name");var o=(t.prefix||"")+e,n=Pe(o,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,Ce.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ce.adapters[t.adapter]||!Ce.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Se.call(r),r.taskqueue=new ke,r.adapter=t.adapter,Ce.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);Ee(r),r.emit("created",r),Ce.emit("created",r.name),r.taskqueue.ready(r)})}function Ae(e){e.debug=vn.a;var t={};e.on("debug",function(e){var r=e[0],o=e.slice(1);t[r]||(t[r]=vn()("pouchdb:"+r)),t[r].apply(null,o)})}function Te(e,t){for(var r=e,o=0,n=t.length;o<n;o++){if(!(r=r[t[o]]))break}return r}function Me(e,t){return e<t?-1:e>t?1:0}function Re(e){for(var t=[],r="",o=0,n=e.length;o<n;o++){var i=e[o];"."===i?o>0&&"\\"===e[o-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}function ze(e){return ei.indexOf(e)>-1}function Oe(e){return Object.keys(e)[0]}function je(e){return e[Oe(e)]}function Ne(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var o=e[r];if("object"!==typeof o&&(o={$eq:o}),ze(r))o instanceof Array?t[r]=o.map(function(e){return Ne([e])}):t[r]=Ne([o]);else{var n=t[r]=t[r]||{};Object.keys(o).forEach(function(e){var t=o[e];return"$gt"===e||"$gte"===e?Fe(e,t,n):"$lt"===e||"$lte"===e?Ie(e,t,n):"$ne"===e?Be(t,n):"$eq"===e?De(t,n):void(n[e]=t)})}})}),t}function Fe(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!==typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function Ie(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!==typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function Be(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function De(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function Le(e){var t=s(e),r=!1;"$and"in t&&(t=Ne(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var o=t[r],n=e[o];"object"===typeof n&&null!==n||(e[o]={$eq:n})}})}),"$not"in t&&(t.$not=Ne([t.$not]));for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n],a=t[i];"object"!==typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[i]=a}return t}function qe(e,t,r){for(var o="",n=r-e.length;o.length<n;)o+=t;return o}function Ue(e,t,r){return qe(e,t,r)+e}function We(e,t){if(e===t)return 0;e=Ve(e),t=Ve(t);var r=$e(e),o=$e(t);if(r-o!==0)return r-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Qe(e,t)}return Array.isArray(e)?Xe(e,t):Ye(e,t)}function Ve(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=Ve(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"undefined"!==typeof i&&(e[n]=Ve(i))}}}}return e}function He(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return et(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,n=r.length,i="";if(t)for(;++o<n;)i+=Ge(r[o]);else for(;++o<n;){var a=r[o];i+=Ge(a)+Ge(e[a])}return i}return""}function Ge(e){return e=Ve(e),$e(e)+oi+He(e)+"\0"}function Ke(e,t){var r,o=t;if("1"===e[t])r=0,t++;else{var n="0"===e[t];t++;var i="",a=e.substring(t,t+ri),s=parseInt(a,10)+ti;for(n&&(s=-s),t+=ri;;){var c=e[t];if("\0"===c)break;i+=c,t++}i=i.split("."),r=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),n&&(r-=10),0!==s&&(r=parseFloat(r+"e"+s))}return{num:r,length:t-o}}function Je(e,t){var r=e.pop();if(t.length){var o=t[t.length-1];r===o.element&&(t.pop(),o=t[t.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(r);else if(i===e.length-2){var a=e.pop();n[a]=r}else e.push(r)}}function Ze(e){for(var t=[],r=[],o=0;;){var n=e[o++];if("\0"!==n)switch(n){case"1":t.push(null);break;case"2":t.push("1"===e[o]),o++;break;case"3":var i=Ke(e,o);t.push(i.num),o+=i.length;break;case"4":for(var a="";;){var s=e[o];if("\0"===s)break;a+=s,o++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),r.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+n)}else{if(1===t.length)return t.pop();Je(t,r)}}}function Xe(e,t){for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var n=We(e[o],t[o]);if(0!==n)return n}return e.length===t.length?0:e.length>t.length?1:-1}function Qe(e,t){return e===t?0:e>t?1:-1}function Ye(e,t){for(var r=Object.keys(e),o=Object.keys(t),n=Math.min(r.length,o.length),i=0;i<n;i++){var a=We(r[i],o[i]);if(0!==a)return a;if(0!==(a=We(e[r[i]],t[o[i]])))return a}return r.length===o.length?0:r.length>o.length?1:-1}function $e(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function et(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),o=e<0,n=o?"0":"2",i=(o?-r:r)-ti,a=Ue(i.toString(),"0",ri);n+=oi+a;var s=Math.abs(parseFloat(t[0]));o&&(s=10-s);var c=s.toFixed(20);return c=c.replace(/\.?0+$/,""),n+=oi+c}function tt(e){function t(t){return e.map(function(e){var r=Oe(e),o=Re(r);return Te(t,o)})}return function(e,r){var o=t(e.doc),n=t(r.doc),i=We(o,n);return 0!==i?i:Me(e.doc._id,r.doc._id)}}function rt(e,t,r){if(e=e.filter(function(e){return ot(e.doc,t.selector,r)}),t.sort){var o=tt(t.sort);e=e.sort(o),"string"!==typeof t.sort[0]&&"desc"===je(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var n=t.skip||0,i=("limit"in t?t.limit:e.length)+n;e=e.slice(n,i)}return e}function ot(e,t,r){return r.every(function(r){var o=t[r],n=Re(r),i=Te(e,n);return ze(r)?it(r,o,e):nt(o,e,n,i)})}function nt(e,t,r,o){return!e||Object.keys(e).every(function(n){var i=e[n];return at(n,t,i,r,o)})}function it(e,t,r){return"$or"===e?t.some(function(e){return ot(r,e,Object.keys(e))}):"$not"===e?!ot(r,t,Object.keys(t)):!t.find(function(e){return ot(r,e,Object.keys(e))})}function at(e,t,r,o,n){if(!ni[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ni[e](t,r,o,n)}function st(e){return"undefined"!==typeof e&&null!==e}function ct(e){return"undefined"!==typeof e}function lt(e,t){var r=t[0],o=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(o,10)!==o)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===o}function pt(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function ut(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function dt(e,t){return e.length===t}function ht(e,t){return new RegExp(t).test(e)}function mt(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"===typeof e;case"number":return"number"===typeof e;case"string":return"string"===typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function yt(e,t){if("object"!==typeof t)throw new Error("Selector error: expected a JSON object");t=Le(t);var r={doc:e},o=rt([r],{selector:t},Object.keys(t));return o&&1===o.length}function ft(e){return q('"use strict";\nreturn '+e+";",{})}function vt(e){return q(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function gt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"===typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function _t(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"===typeof e.filter&&("_view"===e.filter?e.view=D(e.view):e.filter=D(e.filter))}function wt(e,t){return t.filter&&"string"===typeof t.filter&&!t.doc_ids&&!F(e.db)}function bt(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!==typeof t.view){var o=T(qn,"`view` filter parameter not found or invalid.");return r(o)}var n=B(t.view);e.db.get("_design/"+n[0],function(o,i){if(e.isCancelled)return r(null,{status:"cancelled"});if(o)return r(M(o));var a=i&&i.views&&i.views[n[1]]&&i.views[n[1]].map;if(!a)return r(T(zn,i.views?"missing json key: "+n[1]:"missing json key: views"));t.filter=vt(a),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return yt(e,t.selector)},e.doChanges(t);else{var i=B(t.filter);e.db.get("_design/"+i[0],function(o,n){if(e.isCancelled)return r(null,{status:"cancelled"});if(o)return r(M(o));var a=n&&n.filters&&n.filters[i[1]];if(!a)return r(T(zn,n&&n.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=ft(a),e.doChanges(t)})}}function xt(e){e._changesFilterPlugin={validate:gt,normalize:_t,shouldFilter:wt,filter:bt}}function St(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function kt(e){if(!/^\d+-./.test(e))return T(Hn);var t=e.indexOf("-"),r=e.substring(0,t),o=e.substring(t+1);return{prefix:parseInt(r,10),id:o}}function Pt(e,t){for(var r=e.start-e.ids.length+1,o=e.ids,n=[o[0],t,[]],i=1,a=o.length;i<a;i++)n=[o[i],{status:"missing"},[n]];return[{pos:r,ids:n}]}function Et(e,t){var r,o,n,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Yn()),o=V(),e._rev){if(n=kt(e._rev),n.error)return n;e._rev_tree=[{pos:n.prefix,ids:[n.id,{status:"missing"},[[o,i,[]]]]}],r=n.prefix+1}else e._rev_tree=[{pos:1,ids:[o,i,[]]}],r=1;else if(e._revisions&&(e._rev_tree=Pt(e._revisions,i),r=e._revisions.start,o=e._revisions.ids[0]),!e._rev_tree){if(n=kt(e._rev),n.error)return n;r=n.prefix,o=n.id,e._rev_tree=[{pos:r,ids:[o,i,[]]}]}N(e._id),e._rev=r+"-"+o;var a={metadata:{},data:{}};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c="_"===s[0];if(c&&!ai[s]){var l=T(Ln,s);throw l.message=Ln.message+": "+s,l}c&&!si[s]?a.metadata[s.slice(1)]=e[s]:a.data[s]=e[s]}return a}function Ct(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,n=0;n<e.length;n+=1)o.append(e[n]);return o.getBlob(t.type)}}function At(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),n=0;n<t;n++)o[n]=e.charCodeAt(n);return r}function Tt(e,t){return Ct([At(e)],{type:t})}function Mt(e,t){return Tt(ci(e),t)}function Rt(e){for(var t="",r=new Uint8Array(e),o=r.byteLength,n=0;n<o;n++)t+=String.fromCharCode(r[n]);return t}function zt(e,t){if("undefined"===typeof FileReader)return t(Rt((new FileReaderSync).readAsArrayBuffer(e)));var r=new FileReader,o="function"===typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(o)return t(r);t(Rt(r))},o?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Ot(e,t){zt(e,function(e){t(e)})}function jt(e,t){Ot(e,function(e){t(li(e))})}function Nt(e,t){if("undefined"===typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}function Ft(e){return li(e)}function It(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}function Bt(e,t,r,o,n){(r>0||o<t.size)&&(t=It(t,r,o)),Nt(t,function(t){e.append(t),n()})}function Dt(e,t,r,o,n){(r>0||o<t.length)&&(t=t.substring(r,o)),e.appendBinary(t),n()}function Lt(e,t){function r(){pi(n)}function o(){var e=p.end(!0),r=Ft(e);t(r),p.destroy()}function n(){var t=l*s,n=t+s;l++,l<c?u(p,e,t,n,r):u(p,e,t,n,o)}var i="string"===typeof e,a=i?e.length:e.size,s=Math.min(ui,a),c=Math.ceil(a/s),l=0,p=i?new _n.a:new _n.a.ArrayBuffer,u=i?Dt:Bt;n()}function qt(e){return _n.a.hash(e)}function Ut(e){try{return ci(e)}catch(e){var t=T(Bn,"Attachment is not a valid base64 string");return{error:t}}}function Wt(e,t,r){var o=Ut(e.data);if(o.error)return r(o.error);e.length=o.length,e.data="blob"===t?Tt(o,e.content_type):"base64"===t?li(o):o,Lt(o,function(t){e.digest="md5-"+t,r()})}function Vt(e,t,r){Lt(e.data,function(o){e.digest="md5-"+o,e.length=e.data.size||e.data.length||0,"binary"===t?Ot(e.data,function(t){e.data=t,r()}):"base64"===t?jt(e.data,function(t){e.data=t,r()}):r()})}function Ht(e,t,r){if(e.stub)return r();"string"===typeof e.data?Wt(e,t,r):Vt(e,t,r)}function Gt(e,t,r){function o(){i++,e.length===i&&(n?r(n):r())}if(!e.length)return r();var n,i=0;e.forEach(function(e){function r(e){n=e,++a===i.length&&o()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return o();for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&Ht(e.data._attachments[s],t,r)})}function Kt(e,t,r,o,n,i,a,s){if(se(t.rev_tree,r.metadata.rev))return o[n]=r,i();var c=t.winningRev||H(t),l="deleted"in t?t.deleted:le(t,c),p="deleted"in r.metadata?r.metadata.deleted:le(r.metadata),u=/^1-/.test(r.metadata.rev);if(l&&!p&&s&&u){var d=r.data;d._rev=c,d._id=r.metadata.id,r=Et(d,s)}var h=ae(t.rev_tree,r.metadata.rev_tree[0],e);if(s&&(l&&p&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!p&&"new_branch"===h.conflicts)){var m=T(On);return o[n]=m,i()}var y=r.metadata.rev;r.metadata.rev_tree=h.tree,r.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var f,v=H(r.metadata),g=le(r.metadata,v),_=l===g?0:l<g?-1:1;f=y===v?g:le(r.metadata,y),a(r,v,g,f,!0,_,n,i)}function Jt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function Zt(e,t,r,o,n,i,a,s,c){function l(e,t,r){var o=H(e.metadata),n=le(e.metadata,o);if("was_delete"in s&&n)return i[t]=T(zn,"deleted"),r();if(u&&Jt(e)){var c=T(On);return i[t]=c,r()}a(e,o,n,n,!1,n?0:1,t,r)}function p(){++h===m&&c&&c()}e=e||1e3;var u=s.new_edits,d=new En,h=0,m=t.length;t.forEach(function(e,t){if(e._id&&pe(e._id)){var o=e._deleted?"_removeLocal":"_putLocal";return void r[o](e,{ctx:n},function(e,r){i[t]=e||r,p()})}var a=e.metadata.id;d.has(a)?(m--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,r){function n(){++c<t.length?s():p()}function s(){var s=t[c],p=s[0],d=s[1];if(o.has(r))Kt(e,o.get(r),p,i,d,n,a,u);else{var h=ae([],p.metadata.rev_tree[0],e);p.metadata.rev_tree=h.tree,p.stemmedRevs=h.stemmedRevs||[],l(p,d,n)}}var c=0;s()})}function Xt(e){try{return JSON.parse(e)}catch(t){return bn.a.parse(e)}}function Qt(e){try{return JSON.stringify(e)}catch(t){return bn.a.stringify(e)}}function Yt(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(T(Wn,r,t.type))}}function $t(e,t,r){return{data:Qt(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function er(e){if(!e)return null;var t=Xt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function tr(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function rr(e,t,r,o){r?o(e?"string"!==typeof e?e:Mt(e,t):Ct([""],{type:t})):e?"string"!==typeof e?zt(e,function(e){o(li(e))}):o(e):o("")}function or(e,t,r,o){function n(){++s===a.length&&o&&o()}function i(e,t){var o=e._attachments[t],i=o.digest;r.objectStore(yi).get(i).onsuccess=function(e){o.body=e.target.result.body,n()}}var a=Object.keys(e._attachments||{});if(!a.length)return o&&o();var s=0;a.forEach(function(r){t.attachments&&t.include_docs?i(e,r):(e._attachments[r].stub=!0,n())})}function nr(e,t){return xn.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return xn.all(r.map(function(r){var o=e.doc._attachments[r];if("body"in o){var n=o.body,i=o.content_type;return new xn(function(a){rr(n,i,t,function(t){e.doc._attachments[r]=Mn(f(o,["digest","content_type"]),{data:t}),a()})})}}))}}))}function ir(e,t,r){function o(){--l||n()}function n(){i.length&&i.forEach(function(e){c.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}})}var i=[],a=r.objectStore(mi),s=r.objectStore(yi),c=r.objectStore(fi),l=e.length;e.forEach(function(e){var r=a.index("_doc_id_rev"),n=t+"::"+e;r.getKey(n).onsuccess=function(e){var t=e.target.result;if("number"!==typeof t)return o();a.delete(t),c.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];i.push(r),c.delete(t.primaryKey),t.continue()}else o()}}})}function ar(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}function sr(e,t,r,o,n,i){function a(){var e=[hi,mi,yi,gi,fi,vi],t=ar(n,e,"readwrite");if(t.error)return i(t.error);_=t.txn,_.onabort=Yt(i),_.ontimeout=Yt(i),_.oncomplete=u,w=_.objectStore(hi),b=_.objectStore(mi),x=_.objectStore(yi),S=_.objectStore(fi),k=_.objectStore(vi),k.get(vi).onsuccess=function(e){E=e.target.result,l()},h(function(e){if(e)return F=!0,i(e);p()})}function s(){z=!0,l()}function c(){Zt(e.revs_limit,C,o,N,_,j,m,r,s)}function l(){E&&z&&(E.docCount+=O,k.put(E))}function p(){function e(){++r===C.length&&c()}function t(t){var r=er(t.target.result);r&&N.set(r.id,r),e()}if(C.length)for(var r=0,o=0,n=C.length;o<n;o++){var i=C[o];if(i._id&&pe(i._id))e();else{var a=w.get(i.metadata.id);a.onsuccess=t}}}function u(){F||(wi.notify(o._meta.name),i(null,j))}function d(e,t){x.get(e).onsuccess=function(r){if(r.target.result)t();else{var o=T(Gn,"unknown stub attachment with digest "+e);o.status=412,t(o)}}}function h(e){function t(){++n===r.length&&e(o)}var r=[];if(C.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var o=e.data._attachments[t];o.stub&&r.push(o.digest)})}),!r.length)return e();var o,n=0;r.forEach(function(e){d(e,function(e){e&&!o&&(o=e),t()})})}function m(e,t,r,o,n,i,a,s){e.metadata.winningRev=t,e.metadata.deleted=r;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,o&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return f(e,t,r,n,a,s);O+=i,l(),y(e,t,r,n,a,s)}function y(e,t,r,n,i,a){function s(i){var a=e.stemmedRevs||[];n&&o.auto_compaction&&(a=a.concat(X(e.metadata))),a&&a.length&&ir(a,e.metadata.id,_),u.seq=i.target.result;var s=$t(u,t,r);w.put(s).onsuccess=l}function c(e){e.preventDefault(),e.stopPropagation(),b.index("_doc_id_rev").getKey(p._doc_id_rev).onsuccess=function(e){b.put(p,e.target.result).onsuccess=s}}function l(){j[i]={ok:!0,id:u.id,rev:u.rev},N.set(e.metadata.id,e.metadata),v(e,u.seq,a)}var p=e.data,u=e.metadata;p._doc_id_rev=u.id+"::"+u.rev,delete p._id,delete p._rev;var d=b.put(p);d.onsuccess=s,d.onerror=c}function f(e,t,r,o,n,i){function a(){l===p.length&&y(e,t,r,o,n,i)}function s(){l++,a()}var c=e.data,l=0,p=Object.keys(c._attachments);p.forEach(function(r){var o=e.data._attachments[r];if(o.stub)l++,a();else{var n=o.data;delete o.data,o.revpos=parseInt(t,10);g(o.digest,n,s)}})}function v(e,t,r){function o(){++n===i.length&&r()}var n=0,i=Object.keys(e.data._attachments||{});if(!i.length)return r();for(var a=0;a<i.length;a++)!function(r){var n=e.data._attachments[r].digest,i=S.put({seq:t,digestSeq:n+"::"+t});i.onsuccess=o,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}(i[a])}function g(e,t,r){x.count(e).onsuccess=function(o){if(o.target.result)return r();var n={digest:e,body:t};x.put(n).onsuccess=r}}for(var _,w,b,x,S,k,P,E,C=t.docs,A=0,M=C.length;A<M;A++){var R=C[A];R._id&&pe(R._id)||(R=C[A]=Et(R,r.new_edits),R.error&&!P&&(P=R))}if(P)return i(P);var z=!1,O=0,j=new Array(C.length),N=new En,F=!1,I=o._meta.blobSupport?"blob":"base64";Gt(C,I,function(e){if(e)return i(e);a()})}function cr(e,t,r,o,n){function i(e){p=e.target.result,l&&n(l,p,u)}function a(e){l=e.target.result,p&&n(l,p,u)}function s(){if(!l.length)return n();var r,s=l[l.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(s,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return n()}else r=IDBKeyRange.lowerBound(s,!0);t=r,l=null,p=null,e.getAll(t,o).onsuccess=i,e.getAllKeys(t,o).onsuccess=a}function c(e){var t=e.target.result;if(!t)return n();n([t.key],[t.value],t)}var l,p,u,d="function"===typeof e.getAll&&"function"===typeof e.getAllKeys&&o>1&&!r;d?(u={continue:s},e.getAll(t,o).onsuccess=i,e.getAllKeys(t,o).onsuccess=a):r?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}function lr(e,t,r){function o(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}if("function"===typeof e.getAll)return void(e.getAll(t).onsuccess=r);var n=[];e.openCursor(t).onsuccess=o}function pr(e,t,r,o,n){try{if(e&&t)return n?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return n?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return n?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(o)return IDBKeyRange.only(o)}catch(e){return{error:e}}return null}function ur(e,t,r){function o(t,r,o){var n=t.id+"::"+o;P.get(n).onsuccess=function(o){if(r.doc=tr(o.target.result),e.conflicts){var n=Z(t);n.length&&(r.doc._conflicts=n)}or(r.doc,e,w)}}function n(t,r){var n={id:r.id,key:r.id,value:{rev:t}},i=r.deleted;"ok"===e.deleted?(E.push(n),i?(n.value.deleted=!0,n.doc=null):e.include_docs&&o(r,n,t)):!i&&h--<=0&&(E.push(n),e.include_docs&&o(r,n,t))}function i(e){for(var t=0,r=e.length;t<r&&E.length!==m;t++){var o=e[t],i=er(o);n(i.winningRev,i)}}function a(e,t,r){r&&(i(t),E.length<m&&r.continue())}function s(t){var r=t.target.result;e.descending&&(r=r.reverse()),i(r)}function c(){r(null,{total_rows:b,offset:e.skip,rows:E})}function l(){e.attachments?nr(E,e.binary).then(c):c()}var p="startkey"in e&&e.startkey,u="endkey"in e&&e.endkey,d="key"in e&&e.key,h=e.skip||0,m="number"===typeof e.limit?e.limit:-1,y=!1!==e.inclusive_end,f=pr(p,u,y,d,e.descending),v=f&&f.error;if(v&&("DataError"!==v.name||0!==v.code))return r(T(Wn,v.name,v.message));var g=[hi,mi,vi];e.attachments&&g.push(yi);var _=ar(t,g,"readonly");if(_.error)return r(_.error);var w=_.txn;w.oncomplete=l,w.onabort=Yt(r);var b,x=w.objectStore(hi),S=w.objectStore(mi),k=w.objectStore(vi),P=S.index("_doc_id_rev"),E=[];return k.get(vi).onsuccess=function(e){b=e.target.result.docCount},v||0===m?void 0:-1===m?lr(x,f,s):void cr(x,f,e.descending,m+h,a)}function dr(e){return new xn(function(t){var r=Ct([""]);e.objectStore(_i).put(r,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function hr(e,t){e.objectStore(hi).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function mr(e,t,r,o){try{e(t,r)}catch(t){o.emit("error",t)}}function yr(){!bi&&xi.length&&(bi=!0,xi.shift()())}function fr(e,t,r){xi.push(function(){e(function(e,o){mr(t,e,o,r),bi=!1,yn()(function(){yr(r)})})}),yr()}function vr(e,t,r,o){function n(t,r,o){function n(t,r){var o=e.processChange(r,t,e);d=o.seq=t.seq;var n=b(o);if("object"===typeof n)return e.complete(n);n&&(w++,m&&_.push(o),e.attachments&&e.include_docs?or(r,e,y,function(){nr([o],e.binary).then(function(){e.onChange(o)})}):e.onChange(o))}function i(){for(var e=0,t=s.length;e<t&&w!==h;e++){var r=s[e];if(r){n(c[e],r)}}w!==h&&o.continue()}if(o&&t.length){var s=new Array(t.length),c=new Array(t.length),l=0;r.forEach(function(e,r){a(tr(e),t[r],function(e,o){c[r]=e,s[r]=o,++l===t.length&&i()})})}}function i(e,t,r,o){if(r.seq!==t)return o();if(r.winningRev===e._rev)return o(r,e);var n=e._id+"::"+r.winningRev;g.get(n).onsuccess=function(e){o(r,tr(e.target.result))}}function a(e,t,r){if(u&&!u.has(e._id))return r();var o=x.get(e._id);if(o)return i(e,t,o,r);v.get(e._id).onsuccess=function(n){o=er(n.target.result),x.set(e._id,o),i(e,t,o,r)}}function c(){e.complete(null,{results:_,last_seq:d})}function l(){!e.continuous&&e.attachments?nr(_).then(c):c()}if(e=s(e),e.continuous){var p=r+":"+Yn();return wi.addListener(r,p,t,e),wi.notify(r),{cancel:function(){wi.removeListener(r,p)}}}var u=e.doc_ids&&new Pn(e.doc_ids);e.since=e.since||0;var d=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var m;m="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var y,f,v,g,_=[],w=0,b=z(e),x=new En,S=[hi,mi];e.attachments&&S.push(yi);var k=ar(o,S,"readonly");if(k.error)return e.complete(k.error);y=k.txn,y.onabort=Yt(e.complete),y.oncomplete=l,f=y.objectStore(mi),v=y.objectStore(hi),g=f.index("_doc_id_rev"),cr(f,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,n)}function gr(e,t){var r=this;fr(function(t){_r(r,e,t)},t,r.constructor)}function _r(e,t,r){function o(e){var t=e.createObjectStore(hi,{keyPath:"id"});e.createObjectStore(mi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(yi,{keyPath:"digest"}),e.createObjectStore(vi,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(_i),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(gi,{keyPath:"_id"});var r=e.createObjectStore(fi,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function n(e,t){var r=e.objectStore(hi);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var n=o.value,i=le(n);n.deletedOrLocal=i?"1":"0",r.put(n),o.continue()}else t()}}function i(e){e.createObjectStore(gi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var r=e.objectStore(gi),o=e.objectStore(hi),n=e.objectStore(mi);o.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,s=a.id,c=pe(s),l=H(a);if(c){var p=s+"::"+l,u=s+"::",d=s+"::~",h=n.index("_doc_id_rev"),m=IDBKeyRange.bound(u,d,!1,!1),y=h.openCursor(m);y.onsuccess=function(e){if(y=e.target.result){var t=y.value;t._doc_id_rev===p&&r.put(t),n.delete(y.primaryKey),y.continue()}else o.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function s(e){var t=e.createObjectStore(fi,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var r=e.objectStore(mi),o=e.objectStore(yi),n=e.objectStore(fi);o.count().onsuccess=function(e){if(!e.target.result)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var o=r.value,i=r.primaryKey,a=Object.keys(o._attachments||{}),s={},c=0;c<a.length;c++)s[o._attachments[a[c]].digest]=!0;var l=Object.keys(s);for(c=0;c<l.length;c++){var p=l[c];n.put({seq:i,digestSeq:p+"::"+i})}r.continue()}}}function p(e){function t(e){return e.data?er(e):(e.deleted="1"===e.deletedOrLocal,e)}var r=e.objectStore(mi),o=e.objectStore(hi);o.openCursor().onsuccess=function(e){function n(){var e=$t(a,a.winningRev,a.deleted);o.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||H(a),a.seq)return n();!function(){var e=a.id+"::",t=a.id+"::\uffff",o=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;o.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,n();var r=t.primaryKey;r>i&&(i=r),t.continue()}}()}}}var u=t.name,d=null;e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,o,n){sr(t,r,o,e,d,n)},e._get=function(e,t,r){function o(){r(a,{doc:n,metadata:i,ctx:s})}var n,i,a,s=t.ctx;if(!s){var c=ar(d,[hi,mi,yi],"readonly");if(c.error)return r(c.error);s=c.txn}s.objectStore(hi).get(e).onsuccess=function(e){if(!(i=er(e.target.result)))return a=T(zn,"missing"),o();var r;if(t.rev)r=t.latest?ue(t.rev,i):t.rev;else{r=i.winningRev;if(le(i))return a=T(zn,"deleted"),o()}var c=s.objectStore(mi),l=i.id+"::"+r;c.index("_doc_id_rev").get(l).onsuccess=function(e){if(n=e.target.result,n&&(n=tr(n)),!n)return a=T(zn,"missing"),o();o()}}},e._getAttachment=function(e,t,r,o,n){var i;if(o.ctx)i=o.ctx;else{var a=ar(d,[hi,mi,yi],"readonly");if(a.error)return n(a.error);i=a.txn}var s=r.digest,c=r.content_type;i.objectStore(yi).get(s).onsuccess=function(e){rr(e.target.result.body,c,o.binary,function(e){n(null,e)})}},e._info=function(t){var r,o,n=ar(d,[vi,mi],"readonly");if(n.error)return t(n.error);var i=n.txn;i.objectStore(vi).get(vi).onsuccess=function(e){o=e.target.result.docCount},i.objectStore(mi).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:o,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){ur(e,d,t)},e._changes=function(t){return vr(t,e,u,d)},e._close=function(e){d.close(),Si.delete(u),e()},e._getRevisionTree=function(e,t){var r=ar(d,[hi],"readonly");if(r.error)return t(r.error);r.txn.objectStore(hi).get(e).onsuccess=function(e){var r=er(e.target.result);r?t(null,r.rev_tree):t(T(zn))}},e._doCompaction=function(e,t,r){var o=[hi,mi,yi,fi],n=ar(d,o,"readwrite");if(n.error)return r(n.error);var i=n.txn;i.objectStore(hi).get(e).onsuccess=function(r){var o=er(r.target.result);G(o.rev_tree,function(e,r,o,n,i){var a=r+"-"+o;-1!==t.indexOf(a)&&(i.status="missing")}),ir(t,e,i);var n=o.winningRev,a=o.deleted;i.objectStore(hi).put($t(o,n,a))},i.onabort=Yt(r),i.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=ar(d,[gi],"readonly");if(r.error)return t(r.error);var o=r.txn,n=o.objectStore(gi).get(e);n.onerror=Yt(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(T(zn))}},e._putLocal=function(e,t,r){"function"===typeof t&&(r=t,t={}),delete e._revisions;var o=e._rev,n=e._id;e._rev=o?"0-"+(parseInt(o.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var s=ar(d,[gi],"readwrite");if(s.error)return r(s.error);a=s.txn,a.onerror=Yt(r),a.oncomplete=function(){i&&r(null,i)}}var c,l=a.objectStore(gi);o?(c=l.get(n),c.onsuccess=function(n){var a=n.target.result;if(a&&a._rev===o){l.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)}}else r(T(On))}):(c=l.add(e),c.onerror=function(e){r(T(On)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)})},e._removeLocal=function(e,t,r){"function"===typeof t&&(r=t,t={});var o=t.ctx;if(!o){var n=ar(d,[gi],"readwrite");if(n.error)return r(n.error);o=n.txn,o.oncomplete=function(){i&&r(null,i)}}var i,a=e._id,s=o.objectStore(gi),c=s.get(a);c.onerror=Yt(r),c.onsuccess=function(o){var n=o.target.result;n&&n._rev===e._rev?(s.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&r(null,i)):r(T(zn))}},e._destroy=function(e,t){wi.removeAllListeners(u);var r=ki.get(u);r&&r.result&&(r.result.close(),Si.delete(u));var o=indexedDB.deleteDatabase(u);o.onsuccess=function(){ki.delete(u),b()&&u in localStorage&&delete localStorage[u],t(null,{ok:!0})},o.onerror=Yt(t)};var h=Si.get(u);if(h)return d=h.idb,e._meta=h.global,yn()(function(){r(null,e)});var m;m=t.storage?wr(u,t.storage):indexedDB.open(u,di),ki.set(u,m),m.onupgradeneeded=function(e){function t(){var e=u[d-1];d++,e&&e(l,t)}var r=e.target.result;if(e.oldVersion<1)return o(r);var l=e.currentTarget.transaction;e.oldVersion<3&&i(r),e.oldVersion<4&&s(r);var u=[n,a,c,p],d=e.oldVersion;t()},m.onsuccess=function(t){function o(){"undefined"!==typeof s&&p&&(e._meta={name:u,instanceId:c,blobSupport:s},Si.set(u,{idb:d,global:e._meta}),r(null,e))}function n(){if("undefined"!==typeof a&&"undefined"!==typeof i){var e=u+"_id";e in i?c=i[e]:i[e]=c=Yn(),i.docCount=a,l.objectStore(vi).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Si.delete(u)},d.onabort=function(e){k("error","Database has a global failure",e.target.error),d.close(),Si.delete(u)};var i,a,s,c,l=d.transaction([vi,_i,hi],"readwrite"),p=!1;l.objectStore(vi).get(vi).onsuccess=function(e){i=e.target.result||{id:vi},n()},hr(l,function(e){a=e,n()}),ii||(ii=dr(l)),ii.then(function(e){s=e,o()}),l.oncomplete=function(){p=!0,o()}},m.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";k("error",e),r(T(Wn,e))}}function wr(e,t){try{return indexedDB.open(e,{version:di,storage:t})}catch(t){return indexedDB.open(e,di)}}function br(e){return decodeURIComponent(escape(e))}function xr(e){return e<65?e-48:e-55}function Sr(e,t,r){for(var o="";t<r;)o+=String.fromCharCode(xr(e.charCodeAt(t++))<<4|xr(e.charCodeAt(t++)));return o}function kr(e,t,r){for(var o="";t<r;)o+=String.fromCharCode(xr(e.charCodeAt(t+2))<<12|xr(e.charCodeAt(t+3))<<8|xr(e.charCodeAt(t))<<4|xr(e.charCodeAt(t+1))),t+=4;return o}function Pr(e,t){return"UTF-8"===t?br(Sr(e,0,e.length)):kr(e,0,e.length)}function Er(e){return"'"+e+"'"}function Cr(e){return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01")}function Ar(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02")}function Tr(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Mr(e,t,r){return e=JSON.parse(e),e._id=t,e._rev=r,e}function Rr(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function zr(e,t,r,o,n){return"SELECT "+e+" FROM "+("string"===typeof t?t:t.join(" JOIN "))+(r?" ON "+r:"")+(o?" WHERE "+("string"===typeof o?o:o.join(" AND ")):"")+(n?" ORDER BY "+n:"")}function Or(e,t,r){function o(){++i===e.length&&n()}function n(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+zi+" WHERE seq IN "+Rr(a.length);r.executeSql(e,a,function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).digest);if(r.length){var n="DELETE FROM "+zi+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(n,a,function(e){var t="SELECT digest FROM "+zi+" WHERE digest IN ("+r.map(function(){return"?"}).join(",")+")";e.executeSql(t,r,function(e,t){for(var o=new Pn,n=0;n<t.rows.length;n++)o.add(t.rows.item(n).digest);r.forEach(function(t){o.has(t)||(e.executeSql("DELETE FROM "+zi+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Ti+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var n="SELECT seq FROM "+Ai+" WHERE doc_id=? AND rev=?";r.executeSql(n,[t,e],function(e,t){if(!t.rows.length)return o();var r=t.rows.item(0).seq;a.push(r),e.executeSql("DELETE FROM "+Ai+" WHERE seq=?",[r],o)})})}}function jr(e){return function(t){k("error","WebSQL threw an error",t);var r=t&&t.constructor.toString().match(/function ([^(]+)/),o=r&&r[1]||t.type,n=t.target||t.message;e(T(Vn,n,o))}}function Nr(e){return"size"in e?1e6*e.size:"undefined"!==typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Fr(e,t,r,o,n,i,a){function s(){if(_)return a(_);i.notify(o._name),a(null,w)}function c(e,t){var r="SELECT count(*) as cnt FROM "+Ti+" WHERE digest=?";g.executeSql(r,[e],function(r,o){if(0===o.rows.item(0).cnt){var n=T(Gn,"unknown stub attachment with digest "+e);t(n)}else t()})}function l(e){function t(){++n===r.length&&e(o)}var r=[];if(f.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var o=e.data._attachments[t];o.stub&&r.push(o.digest)})}),!r.length)return e();var o,n=0;r.forEach(function(e){c(e,function(e){e&&!o&&(o=e),t()})})}function p(e,t,r,n,i,a,s,c){function l(){function t(e,t){function o(){return++n===i.length&&t(),!1}var n=0,i=Object.keys(r._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var n="INSERT INTO "+zi+" (digest, seq) VALUES (?,?)",i=[r._attachments[t].digest,e];g.executeSql(n,i,o,o)}(i[a])}var r=e.data,o=n?1:0,i=r._id,a=r._rev,s=Tr(r),c="INSERT INTO "+Ai+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",l=[i,a,s,o];g.executeSql(c,l,function(e,r){var o=r.insertId;t(o,function(){d(e,o)})},function(){var e=zr("seq",Ai,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,a],function(e,r){var n=r.rows.item(0).seq,c="UPDATE "+Ai+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",l=[s,o,i,a];e.executeSql(c,l,function(e){t(n,function(){d(e,n)})})}),!1})}function p(e){m||(e?(m=e,c(m)):y===f.length&&l())}function u(e){y++,p(e)}function d(r,n){var a=e.metadata.id,l=e.stemmedRevs||[];i&&o.auto_compaction&&(l=X(e.metadata).concat(l)),l.length&&Or(l,a,r),e.metadata.seq=n;var p=e.metadata.rev;delete e.metadata.rev;var u=i?"UPDATE "+Ci+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Ai+" WHERE doc_id="+Ci+".id AND rev=?) WHERE id=?":"INSERT INTO "+Ci+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=Qt(e.metadata),h=i?[d,n,t,a]:[a,n,n,d];r.executeSql(u,h,function(){w[s]={ok:!0,id:e.metadata.id,rev:p},b.set(a,e.metadata),c()})}var m=null,y=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var f=Object.keys(e.data._attachments||{});n&&(e.data._deleted=!0),f.forEach(function(r){var o=e.data._attachments[r];if(o.stub)y++,p();else{var n=o.data;delete o.data,o.revpos=parseInt(t,10);h(o.digest,n,u)}}),f.length||l()}function u(){Zt(e.revs_limit,f,o,b,g,w,p,r)}function d(e){function t(){++r===f.length&&e()}if(!f.length)return e();var r=0;f.forEach(function(e){if(e._id&&pe(e._id))return t();var r=e.metadata.id;g.executeSql("SELECT json FROM "+Ci+" WHERE id = ?",[r],function(e,o){if(o.rows.length){var n=Xt(o.rows.item(0).json);b.set(r,n)}t()})})}function h(e,t,r){var o="SELECT digest FROM "+Ti+" WHERE digest=?";g.executeSql(o,[e],function(n,i){if(i.rows.length)return r();o="INSERT INTO "+Ti+" (digest, body, escaped) VALUES (?,?,1)",n.executeSql(o,[e,Cr(t)],function(){r()},function(){return r(),!1})})}var m=r.new_edits,y=t.docs,f=y.map(function(e){return e._id&&pe(e._id)?e:Et(e,m)}),v=f.filter(function(e){return e.error});if(v.length)return a(v[0]);var g,_,w=new Array(f.length),b=new En;Gt(f,"binary",function(e){if(e)return a(e);n.transaction(function(e){g=e,l(function(e){e?_=e:d(u)})},jr(a),s)})}function Ir(e){return e.websql(e.name,e.version,e.description,e.size)}function Br(e){try{return{db:Ir(e)}}catch(e){return{error:e}}}function Dr(e){var t=Oi.get(e.name);return t||(t=Br(e),Oi.set(e.name,t)),t}function Lr(e,t,r,o,n){function i(){++c===s.length&&n&&n()}function a(e,n){var a=e._attachments[n],s={binary:t.binary,ctx:o};r._getAttachment(e._id,n,a,s,function(t,r){e._attachments[n]=Mn(f(a,["digest","content_type"]),{data:r}),i()})}var s=Object.keys(e._attachments||{});if(!s.length)return n&&n();var c=0;s.forEach(function(r){t.attachments&&t.include_docs?a(e,r):(e._attachments[r].stub=!0,i())})}function qr(e,t){function r(){b()&&(window.localStorage["_pouch__websqldb_"+_._name]=!0),t(null,_)}function o(e,t){e.executeSql(Bi),e.executeSql("ALTER TABLE "+Ai+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Fi),e.executeSql("ALTER TABLE "+Ci+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Ci+" (local, id)");var r="SELECT "+Ci+".winningseq AS seq, "+Ci+".json AS metadata FROM "+Ai+" JOIN "+Ci+" ON "+Ai+".seq = "+Ci+".winningseq";e.executeSql(r,[],function(e,r){for(var o=[],n=[],i=0;i<r.rows.length;i++){var a=r.rows.item(i),s=a.seq,c=JSON.parse(a.metadata);le(c)&&o.push(s),pe(c.id)&&n.push(c.id)}e.executeSql("UPDATE "+Ci+"SET local = 1 WHERE id IN "+Rr(n.length),n,function(){e.executeSql("UPDATE "+Ai+" SET deleted = 1 WHERE seq IN "+Rr(o.length),o,t)})})})})}function n(e,t){var r="CREATE TABLE IF NOT EXISTS "+Mi+" (id UNIQUE, rev, json)";e.executeSql(r,[],function(){var r="SELECT "+Ci+".id AS id, "+Ai+".json AS data FROM "+Ai+" JOIN "+Ci+" ON "+Ai+".seq = "+Ci+".winningseq WHERE local = 1";e.executeSql(r,[],function(e,r){function o(){if(!n.length)return t(e);var r=n.shift(),i=JSON.parse(r.data)._rev;e.executeSql("INSERT INTO "+Mi+" (id, rev, json) VALUES (?,?,?)",[r.id,i,r.data],function(e){e.executeSql("DELETE FROM "+Ci+" WHERE id=?",[r.id],function(e){e.executeSql("DELETE FROM "+Ai+" WHERE seq=?",[r.seq],function(){o()})})})}for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i));o()})})}function i(e,t){function r(r){function o(){if(!r.length)return t(e);var n=r.shift(),i=Pr(n.hex,g),a=i.lastIndexOf("::"),s=i.substring(0,a),c=i.substring(a+2),l="UPDATE "+Ai+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(l,[s,c,i],function(){o()})}o()}var o="ALTER TABLE "+Ai+" ADD COLUMN doc_id";e.executeSql(o,[],function(e){var t="ALTER TABLE "+Ai+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(Ii,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+Ai;e.executeSql(t,[],function(e,t){for(var o=[],n=0;n<t.rows.length;n++)o.push(t.rows.item(n));r(o)})})})})}function a(e,t){function r(e){var r="SELECT COUNT(*) AS cnt FROM "+Ti;e.executeSql(r,[],function(e,r){function o(){var r=zr(Ui+", "+Ci+".id AS id",[Ci,Ai],qi,null,Ci+".id ");r+=" LIMIT "+i+" OFFSET "+n,n+=i,e.executeSql(r,[],function(e,r){if(!r.rows.length)return t(e);for(var n={},i=0;i<r.rows.length;i++)for(var a=r.rows.item(i),s=Mr(a.data,a.id,a.rev),c=Object.keys(s._attachments||{}),l=0;l<c.length;l++){var p=s._attachments[c[l]];!function(e,t){var r=n[e]=n[e]||[];-1===r.indexOf(t)&&r.push(t)}(p.digest,a.seq)}var u=[];if(Object.keys(n).forEach(function(e){n[e].forEach(function(t){u.push([e,t])})}),!u.length)return o();var d=0;u.forEach(function(t){var r="INSERT INTO "+zi+" (digest, seq) VALUES (?,?)";e.executeSql(r,t,function(){++d===u.length&&o()})})})}if(!r.rows.item(0).cnt)return t(e);var n=0,i=10;o()})}var o="CREATE TABLE IF NOT EXISTS "+zi+" (digest, seq INTEGER)";e.executeSql(o,[],function(e){e.executeSql(Li,[],function(e){e.executeSql(Di,[],r)})})}function c(e,t){var r="ALTER TABLE "+Ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(r,[],t)}function p(e,t){var r="ALTER TABLE "+Ci+" ADD COLUMN max_seq INTEGER";e.executeSql(r,[],function(e){var r="UPDATE "+Ci+" SET max_seq=(SELECT MAX(seq) FROM "+Ai+" WHERE doc_id=id)";e.executeSql(r,[],function(e){var r="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Ci+" (max_seq)";e.executeSql(r,[],t)})})}function u(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,r){var o=r.rows.item(0).hex;g=2===o.length?"UTF-8":"UTF-16",t()})}function d(){for(;S.length>0;){S.pop()(null,w)}}function h(e,t){if(0===t){var r="CREATE TABLE IF NOT EXISTS "+Ri+" (dbid, db_version INTEGER)",s="CREATE TABLE IF NOT EXISTS "+Ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+zi+" (digest, seq INTEGER)",u="CREATE TABLE IF NOT EXISTS "+Ci+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+Ai+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",m="CREATE TABLE IF NOT EXISTS "+Mi+" (id UNIQUE, rev, json)";e.executeSql(s),e.executeSql(m),e.executeSql(l,[],function(){e.executeSql(Di),e.executeSql(Li)}),e.executeSql(u,[],function(){e.executeSql(Bi),e.executeSql(h,[],function(){e.executeSql(Fi),e.executeSql(Ii),e.executeSql(r,[],function(){var t="INSERT INTO "+Ri+" (db_version, dbid) VALUES (?,?)";w=Yn();var r=[Ei,w];e.executeSql(t,r,function(){d()})})})})}else{var y=function(){t<Ei&&e.executeSql("UPDATE "+Ri+" SET db_version = "+Ei);var r="SELECT dbid FROM "+Ri;e.executeSql(r,[],function(e,t){w=t.rows.item(0).dbid,d()})},f=[o,n,i,a,c,p,y],v=t,g=function(e){f[v-1](e,g),v++};g(e)}}function m(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Ri;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Ri,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+Ri+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function y(e,t){var r="SELECT MAX(seq) AS seq FROM "+Ai;e.executeSql(r,[],function(e,r){var o=r.rows.item(0).seq||0;t(o)})}function f(e,t){var r=zr("COUNT("+Ci+".id) AS 'num'",[Ci,Ai],qi,Ai+".deleted=0");e.executeSql(r,[],function(e,r){t(r.rows.item(0).num)})}function v(e,t,r,o,n){var i=zr(Ui,[Ci,Ai],qi,Ci+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=T(zn,"missing");return n(i)}var a=t.rows.item(0),s=Xt(a.metadata);o(ue(r,s))})}var g,_=this,w=null,x=Nr(e),S=[];_._name=e.name;var k=Mn({},e,{version:Ni,description:e.name,size:x}),P=Dr(k);if(P.error)return jr(t)(P.error);var E=P.db;"function"!==typeof E.readTransaction&&(E.readTransaction=E.transaction),function(){E.transaction(function(e){u(e,function(){m(e)})},jr(t),r)}(),_._remote=!1,_.type=function(){return"websql"},_._id=l(function(e){e(null,w)}),_._info=function(e){var t,r;E.readTransaction(function(e){y(e,function(e){t=e}),f(e,function(e){r=e})},jr(e),function(){e(null,{doc_count:r,update_seq:t,websql_encoding:g})})},_._bulkDocs=function(t,r,o){Fr(e,t,r,_,E,ji,o)},_._get=function(e,t,r){function o(e){r(e,{doc:n,metadata:i,ctx:a})}var n,i,a=t.ctx;if(!a)return E.readTransaction(function(o){_._get(e,Mn({ctx:o},t),r)});var s,c;if(t.rev){if(t.latest)return void v(a,e,t.rev,function(o){t.latest=!1,t.rev=o,_._get(e,t,r)},o);s=zr(Ui,[Ci,Ai],Ci+".id="+Ai+".doc_id",[Ai+".doc_id=?",Ai+".rev=?"]),c=[e,t.rev]}else s=zr(Ui,[Ci,Ai],qi,Ci+".id=?"),c=[e];a.executeSql(s,c,function(e,r){if(!r.rows.length){return o(T(zn,"missing"))}var a=r.rows.item(0);if(i=Xt(a.metadata),a.deleted&&!t.rev){return o(T(zn,"deleted"))}n=Mr(a.data,i.id,a.rev),o()})},_._allDocs=function(e,t){var r,o=[],n="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,s="descending"in e&&e.descending,c="limit"in e?e.limit:-1,l="skip"in e?e.skip:0,p=!1!==e.inclusive_end,u=[],d=[];if(!1!==a)d.push(Ci+".id = ?"),u.push(a);else if(!1!==n||!1!==i){if(!1!==n&&(d.push(Ci+".id "+(s?"<=":">=")+" ?"),u.push(n)),!1!==i){var h=s?">":"<";p&&(h+="="),d.push(Ci+".id "+h+" ?"),u.push(i)}!1!==a&&(d.push(Ci+".id = ?"),u.push(a))}"ok"!==e.deleted&&d.push(Ai+".deleted = 0"),E.readTransaction(function(t){if(f(t,function(e){r=e}),0!==c){var n=zr(Ui,[Ci,Ai],qi,d,Ci+".id "+(s?"DESC":"ASC"));n+=" LIMIT "+c+" OFFSET "+l,t.executeSql(n,u,function(t,r){for(var n=0,i=r.rows.length;n<i;n++){var a=r.rows.item(n),s=Xt(a.metadata),c=s.id,l=Mr(a.data,c,a.rev),p=l._rev,u={id:c,key:c,value:{rev:p}};if(e.include_docs){if(u.doc=l,u.doc._rev=p,e.conflicts){var d=Z(s);d.length&&(u.doc._conflicts=d)}Lr(u.doc,e,_,t)}if(a.deleted){if("ok"!==e.deleted)continue;u.value.deleted=!0,u.doc=null}o.push(u)}})}},jr(t),function(){t(null,{total_rows:r,offset:e.skip,rows:o})})},_._changes=function(e){if(e=s(e),e.continuous){var t=_._name+":"+Yn();return ji.addListener(_._name,t,_,e),ji.notify(_._name),{cancel:function(){ji.removeListener(_._name,t)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var o="limit"in e?e.limit:-1;0===o&&(o=1);var n;n="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Ci+".json AS metadata, "+Ci+".max_seq AS maxSeq, "+Ai+".json AS winningDoc, "+Ai+".rev AS winningRev ",s=Ci+" JOIN "+Ai,c=Ci+".id="+Ai+".doc_id AND "+Ci+".winningseq="+Ai+".seq",l=["maxSeq > ?"],p=[e.since];e.doc_ids&&(l.push(Ci+".id IN "+Rr(e.doc_ids.length)),p=p.concat(e.doc_ids));var u="maxSeq "+(r?"DESC":"ASC"),d=zr(t,s,c,l,u),h=z(e);e.view||e.filter||(d+=" LIMIT "+o);var m=e.since||0;E.readTransaction(function(t){t.executeSql(d,p,function(t,r){function s(t){return function(){e.onChange(t)}}for(var c=0,l=r.rows.length;c<l;c++){var p=r.rows.item(c),u=Xt(p.metadata);m=p.maxSeq;var d=Mr(p.winningDoc,u.id,p.winningRev),y=e.processChange(d,u,e);y.seq=p.maxSeq;var f=h(y);if("object"===typeof f)return e.complete(f);if(f&&(a++,n&&i.push(y),e.attachments&&e.include_docs?Lr(d,e,_,t,s(y)):s(y)()),a===o)break}})},jr(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:m})})}()},_._close=function(e){e()},_._getAttachment=function(e,t,r,o,n){var i,a=o.ctx,s=r.digest,c=r.content_type,l="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Ti+" WHERE digest=?";a.executeSql(l,[s],function(e,t){var r=t.rows.item(0),a=r.escaped?Ar(r.body):Pr(r.body,g);i=o.binary?Tt(a,c):li(a),n(null,i)})},_._getRevisionTree=function(e,t){E.readTransaction(function(r){var o="SELECT json AS metadata FROM "+Ci+" WHERE id = ?";r.executeSql(o,[e],function(e,r){if(r.rows.length){var o=Xt(r.rows.item(0).metadata);t(null,o.rev_tree)}else t(T(zn))})})},_._doCompaction=function(e,t,r){if(!t.length)return r();E.transaction(function(r){var o="SELECT json AS metadata FROM "+Ci+" WHERE id = ?";r.executeSql(o,[e],function(r,o){var n=Xt(o.rows.item(0).metadata);G(n.rev_tree,function(e,r,o,n,i){var a=r+"-"+o;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Ci+" SET json = ? WHERE id = ?";r.executeSql(i,[Qt(n),e])}),Or(t,e,r)},jr(r),function(){r()})},_._getLocal=function(e,t){E.readTransaction(function(r){var o="SELECT json, rev FROM "+Mi+" WHERE id=?";r.executeSql(o,[e],function(r,o){if(o.rows.length){var n=o.rows.item(0),i=Mr(n.json,e,n.rev);t(null,i)}else t(T(zn))})})},_._putLocal=function(e,t,r){function o(e){var o,l;i?(o="UPDATE "+Mi+" SET rev=?, json=? WHERE id=? AND rev=?",l=[n,c,a,i]):(o="INSERT INTO "+Mi+" (id, rev, json) VALUES (?,?,?)",l=[a,n,c]),e.executeSql(o,l,function(e,o){o.rowsAffected?(s={ok:!0,id:a,rev:n},t.ctx&&r(null,s)):r(T(On))},function(){return r(T(On)),!1})}"function"===typeof t&&(r=t,t={}),delete e._revisions;var n,i=e._rev,a=e._id;n=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,c=Tr(e);t.ctx?o(t.ctx):E.transaction(o,jr(r),function(){s&&r(null,s)})},_._removeLocal=function(e,t,r){function o(o){var i="DELETE FROM "+Mi+" WHERE id=? AND rev=?",a=[e._id,e._rev];o.executeSql(i,a,function(o,i){if(!i.rowsAffected)return r(T(zn));n={ok:!0,id:e._id,rev:"0-0"},t.ctx&&r(null,n)})}"function"===typeof t&&(r=t,t={});var n;t.ctx?o(t.ctx):E.transaction(o,jr(r),function(){n&&r(null,n)})},_._destroy=function(e,t){ji.removeAllListeners(_._name),E.transaction(function(e){[Ci,Ai,Ti,Ri,Mi,zi].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},jr(t),function(){b()&&(delete window.localStorage["_pouch__websqldb_"+_._name],delete window.localStorage[_._name]),t(null,{ok:!0})})}}function Ur(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Wr(){if("undefined"===typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=b(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var r=Ur();return e&&(localStorage[t]=r?"1":"0"),r}function Vr(){return"function"===typeof openDatabase&&Wr()}function Hr(e,t,r,o){return openDatabase(e,t,r,o)}function Gr(e,t){var r=Mn({websql:Hr},e);qr.call(this,r,t)}function Kr(){for(var e={},t=new xn(function(t,r){e.resolve=t,e.reject=r}),r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.promise=t,xn.resolve().then(function(){return fetch.apply(null,r)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function Jr(e,t){var r,o,n,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!==typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),r=Kr(e.url,a),e.timeout>0&&(o=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),r.promise.then(function(t){return n={statusCode:t.status},e.timeout>0&&clearTimeout(o),n.statusCode>=200&&n.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){n.statusCode>=200&&n.statusCode<300?t(null,n,e):(e.status=n.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:r.reject}}function Zr(e,t){var r,o,n=!1,i=function(){r.abort(),c()},a=function(){n=!0,r.abort(),c()},s={abort:i},c=function(){clearTimeout(o),s.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=e.xhr?new e.xhr:new XMLHttpRequest;try{r.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}r.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!==typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(r.responseType="arraybuffer"),"body"in e||(e.body=null);for(var l in e.headers)e.headers.hasOwnProperty(l)&&r.setRequestHeader(l,e.headers[l]);return e.timeout>0&&(o=setTimeout(a,e.timeout),r.onprogress=function(){clearTimeout(o),4!==r.readyState&&(o=setTimeout(a,e.timeout))},"undefined"!==typeof r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var o={statusCode:r.status};if(r.status>=200&&r.status<300){var i;i=e.binary?Ct([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,t(null,o,i)}else{var a={};if(n)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"===typeof r.response)try{a=JSON.parse(r.response)}catch(e){}a.status=r.status,t(a)}c()}},e.body&&e.body instanceof Blob?Nt(e.body,function(e){r.send(e)}):r.send(e.body),s}function Xr(e,t){return Vi||e.xhr?Zr(e,t):Jr(e,t)}function Qr(){return""}function Yr(e,t){function r(t,r,o){if(!e.binary&&e.json&&"string"===typeof t)try{t=JSON.parse(t)}catch(e){return o(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?M(e):e})),e.binary&&Hi(t,r),o(null,t,r)}return e=s(e),e=Mn({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),Xr(e,function(o,n,i){if(o)return t(M(o));var a,s=n.headers&&n.headers["content-type"],c=i||Qr();if(!e.binary&&(e.json||!e.processData)&&"object"!==typeof c&&(/json/.test(s)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(e){}n.statusCode>=200&&n.statusCode<300?r(c,n,t):(a=M(c),a.status=n.statusCode,t(a))})}function $r(e,t){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",o=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),n=-1!==r.indexOf("msie"),i=-1!==r.indexOf("edge"),a=o||(n||i)&&"GET"===e.method,s=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!s)){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}return Yr(e,t)}function eo(e,t){return new xn(function(r,o){function n(){p++,e[u++]().then(a,s)}function i(){++d===h?l?o(l):r():c()}function a(){p--,i()}function s(e){p--,l=l||e,i()}function c(){for(;p<t&&u<h;)n()}var l,p=0,u=0,d=0,h=e.length;c()})}function to(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];r.data=Mt(r.data,r.content_type)})}function ro(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function oo(e){return e._attachments&&Object.keys(e._attachments)?xn.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!==typeof r.data)return new xn(function(e){jt(r.data,e)}).then(function(e){r.data=e})})):xn.resolve()}function no(e){if(!e.prefix)return!1;var t=L(e.prefix).protocol;return"http"===t||"https"===t}function io(e,t){if(no(t)){var r=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(r)}var o=L(e);(o.user||o.password)&&(o.auth={username:o.user,password:o.password});var n=o.path.replace(/(^\/|\/$)/g,"").split("/");return o.db=n.pop(),-1===o.db.indexOf("%")&&(o.db=encodeURIComponent(o.db)),o.path=n.join("/"),o}function ao(e,t){return so(e,e.db+"/"+t)}function so(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function co(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function lo(e,t){function r(e,t,r){var o=e.ajax||{},n=Mn(s(d),o,t),i=s(d.headers||{});return n.headers=Mn(i,o.headers,t.headers||{}),c.constructor.listeners("debug").length&&c.constructor.emit("debug",["http",n.method,n.url]),c._ajax(n,r)}function o(e,t){return new xn(function(o,n){r(e,t,function(e,t){if(e)return n(e);o(t)})})}function n(e,t){return u(e,pn()(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?xn.resolve():v||(v=o({},{method:"GET",url:p}).catch(function(e){return e&&e.status&&404===e.status?(C(404,"PouchDB is just detecting if the remote exists."),o({},{method:"PUT",url:p})):xn.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||xn.reject(e)}),v.catch(function(){v=null}),v)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var c=this,l=io(e.name,e),p=ao(l,"");e=s(e);var d=e.ajax||{};if(e.auth||l.auth){var h=e.auth||l.auth,m=h.username+":"+h.password,y=li(unescape(encodeURIComponent(m)));d.headers=d.headers||{},d.headers.Authorization="Basic "+y}c._ajax=$r;var v;yn()(function(){t(null,c)}),c._remote=!0,c.type=function(){return"http"},c.id=n("id",function(e){r({},{method:"GET",url:so(l,"")},function(t,r){var o=r&&r.uuid?r.uuid+l.db:ao(l,"");e(null,o)})}),c.request=n("request",function(e,t){e.url=ao(l,e.url),r({},e,t)}),c.compact=n("compact",function(e,t){"function"===typeof e&&(t=e,e={}),e=s(e),r(e,{url:ao(l,"_compact"),method:"POST"},function(){function r(){c.info(function(o,n){n&&!n.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}r()})}),c.bulkGet=u("bulkGet",function(e,t){function o(t){var o={};e.revs&&(o.revs=!0),e.attachments&&(o.attachments=!0),e.latest&&(o.latest=!0),r(e,{url:ao(l,"_bulk_get"+co(o)),method:"POST",body:{docs:e.docs}},t)}function n(){for(var r=Ki,o=Math.ceil(e.docs.length/r),n=0,a=new Array(o),s=0;s<o;s++){var c=f(e,["revs","attachments","latest"]);c.ajax=d,c.docs=e.docs.slice(s*r,Math.min(e.docs.length,(s+1)*r)),_(i,c,function(e){return function(r,i){a[e]=i.results,++n===o&&t(null,{results:O(a)})}}(s))}}var i=this,a=so(l,""),s=Xi[a];"boolean"!==typeof s?o(function(e,r){e?(Xi[a]=!1,C(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),n()):(Xi[a]=!0,t(null,r))}):s?o(t):n()}),c._info=function(e){i().then(function(){r({},{method:"GET",url:ao(l,"")},function(t,r){if(t)return e(t);r.host=ao(l,""),e(null,r)})}).catch(e)},c.get=n("get",function(e,t,r){function n(e){function r(r){var i=n[r],s=ro(e._id)+"/"+a(r)+"?rev="+e._rev;return o(t,{method:"GET",url:ao(l,s),binary:!0}).then(function(e){return t.binary?e:new xn(function(t){jt(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length){return eo(i.map(function(e){return function(){return r(e)}}),5)}}function i(e){return Array.isArray(e)?xn.all(e.map(function(e){if(e.ok)return n(e.ok)})):n(e)}"function"===typeof t&&(r=t,t={}),t=s(t);var c={};t.revs&&(c.revs=!0),t.revs_info&&(c.revs_info=!0),t.latest&&(c.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),c.open_revs=t.open_revs),t.rev&&(c.rev=t.rev),t.conflicts&&(c.conflicts=t.conflicts),e=ro(e);var p={method:"GET",url:ao(l,e+co(c))};o(t,p).then(function(e){return xn.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){r(null,e)})}).catch(function(t){t.docId=e,r(t)})}),c.remove=n("remove",function(e,t,o,n){var i;"string"===typeof t?(i={_id:e,_rev:t},"function"===typeof o&&(n=o,o={})):(i=e,"function"===typeof t?(n=t,o={}):(n=o,o=t));var a=i._rev||o.rev;r(o,{method:"DELETE",url:ao(l,ro(i._id))+"?rev="+a},n)}),c.getAttachment=n("getAttachment",function(e,t,o,n){"function"===typeof o&&(n=o,o={});var i=o.rev?"?rev="+o.rev:"";r(o,{method:"GET",url:ao(l,ro(e))+"/"+a(t)+i,binary:!0},n)}),c.removeAttachment=n("removeAttachment",function(e,t,o,n){r({},{method:"DELETE",url:ao(l,ro(e)+"/"+a(t))+"?rev="+o},n)}),c.putAttachment=n("putAttachment",function(e,t,o,n,i,s){"function"===typeof i&&(s=i,i=n,n=o,o=null);var c=ro(e)+"/"+a(t),p=ao(l,c);if(o&&(p+="?rev="+o),"string"===typeof n){var u;try{u=ci(n)}catch(e){return s(T(Bn,"Attachment is not a valid base64 string"))}n=u?Tt(u,i):""}r({},{headers:{"Content-Type":i},method:"PUT",url:p,processData:!1,body:n,timeout:d.timeout||6e4},s)}),c._bulkDocs=function(e,t,o){e.new_edits=t.new_edits,i().then(function(){return xn.all(e.docs.map(oo))}).then(function(){r(t,{method:"POST",url:ao(l,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return o(e);t.forEach(function(e){e.ok=!0}),o(null,t)})}).catch(o)},c._put=function(e,t,o){i().then(function(){return oo(e)}).then(function(){r(t,{method:"PUT",url:ao(l,ro(e._id)),body:e},function(t,r){if(t)return t.docId=e&&e._id,o(t);o(null,r)})}).catch(o)},c.allDocs=n("allDocs",function(e,t){"function"===typeof e&&(t=e,e={}),e=s(e);var r,n={},i="GET";e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),"undefined"!==typeof e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),"undefined"!==typeof e.limit&&(n.limit=e.limit),"undefined"!==typeof e.skip&&(n.skip=e.skip);var a=co(n);"undefined"!==typeof e.keys&&(i="POST",r={keys:e.keys}),o(e,{method:i,url:ao(l,"_all_docs"+a),body:r}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.rows.forEach(to),t(null,r)}).catch(t)}),c._changes=function(e){var t="batch_size"in e?e.batch_size:Gi;e=s(e),!e.continuous||"heartbeat"in e||(e.heartbeat=Zi);var o="timeout"in e?e.timeout:"timeout"in d?d.timeout:3e4;"timeout"in e&&e.timeout&&o-e.timeout<Ji&&(o=e.timeout+Ji),"heartbeat"in e&&e.heartbeat&&o-e.heartbeat<Ji&&(o=e.heartbeat+Ji);var n={};"timeout"in e&&e.timeout&&(n.timeout=e.timeout);var a,c="undefined"!==typeof e.limit&&e.limit;a="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var p=c;if(e.style&&(n.style=e.style),(e.include_docs||e.filter&&"function"===typeof e.filter)&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.continuous&&(n.feed="longpoll"),e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),"heartbeat"in e&&e.heartbeat&&(n.heartbeat=e.heartbeat),e.filter&&"string"===typeof e.filter&&(n.filter=e.filter),e.view&&"string"===typeof e.view&&(n.filter="_view",n.view=e.view),e.query_params&&"object"===typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(n[u]=e.query_params[u]);var h,m="GET";e.doc_ids?(n.filter="_doc_ids",m="POST",h={doc_ids:e.doc_ids}):e.selector&&(n.filter="_selector",m="POST",h={selector:e.selector});var y,f,v=function(a,s){if(!e.aborted){n.since=a,"object"===typeof n.since&&(n.since=JSON.stringify(n.since)),e.descending?c&&(n.limit=p):n.limit=!c||p>t?t:p;var u={method:m,url:ao(l,"_changes"+co(n)),timeout:o,body:h};f=a,e.aborted||i().then(function(){y=r(e,u,s)}).catch(s)}},g={results:[]},_=function(r,o){if(!e.aborted){var n=0;if(o&&o.results){n=o.results.length,g.last_seq=o.last_seq;({}).query=e.query_params,o.results=o.results.filter(function(t){p--;var r=z(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&to(t),a&&g.results.push(t),e.onChange(t)),r})}else if(r)return e.aborted=!0,void e.complete(r);o&&o.last_seq&&(f=o.last_seq);var i=c&&p<=0||o&&n<t||e.descending;(!e.continuous||c&&p<=0)&&i?e.complete(null,g):yn()(function(){v(f,_)})}};return v(e.since||0,_),{cancel:function(){e.aborted=!0,y&&y.abort()}}},c.revsDiff=n("revsDiff",function(e,t,o){"function"===typeof t&&(o=t,t={}),r(t,{method:"POST",url:ao(l,"_revs_diff"),body:e},o)}),c._close=function(e){e()},c._destroy=function(e,t){r(e,{url:ao(l,""),method:"DELETE"},function(e,r){if(e&&e.status&&404!==e.status)return t(e);t(null,r)})}}function po(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,po)}catch(e){}}function uo(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,uo)}catch(e){}}function ho(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,ho)}catch(e){}}function mo(e,t){return t&&e.then(function(e){yn()(function(){t(null,e)})},function(e){yn()(function(){t(e)})}),e}function yo(e){return pn()(function(t){var r=t.pop(),o=e.apply(this,t);return"function"===typeof r&&mo(o,r),o})}function fo(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function vo(e,t){return function(){var r=arguments,o=this;return e.add(function(){return t.apply(o,r)})}}function go(e){var t=new Pn(e),r=new Array(t.size),o=-1;return t.forEach(function(e){r[++o]=e}),r}function _o(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,o){t[++r]=o}),t}function wo(e){return new ho("builtin "+e+" function requires map values to be numbers or number arrays")}function bo(e){for(var t=0,r=0,o=e.length;r<o;r++){var n=e[r];if("number"!==typeof n){if(!Array.isArray(n))throw wo("_sum");t="number"===typeof t?[t]:t;for(var i=0,a=n.length;i<a;i++){var s=n[i];if("number"!==typeof s)throw wo("_sum");"undefined"===typeof t[i]?t.push(s):t[i]+=s}}else"number"===typeof t?t+=n:t[0]+=n}return t}function xo(e,t){return q("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:bo,log:Yi,isArray:$i,toJSON:ea})}function So(){this.promise=new xn(function(e){e()})}function ko(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Po(e,t){return ko(e)+ko(t)+"undefined"}function Eo(e,t,r,o,n,i){var a,s=Po(r,o);if(!n&&(a=e._cachedViews=e._cachedViews||{},a[s]))return a[s];var c=e.info().then(function(c){function l(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var o=e.views[r]=e.views[r]||{};if(!o[p])return o[p]=!0,e}var p=c.db_name+"-mrview-"+(n?"temp":qt(s));return U(e,"_local/"+i,l).then(function(){return e.registerDependentDatabase(p).then(function(t){var n=t.db;n.auto_compaction=!0;var i={name:p,db:n,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:o};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,a&&i.db.once("destroyed",function(){delete a[s]}),i})})})});return a&&(a[s]=c),c}function Co(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Ao(e){return 1===e.length&&/^1-/.test(e[0].rev)}function To(e,t){try{e.emit("error",t)}catch(e){k("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),k("error",t)}}function Mo(e){if(/^_sum/.test(e))return na._sum;if(/^_count/.test(e))return na._count;if(/^_stats/.test(e))return na._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Ro(e,t){if("function"===typeof e&&2===e.length){var r=e;return function(e){return r(e,t)}}return xo(e.toString(),t)}function zo(e){var t=e.toString(),r=Mo(t);return r||xo(t)}function Oo(e,t){var r=e.views&&e.views[t];if("string"!==typeof r.map)throw new uo("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}function jo(e,t,r){return ia.query.call(this,e,t,r)}function No(e){return ia.viewCleanup.call(this,e)}function Fo(e){return/^1-/.test(e)}function Io(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function Bo(e,t){var r=Object.keys(t._attachments);return xn.all(r.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function Do(e,t,r){var o=F(t)&&!F(e),n=Object.keys(r._attachments);return o?e.get(r._id).then(function(o){return xn.all(n.map(function(n){return Io(o,r,n)?t.getAttachment(r._id,n):e.getAttachment(o._id,n)}))}).catch(function(e){if(404!==e.status)throw e;return Bo(t,r)}):Bo(t,r)}function Lo(e){var t=[];return Object.keys(e).forEach(function(r){e[r].missing.forEach(function(e){t.push({id:r,rev:e})})}),{docs:t,revs:!0,latest:!0}}function qo(e,t,r,o){function n(){var n=Lo(r);if(n.docs.length)return e.bulkGet(n).then(function(r){if(o.cancelled)throw new Error("cancelled");return xn.all(r.results.map(function(r){return xn.all(r.docs.map(function(r){var o=r.ok;return r.error&&(d=!1),o&&o._attachments?Do(t,e,o).then(function(e){var t=Object.keys(o._attachments);return e.forEach(function(e,r){var n=o._attachments[t[r]];delete n.stub,delete n.length,n.data=e}),o}):o}))})).then(function(e){u=u.concat(O(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function c(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(o.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!Fo(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,u.push(e.doc),delete r[e.id])})})}function l(){var e=Object.keys(r).filter(function(e){var t=r[e].missing;return 1===t.length&&Fo(t[0])});if(e.length>0)return c(e)}function p(){return{ok:d,docs:u}}r=s(r);var u=[],d=!0;return xn.resolve().then(l).then(n).then(p)}function Uo(e,t,r,o,n){return e.get(t).catch(function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||C(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:o,_id:t,history:[],replicator:ca,version:sa};throw r}).then(function(i){if(!n.cancelled&&i.last_seq!==r)return i.history=(i.history||[]).filter(function(e){return e.session_id!==o}),i.history.unshift({last_seq:r,session_id:o}),i.history=i.history.slice(0,la),i.version=sa,i.replicator=ca,i.session_id=o,i.last_seq=r,e.put(i).catch(function(i){if(409===i.status)return Uo(e,t,r,o,n);throw i})})}function Wo(e,t,r,o,n){this.src=e,this.target=t,this.id=r,this.returnValue=o,this.opts=n}function Vo(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Ho(e.history,t.history)}function Ho(e,t){var r=e[0],o=e.slice(1),n=t[0],i=t.slice(1);return r&&0!==t.length?Go(r.session_id,t)?{last_seq:r.last_seq,history:e}:Go(n.session_id,o)?{last_seq:n.last_seq,history:i}:Ho(o,i):{last_seq:pa,history:[]}}function Go(e,t){var r=t[0],o=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||Go(e,o))}function Ko(e){return"number"===typeof e.status&&4===Math.floor(e.status/100)}function Jo(e,t,r,o){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!==typeof e.back_off_function&&(e.back_off_function=E),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var n=function(){e.current_back_off=da},i=function(){t.removeListener("active",n)};t.once("paused",i),t.once("active",n)}e.current_back_off=e.current_back_off||da,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(o,e.current_back_off)}function Zo(e){return Object.keys(e).sort(We).reduce(function(t,r){return t[r]=e[r],t},{})}function Xo(e,t,r){var o=r.doc_ids?r.doc_ids.sort(We):"",n=r.filter?r.filter.toString():"",i="",a="",s="";return r.selector&&(s=JSON.stringify(r.selector)),r.filter&&r.query_params&&(i=JSON.stringify(Zo(r.query_params))),r.filter&&"_view"===r.filter&&(a=r.view.toString()),xn.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+n+a+i+o+s;return new xn(function(e){Lt(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Qo(e,t,r,o,n){function i(){return S?xn.resolve():Xo(e,t,r).then(function(n){x=n;var i={};i=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},S=new Wo(e,t,x,o,i)})}function a(){if(B=[],0!==b.docs.length){var e=b.docs,i={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(o.cancelled)throw m(),new Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var i=Object.keys(r).length;n.doc_write_failures+=i,n.docs_written+=e.length-i,e.forEach(function(e){var t=r[e._id];if(t){if(n.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;o.emit("denied",s(t))}else B.push(e)})},function(t){throw n.doc_write_failures+=e.length,t})}}function c(){if(b.error)throw new Error("There was a problem getting docs.");n.last_seq=M=b.seq;var e=s(n);return B.length&&(e.docs=B,o.emit("change",e)),E=!0,S.writeCheckpoint(b.seq,D).then(function(){if(E=!1,o.cancelled)throw m(),new Error("cancelled");b=void 0,g()}).catch(function(e){throw w(e),e})}function l(){var e={};return b.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(o.cancelled)throw m(),new Error("cancelled");b.diffs=e})}function p(){return qo(e,t,b.diffs,o).then(function(e){b.error=!e.ok,e.docs.forEach(function(e){delete b.diffs[e._id],n.docs_read++,b.docs.push(e)})})}function u(){if(!o.cancelled&&!b){if(0===k.length)return void d(!0);b=k.shift(),l().then(p).then(a).then(c).then(u).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===P.changes.length)return void(0!==k.length||b||((R&&L.live||C)&&(o.state="pending",o.emit("paused")),C&&m()));(e||C||P.changes.length>=O)&&(k.push(P),P={seq:0,changes:[],docs:[]},"pending"!==o.state&&"stopped"!==o.state||(o.state="active",o.emit("active")),u())}function h(e,t){A||(t.message||(t.message=e),n.ok=!1,n.status="aborting",k=[],P={seq:0,changes:[],docs:[]},m(t))}function m(i){A||o.cancelled&&(n.status="cancelled",E)||(n.status=n.status||"complete",n.end_time=new Date,n.last_seq=M,A=!0,i?(i=T(i),i.result=n,"unauthorized"===i.name||"forbidden"===i.name?(o.emit("error",i),o.removeAllListeners()):Jo(r,o,i,function(){Qo(e,t,r,o)})):(o.emit("complete",n),o.removeAllListeners()))}function y(e){if(o.cancelled)return m();z(r)(e)&&(P.seq=e.seq,P.changes.push(e),d(0===k.length&&L.live))}function f(e){if(N=!1,o.cancelled)return m();if(e.results.length>0)L.since=e.last_seq,g(),d(!0);else{var t=function(){R?(L.live=!0,g()):C=!0,d(!0)};b||0!==e.results.length?t():(E=!0,S.writeCheckpoint(e.last_seq,D).then(function(){E=!1,n.last_seq=M=e.last_seq,t()}).catch(w))}}function v(e){if(N=!1,o.cancelled)return m();h("changes rejected",e)}function g(){function t(){i.cancel()}function n(){o.removeListener("cancel",t)}if(!N&&!C&&k.length<j){N=!0,o._changes&&(o.removeListener("cancel",o._abortChanges),o._changes.cancel()),o.once("cancel",t);var i=e.changes(L).on("change",y);i.then(n,n),i.then(f).catch(v),r.retry&&(o._changes=i,o._abortChanges=t)}}function _(){i().then(function(){return o.cancelled?void m():S.getCheckpoint().then(function(e){M=e,L={since:M,limit:O,batch_size:O,style:"all_docs",doc_ids:F,selector:I,return_docs:!0},r.filter&&("string"!==typeof r.filter?L.include_docs=!0:L.filter=r.filter),"heartbeat"in r&&(L.heartbeat=r.heartbeat),"timeout"in r&&(L.timeout=r.timeout),r.query_params&&(L.query_params=r.query_params),r.view&&(L.view=r.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function w(e){E=!1,h("writeCheckpoint completed with error",e)}var b,x,S,k=[],P={seq:0,changes:[],docs:[]},E=!1,C=!1,A=!1,M=0,R=r.continuous||r.live||!1,O=r.batch_size||100,j=r.batches_limit||10,N=!1,F=r.doc_ids,I=r.selector,B=[],D=Yn();n=n||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var L={};if(o.ready(e,t),o.cancelled)return void m();o._addedListeners||(o.once("cancel",m),"function"===typeof r.complete&&(o.once("error",r.complete),o.once("complete",function(e){r.complete(null,e)})),o._addedListeners=!0),"undefined"===typeof r.since?_():i().then(function(){return E=!0,S.writeCheckpoint(r.since,D)}).then(function(){if(E=!1,o.cancelled)return void m();M=r.since,_()}).catch(w)}function Yo(){un.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new xn(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function $o(e,t){var r=t.PouchConstructor;return"string"===typeof e?new r(e,t):e}function en(e,t,r,o){if("function"===typeof r&&(o=r,r={}),"undefined"===typeof r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw T(qn,"`doc_ids` filter parameter is not a list.");r.complete=o,r=s(r),r.continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var n=new Yo(r);return Qo($o(e,r),$o(t,r),r,n),n}function tn(e,t,r,o){return"function"===typeof r&&(o=r,r={}),"undefined"===typeof r&&(r={}),r=s(r),r.PouchConstructor=r.PouchConstructor||this,e=$o(e,r),t=$o(t,r),new rn(e,t,r,o)}function rn(e,t,r,o){function n(e){m.emit("change",{direction:"pull",change:e})}function i(e){m.emit("change",{direction:"push",change:e})}function a(e){m.emit("denied",{direction:"push",doc:e})}function s(e){m.emit("denied",{direction:"pull",doc:e})}function c(){m.pushPaused=!0,m.pullPaused&&m.emit("paused")}function l(){m.pullPaused=!0,m.pushPaused&&m.emit("paused")}function p(){m.pushPaused=!1,m.pullPaused&&m.emit("active",{direction:"push"})}function u(){m.pullPaused=!1,m.pushPaused&&m.emit("active",{direction:"pull"})}function d(e){return function(t,r){var o="change"===t&&(r===n||r===i),d="denied"===t&&(r===s||r===a),h="paused"===t&&(r===l||r===c),y="active"===t&&(r===u||r===p);(o||d||h||y)&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&m.removeAllListeners(t))}}function h(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}var m=this;this.canceled=!1;var y=r.push?Mn({},r,r.push):r,f=r.pull?Mn({},r,r.pull):r;this.push=en(e,t,y),this.pull=en(t,e,f),this.pushPaused=!0,this.pullPaused=!0;var v={};r.live&&(this.push.on("complete",m.pull.cancel.bind(m.pull)),this.pull.on("complete",m.push.cancel.bind(m.push))),this.on("newListener",function(e){"change"===e?(h(m.pull,"change",n),h(m.push,"change",i)):"denied"===e?(h(m.pull,"denied",s),h(m.push,"denied",a)):"active"===e?(h(m.pull,"active",u),h(m.push,"active",p)):"paused"===e&&(h(m.pull,"paused",l),h(m.push,"paused",c))}),this.on("removeListener",function(e){"change"===e?(m.pull.removeListener("change",n),m.push.removeListener("change",i)):"denied"===e?(m.pull.removeListener("denied",s),m.push.removeListener("denied",a)):"active"===e?(m.pull.removeListener("active",u),m.push.removeListener("active",p)):"paused"===e&&(m.pull.removeListener("paused",l),m.push.removeListener("paused",c))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=xn.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return m.emit("complete",t),o&&o(null,t),m.removeAllListeners(),t},function(e){if(m.cancel(),o?o(e):m.emit("error",e),m.removeAllListeners(),o)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function on(e){e.replicate=en,e.sync=tn,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,r,o){return e.constructor.replicate(t,e,r,o)},to:function(t,r,o){return e.constructor.replicate(e,t,r,o)}}}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}var nn=r(70),an=r.n(nn),sn=r(74),cn=r.n(sn),ln=r(32),pn=r.n(ln),un=r(75),dn=(r.n(un),r(16)),hn=r.n(dn),mn=r(31),yn=r.n(mn),fn=r(209),vn=r.n(fn),gn=r(76),_n=r.n(gn),wn=r(212),bn=r.n(wn),xn="function"===typeof Promise?Promise:cn.a,Sn=Function.prototype.toString,kn=Sn.call(Object);m.prototype.get=function(e){var t=d(e);return this._store[t]},m.prototype.set=function(e,t){var r=d(e);return this._store[r]=t,!0},m.prototype.has=function(e){return d(e)in this._store},m.prototype.delete=function(e){var t=d(e),r=t in this._store;return delete this._store[t],r},m.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,o=t.length;r<o;r++){var n=t[r],i=this._store[n];n=h(n),e(i,n)}},Object.defineProperty(m.prototype,"size",{get:function(){return Object.keys(this._store).length}}),y.prototype.add=function(e){return this._store.set(e,!0)},y.prototype.has=function(e){return this._store.has(e)},y.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(y.prototype,"size",{get:function(){return this._store.size}});var Pn,En;!function(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(Pn=y,En=m):(Pn=Set,En=Map);var Cn,An=6;if(w())Cn=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Cn=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Cn=!1}hn()(S,un.EventEmitter),S.prototype.addListener=function(e,t,r,o){function n(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var s=f(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(s).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===a&&yn()(n),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=n,this.on(e,n)}},S.prototype.removeListener=function(e,t){t in this._listeners&&(un.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},S.prototype.notifyLocalWindows=function(e){w()?chrome.storage.local.set({dbName:e}):b()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},S.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Tn;Tn="function"===typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var Mn=Tn;hn()(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Rn=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),zn=new A(404,"not_found","missing"),On=new A(409,"conflict","Document update conflict"),jn=new A(400,"bad_request","_id field must contain a string"),Nn=new A(412,"missing_id","_id is required for puts"),Fn=new A(400,"bad_request","Only reserved document ids may start with underscore."),In=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),Bn=new A(500,"badarg","Some query argument is invalid"),Dn=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),Ln=new A(500,"doc_validation","Bad special document member"),qn=new A(400,"bad_request","Something wrong with the request"),Un=new A(400,"bad_request","Document must be a JSON object"),Wn=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),Vn=new A(500,"web_sql_went_bad","unknown"),Hn=(new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),Gn=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),Kn=(new A(413,"invalid_url","Provided URL is invalid"),j.name);var Jn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Zn="queryKey",Xn=/(?:^|&)([^&=]*)=?([^&]*)/g,Qn=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Yn=an.a.v4;hn()(he,un.EventEmitter),he.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},he.prototype.validateChanges=function(e){var t=e.complete,r=this;Ce._changesFilterPlugin?Ce._changesFilterPlugin.validate(e,function(o){if(o)return t(o);r.doChanges(e)}):r.doChanges(e)},he.prototype.doChanges=function(e){var t=this,r=e.complete;if(e=s(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=me,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(o){if(t.isCancelled)return void r(null,{status:"cancelled"});e.since=o.update_seq,t.doChanges(e)},r);if(Ce._changesFilterPlugin){if(Ce._changesFilterPlugin.normalize(e),Ce._changesFilterPlugin.shouldFilter(this,e))return Ce._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&k("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var o=this.db._changes(e);if(o&&"function"===typeof o.cancel){var n=t.cancel;t.cancel=pn()(function(e){o.cancel(),n.apply(this,e)})}},hn()(Se,un.EventEmitter),Se.prototype.post=u("post",function(e,t,r){if("function"===typeof t&&(r=t,t={}),"object"!==typeof e||Array.isArray(e))return r(T(Un));this.bulkDocs({docs:[e]},t,fe(r,e._id))}),Se.prototype.put=u("put",function(e,t,r){function o(r){"function"===typeof n._put&&!1!==t.new_edits?n._put(e,t,r):n.bulkDocs({docs:[e]},t,fe(r,e._id))}if("function"===typeof t&&(r=t,t={}),"object"!==typeof e||Array.isArray(e))return r(T(Un));if(N(e._id),pe(e._id)&&"function"===typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var n=this;t.force&&e._rev?(!function(){var r=e._rev.split("-"),o=r[1],n=parseInt(r[0],10),i=n+1,a=V();e._revisions={start:i,ids:[a,o]},e._rev=i+"-"+a,t.new_edits=!1}(),o(function(t){var o=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,o)})):o(r)}),Se.prototype.putAttachment=u("putAttachment",function(e,t,r,o,n){function i(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:n,data:o,revpos:++r},a.put(e)}var a=this;return"function"===typeof n&&(n=o,o=r,r=null),"undefined"===typeof n&&(n=o,o=r,r=null),n||k("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==r)throw T(On);return i(e)},function(t){if(t.reason===zn.message)return i({_id:e});throw t})}),Se.prototype.removeAttachment=u("removeAttachment",function(e,t,r,o){var n=this;n.get(e,function(e,i){return e?void o(e):i._rev!==r?void o(T(On)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void n.put(i,o)):o()})}),Se.prototype.remove=u("remove",function(e,t,r,o){var n;"string"===typeof t?(n={_id:e,_rev:t},"function"===typeof r&&(o=r,r={})):(n=e,"function"===typeof t?(o=t,r={}):(o=r,r=t)),r=r||{},r.was_delete=!0;var i={_id:n._id,_rev:n._rev||r.rev};if(i._deleted=!0,pe(i._id)&&"function"===typeof this._removeLocal)return this._removeLocal(n,o);this.bulkDocs({docs:[i]},r,fe(o,i._id))}),Se.prototype.revsDiff=u("revsDiff",function(e,t,r){function o(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}function n(t,r){var n=e[t].slice(0);G(r,function(e,r,i,a,s){var c=r+"-"+i,l=n.indexOf(c);-1!==l&&(n.splice(l,1),"available"!==s.status&&o(t,c))}),n.forEach(function(e){o(t,e)})}"function"===typeof t&&(r=t,t={});var i=Object.keys(e);if(!i.length)return r(null,{});var a=0,s=new En;i.map(function(t){this._getRevisionTree(t,function(o,c){if(o&&404===o.status&&"missing"===o.message)s.set(t,{missing:e[t]});else{if(o)return r(o);n(t,c)}if(++a===i.length){var l={};return s.forEach(function(e,t){l[t]=e}),r(null,l)}})},this)}),Se.prototype.bulkGet=u("bulkGet",function(e,t){_(this,e,t)}),Se.prototype.compactDocument=u("compactDocument",function(e,t,r){var o=this;this._getRevisionTree(e,function(n,i){if(n)return r(n);var a=_e(i),s=[],c=[];Object.keys(a).forEach(function(e){a[e]>t&&s.push(e)}),G(i,function(e,t,r,o,n){var i=t+"-"+r;"available"===n.status&&-1!==s.indexOf(i)&&c.push(i)}),o._doCompaction(e,c,r)})}),Se.prototype.compact=u("compact",function(e,t){"function"===typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&be(r)}),Se.prototype._compact=function(e,t){function r(e){a.push(n.compactDocument(e.id,0))}function o(e){var r=e.last_seq;xn.all(a).then(function(){return U(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var n=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];n.changes(i).on("change",r).on("complete",o).on("error",t)},Se.prototype.get=u("get",function(e,t,r){function o(){var o=[],a=n.length;if(!a)return r(null,o);n.forEach(function(n){i.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)o.push({missing:n});else{for(var i,s=0,c=o.length;s<c;s++)if(o[s].ok&&o[s].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--a||r(null,o)})})}if("function"===typeof t&&(r=t,t={}),"string"!==typeof e)return r(T(jn));if(pe(e)&&"function"===typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;if(!t.open_revs)return this._get(e,t,function(o,n){if(o)return o.docId=e,r(o);var a=n.doc,s=n.metadata,c=n.ctx;if(t.conflicts){var l=Z(s);l.length&&(a._conflicts=l)}if(le(s,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var p=a._rev.split("-"),u=parseInt(p[0],10),d=p[1],h=Q(s.rev_tree),m=null,y=0;y<h.length;y++){var f=h[y],v=f.ids.map(function(e){return e.id}).indexOf(d);(v===u-1||!m&&-1!==v)&&(m=f)}var g=m.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,_=m.ids.length-g;if(m.ids.splice(g,_),m.ids.reverse(),t.revs&&(a._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map(function(e){return e.id})}),t.revs_info){var w=m.pos+m.ids.length;a._revs_info=m.ids.map(function(e){return w--,{rev:w+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var b=a._attachments,x=Object.keys(b).length;if(0===x)return r(null,a);Object.keys(b).forEach(function(e){this._getAttachment(a._id,e,b[e],{rev:a._rev,binary:t.binary,ctx:c},function(t,o){var n=a._attachments[e];n.data=o,delete n.stub,delete n.length,--x||r(null,a)})},i)}else{if(a._attachments)for(var S in a._attachments)a._attachments.hasOwnProperty(S)&&(a._attachments[S].stub=!0);r(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return r(e);n=J(t).map(function(e){return e.rev}),o()});else{if(!Array.isArray(t.open_revs))return r(T(In,"function_clause"));n=t.open_revs;for(var a=0;a<n.length;a++){var s=n[a];if("string"!==typeof s||!/^\d+-/.test(s))return r(T(Hn))}o()}}),Se.prototype.getAttachment=u("getAttachment",function(e,t,r,o){var n=this;r instanceof Function&&(o=r,r={}),this._get(e,r,function(i,a){return i?o(i):a.doc._attachments&&a.doc._attachments[t]?(r.ctx=a.ctx,r.binary=!0,n._getAttachment(e,t,a.doc._attachments[t],r,o),void 0):o(T(zn))})}),Se.prototype.allDocs=u("allDocs",function(e,t){if("function"===typeof e&&(t=e,e={}),e.skip="undefined"!==typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(r)return void t(T(Dn,"Query parameter `"+r+"` is not compatible with multi-get"));if(!F(this))return we(this,e,t)}return this._allDocs(e,t)}),Se.prototype.changes=function(e,t){return"function"===typeof e&&(t=e,e={}),new he(this,e,t)},Se.prototype.close=u("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Se.prototype.info=u("info",function(e){var t=this;this._info(function(r,o){if(r)return e(r);o.db_name=o.db_name||t.name,o.auto_compaction=!(!t.auto_compaction||F(t)),o.adapter=t.adapter,e(null,o)})}),Se.prototype.id=u("id",function(e){return this._id(e)}),Se.prototype.type=function(){return"function"===typeof this._type?this._type():this.adapter},Se.prototype.bulkDocs=u("bulkDocs",function(e,t,r){if("function"===typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(T(Rn));for(var o=0;o<e.docs.length;++o)if("object"!==typeof e.docs[o]||Array.isArray(e.docs[o]))return r(T(Un));var n;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){n=n||xe(t),e._attachments[t].content_type||k("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),n)return r(T(qn,n));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||F(i)||e.docs.sort(ge),ve(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,o){if(e)return r(e);if(t.new_edits||(o=o.filter(function(e){return e.error})),!F(i))for(var n=0,s=o.length;n<s;n++)o[n].id=o[n].id||a[n];r(null,o)})}),Se.prototype.registerDependentDatabase=u("registerDependentDatabase",function(e,t){function r(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var o=new this.constructor(e,this.__opts);U(this,"_local/_pouch_dependentDbs",r).then(function(){t(null,{db:o})}).catch(t)}),Se.prototype.destroy=u("destroy",function(e,t){function r(){o._destroy(e,function(e,r){if(e)return t(e);o._destroyed=!0,o.emit("destroyed"),t(null,r||{ok:!0})})}"function"===typeof e&&(t=e,e={});var o=this,n=!("use_prefix"in o)||o.use_prefix;if(F(o))return r();o.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):r();var a=i.dependentDbs,s=o.constructor,c=Object.keys(a).map(function(e){var t=n?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,o.__opts).destroy()});xn.all(c).then(r,t)})}),ke.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},ke.prototype.fail=function(e){this.failed=e,this.execute()},ke.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},ke.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},hn()(Ce,Se),Ce.adapters={},Ce.preferredAdapters=[],Ce.prefix="_pouch_";var $n=new un.EventEmitter;!function(e){Object.keys(un.EventEmitter.prototype).forEach(function(t){"function"===typeof un.EventEmitter.prototype[t]&&(e[t]=$n[t].bind($n))});var t=e._destructionListeners=new En;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var r=t.get(e.name),o=r.indexOf(e);o<0||(r.splice(o,1),r.length>1?t.set(e.name,r):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach(function(e){e.emit("destroyed",!0)})}})}(Ce),Ce.adapter=function(e,t,r){t.valid()&&(Ce.adapters[e]=t,r&&Ce.preferredAdapters.push(e))},Ce.plugin=function(e){if("function"===typeof e)e(Ce);else{if("object"!==typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ce.prototype[t]=e[t]})}return this.__defaults&&(Ce.__defaults=Mn({},this.__defaults)),Ce},Ce.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"===typeof e&&(r=e,e=r.name,delete r.name),r=Mn({},t.__defaults,r),Ce.call(this,e,r)}return hn()(t,Ce),t.preferredAdapters=Ce.preferredAdapters.slice(),Object.keys(Ce).forEach(function(e){e in t||(t[e]=Ce[e])}),t.__defaults=Mn({},this.__defaults,e),t};var ei=["$or","$nor","$not"],ti=-324,ri=3,oi="",ni={$elemMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.some(function(e){return ot(e,t,Object.keys(t))}):o.some(function(o){return nt(t,e,r,o)})))},$allMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.every(function(e){return ot(e,t,Object.keys(t))}):o.every(function(o){return nt(t,e,r,o)})))},$eq:function(e,t,r,o){return ct(o)&&0===We(o,t)},$gte:function(e,t,r,o){return ct(o)&&We(o,t)>=0},$gt:function(e,t,r,o){return ct(o)&&We(o,t)>0},$lte:function(e,t,r,o){return ct(o)&&We(o,t)<=0},$lt:function(e,t,r,o){return ct(o)&&We(o,t)<0},$exists:function(e,t,r,o){return t?ct(o):!ct(o)},$mod:function(e,t,r,o){return st(o)&&lt(o,t)},$ne:function(e,t,r,o){return t.every(function(e){return 0!==We(o,e)})},$in:function(e,t,r,o){return st(o)&&pt(o,t)},$nin:function(e,t,r,o){return st(o)&&!pt(o,t)},$size:function(e,t,r,o){return st(o)&&dt(o,t)},$all:function(e,t,r,o){return Array.isArray(o)&&ut(o,t)},$regex:function(e,t,r,o){return st(o)&&ht(o,t)},$type:function(e,t,r,o){return mt(o,t)}};Ce.plugin(Ae),Ce.plugin(xt),Ce.version="6.3.4";var ii,ai=St(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),si=St(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),ci=function(e){return atob(e)},li=function(e){return btoa(e)},pi=e.setImmediate||e.setTimeout,ui=32768,di=5,hi="document-store",mi="by-sequence",yi="attach-store",fi="attach-seq-store",vi="meta-store",gi="local-store",_i="detect-blob-support",wi=new S,bi=!1,xi=[],Si=new En,ki=new En;gr.valid=function(){return!("undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange};var Pi=function(e){e.adapter("idb",gr,!0)},Ei=7,Ci=Er("document-store"),Ai=Er("by-sequence"),Ti=Er("attach-store"),Mi=Er("local-store"),Ri=Er("metadata-store"),zi=Er("attach-seq-store"),Oi=new En,ji=new S,Ni=1,Fi="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Ai+" (seq, deleted)",Ii="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Ai+" (doc_id, rev)",Bi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Ci+" (winningseq)",Di="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+zi+" (seq)",Li="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+zi+" (digest, seq)",qi=Ai+".seq = "+Ci+".winningseq",Ui=Ai+".seq AS seq, "+Ai+".deleted AS deleted, "+Ai+".json AS data, "+Ai+".rev AS rev, "+Ci+".json AS metadata";Gr.valid=Vr,Gr.use_prefix=!0;var Wi=function(e){e.adapter("websql",Gr,!0)},Vi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),Hi=function(){},Gi=25,Ki=50,Ji=5e3,Zi=1e4,Xi={};lo.valid=function(){return!0};var Qi=function(e){e.adapter("http",lo,!1),e.adapter("https",lo,!1)};hn()(po,Error),hn()(uo,Error),hn()(ho,Error);var Yi=k.bind(null,"log"),$i=Array.isArray,ea=JSON.parse;So.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},So.prototype.finish=function(){return this.promise};var ta={},ra=new So,oa=50,na={_sum:function(e,t){return bo(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:bo(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,o=e.length;r<o;r++){var n=e[r];t+=n*n}return t}(t)}}},ia=function(e,t,r,o){function n(e,t,r){try{t(r)}catch(t){To(e,t)}}function i(e,t,r,o,n){try{return{output:t(r,o,n)}}catch(t){return To(e,t),{error:t}}}function a(e,t){var r=We(e.key,t.key);return 0!==r?r:We(e.value,t.value)}function s(e,t,r){return r=r||0,"number"===typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function c(e){var t=e.value;return t&&"object"===typeof t&&t._id||e.id}function l(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=Mt(r.data,r.content_type)})})}function p(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&l(t),t}}function u(e,t,r,o){var n=t[e];"undefined"!==typeof n&&(o&&(n=encodeURIComponent(JSON.stringify(n))),r.push(e+"="+n))}function d(e){if("undefined"!==typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}function m(e){if(e){if("number"!==typeof e)return new po('Invalid value for integer: "'+e+'"');if(e<0)return new po('Invalid value for positive integer: "'+e+'"')}}function y(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!==typeof e[r]&&"undefined"!==typeof e[o]&&We(e[r],e[o])>0)throw new po("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new po("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new po("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=m(e[t]);if(r)throw r})}function f(e,t,r){var o,n=[],i="GET";if(u("reduce",r,n),u("include_docs",r,n),u("attachments",r,n),u("limit",r,n),u("descending",r,n),u("group",r,n),u("group_level",r,n),u("skip",r,n),u("stale",r,n),u("conflicts",r,n),u("startkey",r,n,!0),u("start_key",r,n,!0),u("endkey",r,n,!0),u("end_key",r,n,!0),u("inclusive_end",r,n),u("key",r,n,!0),n=n.join("&"),n=""===n?"":"?"+n,"undefined"!==typeof r.keys){var a="keys="+encodeURIComponent(JSON.stringify(r.keys));a.length+n.length+1<=2e3?n+=("?"===n[0]?"&":"?")+a:(i="POST","string"===typeof t?o={keys:r.keys}:t.keys=r.keys)}if("string"===typeof t){var s=Co(t);return e.request({method:i,url:"_design/"+s[0]+"/_view/"+s[1]+n,body:o}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(p(r))}return o=o||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?o[e]=t[e]:o[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+n,body:o}).then(p(r))}function v(e,t,r){return new xn(function(o,n){e._query(t,r,function(e,t){if(e)return n(e);o(t)})})}function g(e){return new xn(function(t,r){e._viewCleanup(function(e,o){if(e)return r(e);t(o)})})}function _(e){return function(t){if(404===t.status)return e;throw t}}function w(e,t,r){function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):xn.resolve({rows:[]})}function n(e,t){for(var r=[],o=new Pn,n=0,i=t.rows.length;n<i;n++){var a=t.rows[n],s=a.doc;if(s&&(r.push(s),o.add(s._id),s._deleted=!c.has(s._id),!s._deleted)){var l=c.get(s._id);"value"in l&&(s.value=l.value)}}var p=_o(c);return p.forEach(function(e){if(!o.has(e)){var t={_id:e},n=c.get(e);"value"in n&&(t.value=n.value),r.push(t)}}),e.keys=go(p.concat(e.keys)),r.push(e),r}var i="_local/doc_"+e,a={_id:i,keys:[]},s=r.get(e),c=s[0],l=s[1];return function(){return Ao(l)?xn.resolve(a):t.db.get(i).catch(_(a))}().then(function(e){return o(e).then(function(t){return n(e,t)})})}function b(e,t,r){return e.db.get("_local/lastSeq").catch(_({_id:"_local/lastSeq",seq:0})).then(function(o){var n=_o(t);return xn.all(n.map(function(r){return w(r,e,t)})).then(function(t){var n=O(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function x(e){var t="string"===typeof e?e:e.name,r=ta[t];return r||(r=ta[t]=new So),r}function S(e){return vo(x(e),function(){return k(e)})()}function k(e){function r(e,t){var r={id:u._id,key:Ve(e)};"undefined"!==typeof t&&null!==t&&(r.value=Ve(t)),p.push(r)}function o(t,r){return function(){return b(e,t,r)}}function i(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:oa}).then(s)}function s(e){var t=e.results;if(t.length){var r=c(t);if(m.add(o(r,h)),!(t.length<oa))return i()}}function c(t){for(var r=new En,o=0,i=t.length;o<i;o++){var s=t[o];if("_"!==s.doc._id[0]){p=[],u=s.doc,u._deleted||n(e.sourceDB,d,u),p.sort(a);var c=l(p);r.set(s.doc._id,[c,s.changes])}h=s.seq}return r}function l(e){for(var t,r=new En,o=0,n=e.length;o<n;o++){var i=e[o],a=[i.key,i.id];o>0&&0===We(i.key,t)&&a.push(o),r.set(Ge(a),i),t=i.key}return r}var p,u,d=t(e.mapFun,r),h=e.seq||0,m=new So;return i().then(function(){return m.finish()}).then(function(){e.seq=h})}function P(e,t,o){0===o.group_level&&delete o.group_level;var n=o.group||o.group_level,a=r(e.reduceFun),c=[],l=isNaN(o.group_level)?Number.POSITIVE_INFINITY:o.group_level;t.forEach(function(e){var t=c[c.length-1],r=n?e.key:null;if(n&&Array.isArray(r)&&(r=r.slice(0,l)),t&&0===We(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);c.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var p=0,u=c.length;p<u;p++){var d=c[p],h=i(e.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof ho)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:s(t,o.limit,o.skip)}}function E(e,t){return vo(x(e),function(){return C(e,t)})()}function C(e,t){function r(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var o=Ze(e.doc._id);return{key:o[0],id:o[1],value:"value"in e.doc?e.doc.value:null}})})}function o(r){var o;if(o=i?P(e,r,t):{total_rows:n,offset:a,rows:r},t.include_docs){var s=go(r.map(c));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new En;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),r.forEach(function(e){var r=c(e),o=t.get(r);o&&(e.doc=o)}),o})}return o}var n,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if("undefined"===typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!==typeof t.keys){var s=t.keys,l=s.map(function(e){return r({startkey:Ge([e]),endkey:Ge([e,{}])})});return xn.all(l).then(O).then(o)}var p,u,d={descending:t.descending};if("start_key"in t&&(p=t.start_key),"startkey"in t&&(p=t.startkey),"end_key"in t&&(u=t.end_key),"endkey"in t&&(u=t.endkey),"undefined"!==typeof p&&(d.startkey=Ge(t.descending?[p,{}]:[p])),"undefined"!==typeof u){var h=!1!==t.inclusive_end;t.descending&&(h=!h),d.endkey=Ge(h?[u,{}]:[u])}if("undefined"!==typeof t.key){var m=Ge([t.key]),y=Ge([t.key,{}]);d.descending?(d.endkey=m,d.startkey=y):(d.startkey=m,d.endkey=y)}return i||("number"===typeof t.limit&&(d.limit=t.limit),d.skip=a),r(d).then(o)}function A(e){return e.request({method:"POST",url:"_view_cleanup"})}function T(t){return t.get("_local/"+e).then(function(e){var r=new En;Object.keys(e.views).forEach(function(e){var t=Co(e),o="_design/"+t[0],n=t[1],i=r.get(o);i||(i=new Pn,r.set(o,i)),i.add(n)});var o={keys:_o(r),include_docs:!0};return t.allDocs(o).then(function(o){var n={};o.rows.forEach(function(t){var o=t.key.substring(8);r.get(t.key).forEach(function(r){var i=o+"/"+r;e.views[i]||(i=r);var a=Object.keys(e.views[i]),s=t.doc&&t.doc.views&&t.doc.views[r];a.forEach(function(e){n[e]=n[e]||s})})});var i=Object.keys(n).filter(function(e){return!n[e]}),a=i.map(function(e){return vo(x(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return xn.all(a).then(function(){return{ok:!0}})})},_({ok:!0}))}function M(t,r,n){if("function"===typeof t._query)return v(t,r,n);if(F(t))return f(t,r,n);if("string"!==typeof r)return y(n,r),ra.add(function(){return Eo(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return fo(S(e).then(function(){return E(e,n)}),function(){return e.db.destroy()})})}),ra.finish();var i=r,a=Co(i),s=a[0],c=a[1];return t.get("_design/"+s).then(function(r){var a=r.views&&r.views[c];if(!a)throw new uo("ddoc "+r._id+" has no view named "+c);return o(r,c),y(n,a),Eo(t,i,a.map,a.reduce,!1,e).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&yn()(function(){S(e)}),E(e,n)):S(e).then(function(){return E(e,n)})})})}function R(e,t,r){var o=this;"function"===typeof t&&(r=t,t={}),t=t?h(t):{},"function"===typeof e&&(e={map:e});var n=xn.resolve().then(function(){return M(o,e,t)});return mo(n,r),n}return{query:R,viewCleanup:yo(function(){var e=this;return"function"===typeof e._viewCleanup?g(e):F(e)?A(e):T(e)})}}("mrviews",Ro,zo,Oo),aa={query:jo,viewCleanup:No},sa=1,ca="pouchdb",la=5,pa=0;Wo.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},Wo.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Uo(this.target,this.id,e,t,this.returnValue):xn.resolve(!0)},Wo.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return this.readOnlySource?xn.resolve(!0):Uo(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Ko(e))return r.readOnlySource=!0,!0;throw e})}return xn.resolve(!0)};var ua={undefined:function(e,t){return 0===We(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Vo(t,e).last_seq}};Wo.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?xn.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return pa;var r;return r=t.version?t.version.toString():"undefined",r in ua?ua[r](t,e):pa},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:pa}).then(function(){return pa},function(r){return Ko(r)?(e.readOnlySource=!0,t.last_seq):pa});throw r})}).catch(function(e){if(404!==e.status)throw e;return pa})};var da=0;hn()(Yo,un.EventEmitter),Yo.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Yo.prototype.ready=function(e,t){function r(){n.cancel()}function o(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}var n=this;n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",o))},hn()(rn,un.EventEmitter),rn.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ce.plugin(Pi).plugin(Wi).plugin(Qi).plugin(aa).plugin(on),t.a=Ce}).call(t,r(5))},function(e,t,r){"use strict";(function(t){function r(){p=!0;for(var e,t,r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}p=!1}function o(e){1!==u.push(e)||p||n()}var n,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,s=new i(r),c=t.document.createTextNode("");s.observe(c,{characterData:!0}),n=function(){c.data=a=++a%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){r(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(r,0)};else{var l=new t.MessageChannel;l.port1.onmessage=r,n=function(){l.port2.postMessage(0)}}var p,u=[];e.exports=o}).call(t,r(5))},function(e,t,r){"use strict";function o(e){return function(){var t=arguments.length;if(t){for(var r=[],o=-1;++o<t;)r[o]=arguments[o];return e.call(this,r)}return e.call(this,[])}}e.exports=o},function(e,t,r){"use strict";var o=r(74),n=r.n(o),i="function"===typeof Promise?Promise:n.a;t.a=i},function(e,t,r){"use strict";function o(e){return"$"+e}function n(e){return e.substring(1)}function i(){this._store={}}function a(e){if(this._store=new i,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}r.d(t,"b",function(){return s}),r.d(t,"a",function(){return c}),i.prototype.get=function(e){var t=o(e);return this._store[t]},i.prototype.set=function(e,t){var r=o(e);return this._store[r]=t,!0},i.prototype.has=function(e){return o(e)in this._store},i.prototype.delete=function(e){var t=o(e),r=t in this._store;return delete this._store[t],r},i.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,o=t.length;r<o;r++){var i=t[r],a=this._store[i];i=n(i),e(a,i)}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}});var s,c;!function(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(s=a,c=i):(s=Set,c=Map)},function(e,t,r){"use strict";function o(e,t,r){for(var o="",n=r-e.length;o.length<n;)o+=t;return o}function n(e,t,r){return o(e,t,r)+e}function i(e,t){if(e===t)return 0;e=a(e),t=a(t);var r=y(e),o=y(t);if(r-o!==0)return r-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return h(e,t)}return Array.isArray(e)?d(e,t):m(e,t)}function a(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=a(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"undefined"!==typeof i&&(e[n]=a(i))}}}}return e}function s(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,n=r.length,i="";if(t)for(;++o<n;)i+=c(r[o]);else for(;++o<n;){var a=r[o];i+=c(a)+c(e[a])}return i}return""}function c(e){return e=a(e),y(e)+_+s(e)+"\0"}function l(e,t){var r,o=t;if("1"===e[t])r=0,t++;else{var n="0"===e[t];t++;var i="",a=e.substring(t,t+g),s=parseInt(a,10)+v;for(n&&(s=-s),t+=g;;){var c=e[t];if("\0"===c)break;i+=c,t++}i=i.split("."),r=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),n&&(r-=10),0!==s&&(r=parseFloat(r+"e"+s))}return{num:r,length:t-o}}function p(e,t){var r=e.pop();if(t.length){var o=t[t.length-1];r===o.element&&(t.pop(),o=t[t.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(r);else if(i===e.length-2){var a=e.pop();n[a]=r}else e.push(r)}}function u(e){for(var t=[],r=[],o=0;;){var n=e[o++];if("\0"!==n)switch(n){case"1":t.push(null);break;case"2":t.push("1"===e[o]),o++;break;case"3":var i=l(e,o);t.push(i.num),o+=i.length;break;case"4":for(var a="";;){var s=e[o];if("\0"===s)break;a+=s,o++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),r.push(c);break;case"6":var u={element:{},index:t.length};t.push(u.element),r.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+n)}else{if(1===t.length)return t.pop();p(t,r)}}}function d(e,t){for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var n=i(e[o],t[o]);if(0!==n)return n}return e.length===t.length?0:e.length>t.length?1:-1}function h(e,t){return e===t?0:e>t?1:-1}function m(e,t){for(var r=Object.keys(e),o=Object.keys(t),n=Math.min(r.length,o.length),a=0;a<n;a++){var s=i(r[a],o[a]);if(0!==s)return s;if(0!==(s=i(e[r[a]],t[o[a]])))return s}return r.length===o.length?0:r.length>o.length?1:-1}function y(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),o=e<0,i=o?"0":"2",a=(o?-r:r)-v,s=n(a.toString(),"0",g);i+=_+s;var c=Math.abs(parseFloat(t[0]));o&&(c=10-c);var l=c.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=_+l}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return u});var v=-324,g=3,_=""},function(e,t){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";function o(){}function n(e){try{return e.then}catch(e){return v=e,g}}function i(e,t){try{return e(t)}catch(e){return v=e,g}}function a(e,t,r){try{e(t,r)}catch(e){return v=e,g}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&y(e,this)}function c(e,t,r){return new e.constructor(function(n,i){var a=new s(o);a.then(n,i),l(e,new m(t,r,a))})}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);p(e,t)}function p(e,t){f(function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._83?u(t.promise,e._18):d(t.promise,e._18));var o=i(r,e._18);o===g?d(t.promise,v):u(t.promise,o)})}function u(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var r=n(t);if(r===g)return d(e,v);if(r===e.then&&t instanceof s)return e._83=3,e._18=t,void h(e);if("function"===typeof r)return void y(r.bind(t),e)}e._83=1,e._18=t,h(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),h(e)}function h(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function m(e,t,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=r}function y(e,t){var r=!1,o=a(e,function(e){r||(r=!0,u(t,e))},function(e){r||(r=!0,d(t,e))});r||o!==g||(r=!0,d(t,v))}var f=r(92),v=null,g={};e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return c(this,e,t);var r=new s(o);return l(this,new m(e,t,r)),r}},function(e,t,r){"use strict";var o={};e.exports=o},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},function(e,t,r){"use strict";var o=r(2),n=r(114),i=r(116),a=r(117),s=r(118),c=r(41),l="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r(119);e.exports=function(e){return new Promise(function(t,p){var u=e.data,d=e.headers;o.isFormData(u)&&delete d["Content-Type"];var h=new XMLHttpRequest,m="onreadystatechange",y=!1;if(window.XMLHttpRequest||"undefined"===typeof window||!window.XDomainRequest||"withCredentials"in h||s(e.url)||(h=new window.XDomainRequest,m="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var f=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+l(f+":"+v)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[m]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?h.response:h.responseText,i={data:o,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:r,config:e,request:h};n(t,p,i),h=null}},h.onerror=function(){p(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){p(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},o.isStandardBrowserEnv()){var g=r(120),_=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}if("setRequestHeader"in h&&o.forEach(d,function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)}),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),p(e),h=null)}),void 0===u&&(u=null),h.send(u)})}},function(e,t,r){"use strict";var o=r(115);e.exports=function(e,t,r,n,i){var a=new Error(e);return o(a,t,r,n,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,r){e.exports=r(129)()},function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});var o=r(44),n=r.n(o),i=n.a.shape({trySubscribe:n.a.func.isRequired,tryUnsubscribe:n.a.func.isRequired,notifyNestedSubs:n.a.func.isRequired,isSubscribed:n.a.func.isRequired}),a=n.a.shape({subscribe:n.a.func.isRequired,dispatch:n.a.func.isRequired,getState:n.a.func.isRequired})},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function s(){}function c(e,t){var r={run:function(o){try{var n=e(t.getState(),o);(n!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=n,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}function l(e){var t,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l.getDisplayName,d=void 0===p?function(e){return"ConnectAdvanced("+e+")"}:p,w=l.methodName,b=void 0===w?"connectAdvanced":w,x=l.renderCountProp,S=void 0===x?void 0:x,k=l.shouldHandleStateChanges,P=void 0===k||k,E=l.storeKey,C=void 0===E?"store":E,A=l.withRef,T=void 0!==A&&A,M=a(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=C+"Subscription",z=g++,O=(t={},t[C]=f.a,t[R]=f.b,t),j=(r={},r[R]=f.b,r);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",a=d(r),l=v({},M,{getDisplayName:d,methodName:b,renderCountProp:S,shouldHandleStateChanges:P,storeKey:C,withRef:T,displayName:a,wrappedComponentName:r,WrappedComponent:t}),p=function(r){function p(e,t){o(this,p);var i=n(this,r.call(this,e,t));return i.version=z,i.state={},i.renderCount=0,i.store=e[C]||t[C],i.propsMode=Boolean(e[C]),i.setWrappedInstance=i.setWrappedInstance.bind(i),h()(i.store,'Could not find "'+C+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(p,r),p.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[R]=t||this.context[R],e},p.prototype.componentDidMount=function(){P&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},p.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},p.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},p.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},p.prototype.getWrappedInstance=function(){return h()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+b+"() call."),this.wrappedInstance},p.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},p.prototype.initSelector=function(){var t=e(this.store.dispatch,l);this.selector=c(t,this.store),this.selector.run(this.props)},p.prototype.initSubscription=function(){if(P){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new y.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},p.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},p.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},p.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},p.prototype.addExtraProps=function(e){if(!T&&!S&&(!this.propsMode||!this.subscription))return e;var t=v({},e);return T&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[R]=this.subscription),t},p.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(m.createElement)(t,this.addExtraProps(e.props))},p}(m.Component);return p.WrappedComponent=t,p.displayName=a,p.childContextTypes=j,p.contextTypes=O,p.propTypes=O,u()(p,t)}}t.a=l;var p=r(131),u=r.n(p),d=r(10),h=r.n(d),m=r(1),y=(r.n(m),r(132)),f=r(45),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},g=0,_={}},function(e,t,r){"use strict";function o(e,t,r){function i(){v===f&&(v=f.slice())}function c(){return y}function l(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),v.push(e),function(){if(t){t=!1,i();var r=v.indexOf(e);v.splice(r,1)}}}function p(e){if(!Object(n.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,y=m(y,e)}finally{g=!1}for(var t=f=v,r=0;r<t.length;r++){(0,t[r])()}return e}function u(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");m=e,p({type:s.INIT})}function d(){var e,t=l;return e={subscribe:function(e){function r(){e.next&&e.next(c())}if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[a.a]=function(){return this},e}var h;if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(o)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var m=e,y=t,f=[],v=f,g=!1;return p({type:s.INIT}),h={dispatch:p,subscribe:l,getState:c,replaceReducer:u},h[a.a]=d,h}r.d(t,"a",function(){return s}),t.b=o;var n=r(7),i=r(139),a=r.n(i),s={INIT:"@@redux/INIT"}},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(t,r(5))},function(e,t,r){"use strict";function o(e,t){return function(r){return e(t(r))}}t.a=o},function(e,t,r){"use strict"},function(e,t,r){"use strict";function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=o},function(e,t,r){"use strict";function o(e){return function(t,r){function o(){return n}var n=e(t,r);return o.dependsOnOwnProps=!1,o}}function n(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,r){var o=(r.displayName,function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)});return o.dependsOnOwnProps=!0,o.mapToProps=function(t,r){o.mapToProps=e,o.dependsOnOwnProps=n(e);var i=o(t,r);return"function"===typeof i&&(o.mapToProps=i,o.dependsOnOwnProps=n(i),i=o(t,r)),i},o}}t.a=o,t.b=i;r(53)},function(e,t,r){"use strict";r(7),r(22)},function(e,t,r){"use strict";var o=r(55),n=(r(56),r(187));r(66),r(190);r.d(t,"a",function(){return o.a}),r.d(t,"b",function(){return n.a})},function(e,t,r){"use strict";function o(e){var t=arguments.length<=1||void 0===arguments[1]?n.a:arguments[1],r=arguments[2];c()(Object(i.a)(t)||Object(a.a)(t),"Expected payloadCreator to be a function, undefined or null");var o=Object(a.a)(t)||t===n.a?n.a:function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return e instanceof Error?e:t.apply(void 0,[e].concat(o))},s=Object(i.a)(r),l=e.toString(),p=function(){var t=o.apply(void 0,arguments),n={type:e};return t instanceof Error&&(n.error=!0),void 0!==t&&(n.payload=t),s&&(n.meta=r.apply(void 0,arguments)),n};return p.toString=function(){return l},p}t.a=o;var n=r(24),i=r(12),a=r(152),s=r(10),c=r.n(s)},function(e,t,r){"use strict";function o(e){var t=arguments.length<=1||void 0===arguments[1]?a.a:arguments[1],r=arguments[2],o=e.toString().split(d.a);u()(!Object(c.a)(r),"defaultState for reducer handling "+o.join(", ")+" should be defined"),u()(Object(n.a)(t)||Object(i.a)(t),"Expected reducer to be a function or object with next and throw reducers");var p=Object(n.a)(t)?[t,t]:[t.next,t.throw].map(function(e){return Object(s.a)(e)?a.a:e}),m=h(p,2),y=m[0],f=m[1];return function(){var e=arguments.length<=0||void 0===arguments[0]?r:arguments[0],t=arguments[1],n=t.type;return n&&Object(l.a)(o,n.toString())?(!0===t.error?f:y)(e,t):e}}t.a=o;var n=r(12),i=r(7),a=r(24),s=r(57),c=r(153),l=r(154),p=r(10),u=r.n(p),d=r(66),h=function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){"use strict";function o(e){return null==e}t.a=o},function(e,t,r){"use strict";function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;t.a=o},function(e,t,r){"use strict";function o(e,t){for(var r=-1,o=null==e?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}t.a=o},function(e,t,r){"use strict";var o=r(167),n=r(11),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=Object(o.a)(function(){return arguments}())?o.a:function(e){return Object(n.a)(e)&&a.call(e,"callee")&&!s.call(e,"callee")};t.a=c},function(e,t,r){"use strict";(function(e){var o=r(6),n=r(168),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,c=s?o.a.Buffer:void 0,l=c?c.isBuffer:void 0,p=l||n.a;t.a=p}).call(t,r(62)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";var o=r(170),n=r(171),i=r(172),a=i.a&&i.a.isTypedArray,s=a?Object(n.a)(a):o.a;t.a=s},function(e,t,r){"use strict";function o(e){if(!Object(n.a)(e))return Object(i.a)(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}var n=r(65),i=r(173),a=Object.prototype,s=a.hasOwnProperty;t.a=o},function(e,t,r){"use strict";function o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;t.a=o},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=(r(27),r(12),r(174),r(185),r(28),r(10)),n=(r.n(o),"||")},function(e,t,r){"use strict";function o(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,i=n.toString;t.a=o},function(e,t,r){"use strict";function o(e){function t(r){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],a=Object(n.a)(i.shift());i.length?(o[a]||(o[a]={}),t(r,o[a],i)):o[a]=e[r]}var r=arguments.length<=1||void 0===arguments[1]?c:arguments[1],o={};return Object.getOwnPropertyNames(e).forEach(function(e){return t(e,o,e.split(r))}),o}r.d(t,"a",function(){return p}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return o});var n=r(69),i=r(29),a=r(189),s=r(7),c="/",l=function(e){return function t(r){function o(e){return s?""+s+n+e:e}var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1],a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return Object(i.a)(r).forEach(function(i){var s=o(i),c=r[i];e(c)?t(r[i],n,a,s):a[s]=r[i]}),a}},p=l(s.a),u=l(function(e){return Object(s.a)(e)&&!Object(a.a)(e)})},function(e,t,r){"use strict";function o(e){return e.match(n).reduce(function(e,t,r){return e+(0===r?t.toLowerCase():t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())},"")}var n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:(?:1ST|2ND|3RD|(?![123])\dTH)\b)|\d*(?:(?:1st|2nd|3rd|(?![123])\dth)\b)|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;t.a=function(e){return e.split("/").map(o).join("/")}},function(e,t,r){var o=r(208),n=r(73),i=n;i.v1=o,i.v4=n,e.exports=i},function(e,t,r){(function(t){var r,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var n=new Uint8Array(16);r=function(){return o.getRandomValues(n),n}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(t,r(5))},function(e,t){function r(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=r},function(e,t,r){function o(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var n=r(71),i=r(72);e.exports=o},function(e,t,r){"use strict";function o(){}function n(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==o&&c(this,e)}function i(e,t,r){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function a(e,t,r){m(function(){var o;try{o=t(r)}catch(t){return y.reject(e,t)}o===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,o)})}function s(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function r(t){i||(i=!0,y.reject(e,t))}function o(t){i||(i=!0,y.resolve(e,t))}function n(){t(o,r)}var i=!1,a=l(n);"error"===a.status&&r(a.value)}function l(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function p(e){return e instanceof this?e:y.resolve(new this(o),e)}function u(e){var t=new this(o);return y.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,s=-1,c=new this(o);++s<r;)!function(e,o){function s(e){i[o]=e,++a!==r||n||(n=!0,y.resolve(c,i))}t.resolve(e).then(s,function(e){n||(n=!0,y.reject(c,e))})}(e[s],s);return c}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=-1,a=new this(o);++i<r;)!function(e){t.resolve(e).then(function(e){n||(n=!0,y.resolve(a,e))},function(e){n||(n=!0,y.reject(a,e))})}(e[i]);return a}var m=r(31),y={},f=["REJECTED"],v=["FULFILLED"],g=["PENDING"];e.exports=n,n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!==typeof e&&this.state===v||"function"!==typeof t&&this.state===f)return this;var r=new this.constructor(o);if(this.state!==g){a(r,this.state===v?e:t,this.outcome)}else this.queue.push(new i(r,e,t));return r},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},y.resolve=function(e,t){var r=l(s,t);if("error"===r.status)return y.reject(e,r.value);var o=r.value;if(o)c(e,o);else{e.state=v,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callFulfilled(t)}return e},y.reject=function(e,t){e.state=f,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(t);return e},n.resolve=p,n.reject=u,n.all=d,n.race=h},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"===typeof e}function n(e){return"number"===typeof e}function i(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var p=new Error('Uncaught, unspecified "error" event. ('+t+")");throw p.context=t,p}if(r=this._events[e],a(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,c=0;c<n;c++)l[c].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var r=e[0],o=e[1],n=e[2],i=e[3];r+=(o&n|~o&i)+t[0]-680876936|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[1]-389564586|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[2]+606105819|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[3]-1044525330|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[4]-176418897|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[6]-1473231341|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[7]-45705983|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[8]+1770035416|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[10]-42063|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[11]-1990404162|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[12]+1804603682|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[13]-40341101|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[14]-1502002290|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[15]+1236535329|0,o=(o<<22|o>>>10)+n|0,r+=(o&i|n&~i)+t[1]-165796510|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[11]+643717713|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[0]-373897302|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[5]-701558691|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[10]+38016083|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[15]-660478335|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[4]-405537848|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[9]+568446438|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[3]-187363961|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[8]+1163531501|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[13]-1444681467|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[2]-51403784|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[7]+1735328473|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[12]-1926607734|0,o=(o<<20|o>>>12)+n|0,r+=(o^n^i)+t[5]-378558|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[11]+1839030562|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[14]-35309556|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[1]-1530992060|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[7]-155497632|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[10]-1094730640|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[13]+681279174|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[0]-358537222|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[3]-722521979|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[6]+76029189|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[9]-640364487|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[12]-421815835|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[15]+530742520|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[2]-995338651|0,o=(o<<23|o>>>9)+n|0,r+=(n^(o|~i))+t[0]-198630844|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[14]-1416354905|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[5]-57434055|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[12]+1700485571|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[10]-1051523|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[1]-2054922799|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[8]+1873313359|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[15]-30611744|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[6]-1560198380|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[13]+1309151649|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[4]-145523070|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[2]+718787259|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[9]-343485551|0,o=(o<<21|o>>>11)+n|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=n+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function n(e){var o,n,i,a,s,c,l=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=l;o+=64)t(p,r(e.substring(o-64,o)));for(e=e.substring(o-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<n;o+=1)i[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(i[o>>2]|=128<<(o%4<<3),o>55)for(t(p,i),o=0;o<16;o+=1)i[o]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,t(p,i),p}function i(e){var r,n,i,a,s,c,l=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=l;r+=64)t(p,o(e.subarray(r-64,r)));for(e=r-64<l?e.subarray(r-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=e[r]<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(p,i),r=0;r<16;r+=1)i[r]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,t(p,i),p}function a(e){var t,r="";for(t=0;t<4;t+=1)r+=m[e>>8*t+4&15]+m[e>>8*t&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e,t){var r,o=e.length,n=new ArrayBuffer(o),i=new Uint8Array(n);for(r=0;r<o;r+=1)i[r]=e.charCodeAt(r);return t?i:n}function p(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function u(e,t,r){var o=new Uint8Array(e.byteLength+t.byteLength);return o.set(new Uint8Array(e)),o.set(new Uint8Array(t),e.byteLength),r?o:o.buffer}function d(e){var t,r=[],o=e.length;for(t=0;t<o-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==s(n("hello"))&&function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,o){var n,i,a,s,c=this.byteLength,l=t(r,c),p=c;return o!==e&&(p=t(o,c)),l>p?new ArrayBuffer(0):(n=p-l,i=new ArrayBuffer(n),a=new Uint8Array(i),s=new Uint8Array(this,l,n),a.set(s),i)}}(),h.prototype.append=function(e){return this.appendBinary(c(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var o,n=this._buff.length;for(o=64;o<=n;o+=64)t(this._hash,r(this._buff.substring(o-64,o)));return this._buff=this._buff.substring(o-64),this},h.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(i,n),r=s(this._hash),e&&(r=d(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,r){var o,n,i,a=r;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;o=8*this._length,o=o.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(o[2],16),i=parseInt(o[1],16)||0,e[14]=n,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(c(e),t)},h.hashBinary=function(e,t){var r=n(e),o=s(r);return t?d(o):o},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var r,n=u(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,r=64;r<=i;r+=64)t(this._hash,o(n.subarray(r-64,r)));return this._buff=r-64<i?new Uint8Array(n.buffer.slice(r-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o[t]<<(t%4<<3);return this._finish(i,n),r=s(this._hash),e&&(r=d(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=p(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=l(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var r=i(new Uint8Array(e)),o=s(r);return t?d(o):o},h})},function(e,t,r){"use strict";function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,n=0;n<e.length;n+=1)o.append(e[n]);return o.getBlob(t.type)}}function n(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),n=0;n<t;n++)o[n]=e.charCodeAt(n);return r}function i(e,t){return o([n(e)],{type:t})}function a(e,t){return i(c(e),t)}function s(e,t){if("undefined"===typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s});var c=function(e){return atob(e)},l=function(e){return btoa(e)}},function(e,t,r){"use strict";(function(e){function o(e){return i.a.hash(e)}r.d(t,"a",function(){return o});var n=(r(77),r(76)),i=r.n(n);e.setImmediate||e.setTimeout}).call(t,r(5))},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[-92.467044,44.022365],[-92.467039,44.022377],[-92.467039,44.022533],[-92.467046,44.022574],[-92.467074,44.022612],[-92.467131,44.022635],[-92.467219,44.022674],[-92.467227,44.022677],[-92.46727,44.022705],[-92.467305,44.022736],[-92.467328,44.02277],[-92.467357,44.022832],[-92.467365,44.023382],[-92.467366,44.023495],[-92.467206,44.023494],[-92.465934,44.023491],[-92.465807,44.023491],[-92.464669,44.02349],[-92.46453,44.02349],[-92.464526,44.02337],[-92.46452,44.023069],[-92.464518,44.022776],[-92.464521,44.022527],[-92.464521,44.02252],[-92.464518,44.02172],[-92.464518,44.021597],[-92.464516,44.021468],[-92.464504,44.020502],[-92.464503,44.020449],[-92.464504,44.020552],[-92.464524,44.019417],[-92.464526,44.01932],[-92.464656,44.019319],[-92.46523,44.019316],[-92.465816,44.019313],[-92.465908,44.019312],[-92.466066,44.019314],[-92.466684,44.019319],[-92.467351,44.019318],[-92.46735,44.019515],[-92.467347,44.020367],[-92.467347,44.020446],[-92.467347,44.020512],[-92.467347,44.020764],[-92.467348,44.021476],[-92.467348,44.021597],[-92.467349,44.021708],[-92.46735,44.022191],[-92.467317,44.022224],[-92.467263,44.022256],[-92.467224,44.022269],[-92.467198,44.022277],[-92.467123,44.022292],[-92.46708,44.022315],[-92.467054,44.022341],[-92.467044,44.022365]]}}]}},function(e,t,r){"use strict";function o(e,t){var r=a;if(i&&t.preferences&&t.preferences.mobile_phone&&(r=t.preferences.mobile_phone),r){var o=[];if(e&&(o=e.legs.map(function(e){var t=e.steps.map(function(e){var t="directions-icon";return e.modifier&&(t+=" directions-icon-"+e.modifier),"* "+e.instruction+" "+e.distance+"m"});return"DESTINATION: "+e.poi.name+"\n"+t.join("\n")})),o.length>0){var s=o.join("\n\n");Object(n.a)(r,s).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}}t.a=o;var n=r(81),i="false";i&&"false"===i.toLowerCase()&&(i=!1);var a="617-299-1557"},function(e,t,r){"use strict";function o(e,t){var r=e;if(r)return r=r.replace(/\(/g,"").replace(/\)/g,"").replace(/\-/g,""),r.startsWith("+")||(r.startsWith("1")||(r="1"+r),r="+"+r),i()({method:"POST",url:"/api/text",data:{phoneNumber:r,text:t}})}t.a=o;var n=r(9),i=r.n(n)},function(e,t){e.exports=[{number:"1",name:"Discovery Square",label:"Discovery\nSquare",disabled:!0},{number:"2",name:"Mayo Guggenheim",label:"Mayo\nGuggenheim"},{number:"3",name:"Mayo Gonda",label:"Mayo\nGonda"},{number:"4",name:"Peace Plaza",label:"Peace\nPlaza"},{number:"5",name:"Restaurant District",label:"Restaurant\nDistrict"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessage=t.RegisterExternalListener=void 0;var o=r(84),n=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(230),a=r(231);t.default=n.default,t.RegisterExternalListener=i.RegisterExternalListener,t.SendMessage=a.SendMessage},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),c=r(1),l=o(c),p=r(228),u=o(p),d=r(229),h=o(d),m=function(t){function r(e){n(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={error:null},t._unityLoaderService=new u.default,t}return a(r,t),s(r,[{key:"componentDidMount",value:function(){this._instantiate()}},{key:"componentWillUnmount",value:function(){this._unityLoaderService.unmount()}},{key:"_instantiate",value:function(){var t=this,r=null;"undefined"===typeof this.props.loader&&(r="Please provide Unity with a path to the UnityLoader in the loader prop."),"undefined"===typeof this.props.src&&(r="Please provide Unity with a path to a valid JSON in the src prop."),null!==r?(console.error(r),this.setState({error:r})):this._unityLoaderService.append(this.props.loader).then(function(){var r=UnityLoader.instantiate("unity",t.props.src,{onProgress:t._onProgress.bind(t),Module:t.props.module});e.exports.UnityInstance=r})}},{key:"_onProgress",value:function(e,t){"undefined"!==typeof this.props.onProgress&&this.props.onProgress(t)}},{key:"_getContainerStyles",value:function(){return{width:this.props.width||"100%",height:this.props.height||"100%"}}},{key:"render",value:function(){return l.default.createElement("div",{className:"unity",style:this._getContainerStyles()},null!==this.state.error?l.default.createElement("b",null,"React-Unity-Webgl error ",this.state.error):l.default.createElement("div",{style:h.default.unity,id:"unity"}))}}]),r}(c.Component);t.default=m},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t,r){var o=void 0===r;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Mayo Gonda",description:"Mayo Clinic main patient building. It rises 305 feet (93 m) in 21 floors, and was completed in 2001. The Gonda building was the largest building project in the Mayo Clinic\u2019s history, the Leslie & Susan Gonda Building was constructed in three phases to a height of 21 stories. Located at the heart of the campus, Gonda is the centerpiece of Mayo\u2019s integrated practice.",poi:["Mayo Clinic specialties (cardiology, gastroenterology, neurology, etc.","May Clinic Gift Shop","Mayo Clinic Center for Innovation","Gonda Building Atrium"],factoids:["Rochesters 2nd tallest building","Built in 2001","Connected to the Mayo Building","305 feet tall","21 stories tall","Most doctors offices, exam rooms, and some testing areas, are located in Gonda and Mayo Buildings","Overall Mayos extended downtown campus comprises about 30 buildings and 5 parking ramps"],what3words:"mercy.grants.ducks",stop_id:"stop_1",simulation_offset:211,delta_time:106e3},geometry:{type:"Point",coordinates:[-92.467148454828,44.022351687354]}},{type:"Feature",properties:{name:"Peace Plaza",description:"Social events, shops all around, music, Thursdays on First and Third",poi:["Chateau Theater (closed)","Lasker's Jewelers","Victoria's Restaurant","Galleria Mall","O&B Shoes","Marriott Hotel","Gateway to Heart of the City"],factoids:["Public park","Location of Thursdays on First and 3rd Summer Market and Music Festival","Host for SociallCE - Rochesters Winter Ice Bar","In the heart of downtown"],what3words:"fails.aspect.estate",stop_id:"stop_2",simulation_offset:427,delta_time:214e3},geometry:{type:"Point",coordinates:[-92.464548669579,44.022475156222]}},{type:"Feature",properties:{name:"Restaurant District",description:"Historic 3rd Street and 1st Ave Restaurant District. Food and boutique shops, antiques, artwork",poi:["The Doggery","The Tap House","Half Barrel Pub","Artistic Framers","John Kruesel's General Merchandise","Minnesota BioBusiness Center","The Loop"],factoids:["The Doggery","The Tap House","Half Barrel Pub","Artistic Framers","John Kruesel's General Merchandise","Minnesota BioBusiness Center","The Loop","Newts Restaurant","City Market Restaurant","Grand Rounds Brew Pub","Jefe Rojos Restaurant","University of Minnesota"],what3words:"hero.maybe.risks",stop_id:"stop_3",simulation_offset:570,delta_time:285500},geometry:{type:"Point",coordinates:[-92.464536948532,44.020596506866]}},{type:"Feature",properties:{name:"Discovery Square",description:"Future site of Discovery Square. First Destination Medical Center building for the Discover Square District",poi:["Parking","Mortenson building"],factoids:["Urban life-science hub, attracting the worlds leading medical practitioners, educators, researchers and businesses","Invites positive collisions among Mayo doctors, researchers and entrepreneurs","Celebrates science on display and enables practitioners and educators to live and work alongside researchers and entrepreneurs","16 block sub-district built in collaboration with Mayo Clinic"],what3words:"school.fence.shut",stop_id:"stop_4",simulation_offset:19,delta_time:1e4},geometry:{type:"Point",coordinates:[-92.466721277482,44.019369728467]}},{type:"Feature",properties:{name:"Mayo Guggenheim",description:"Mayo Clinic research laboratories",poi:["Mayo Clinic research laboratories","Mayo Medical School","Mayo Clinic Hilton building","Mayo Clinic Stabile building"],factoids:["Home of Mayo research laboratories","Developed the ketogenic diet for control of epilepsy","Performed the first heart-lung-liver transplant in the US","Developed and implemented the concept of integrated, multi-specialty group practice of medicine -- Mayo Clinics most enduring and significant contribution to medicine","Introduced the firt computerized tomography (CT) scanner in North America","Established the largest hart-liver transplant program in the US","Two Mayo Clinic staff members -- a resarch scientist and a clinician -- shared the 1950 Nobel Prize in Physiology or Medicine for the discovery of cortisone","Demonstrated that police cars equipped with Automated external defibrillators (AEDs) improve survival outcomes from cardiac arrest, leding to AEDs as standard issue in police cars","Established the first hospital-based blood bank in the US","Developed the first G-suit, a flight suit outfitted with air-filled bladders and a system of valves to protect pilots during high-speed maneuvers by increasing blood flow to the brain"],what3words:"newly.kept.rests",stop_id:"stop_5",simulation_offset:68,delta_time:34500},geometry:{type:"Point",coordinates:[-92.467330873686,44.020779972144]}}]}},function(e,t,r){r(90),e.exports=r(95)},function(e,t,r){"use strict";"undefined"===typeof Promise&&(r(91).enable(),window.Promise=r(93)),r(94),Object.assign=r(18)},function(e,t,r){"use strict";function o(){l=!1,s._47=null,s._71=null}function n(e){function t(t){(e.allRejections||a(u[t].error,e.whitelist||c))&&(u[t].displayId=p++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,i(u[t].displayId,u[t].error)))}function r(t){u[t].logged&&(e.onHandled?e.onHandled(u[t].displayId,u[t].error):u[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[t].displayId+".")))}e=e||{},l&&o(),l=!0;var n=0,p=0,u={};s._47=function(e){2===e._83&&u[e._56]&&(u[e._56].logged?r(e._56):clearTimeout(u[e._56].timeout),delete u[e._56])},s._71=function(e,r){0===e._75&&(e._56=n++,u[e._56]={displayId:null,error:r,timeout:setTimeout(t.bind(null,e._56),a(r,c)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=r(37),c=[ReferenceError,TypeError,RangeError],l=!1;t.disable=o,t.enable=n},function(e,t,r){"use strict";(function(t){function r(e){a.length||(i(),s=!0),a[a.length]=e}function o(){for(;c<a.length;){var e=c;if(c+=1,a[e].call(),c>l){for(var t=0,r=a.length-c;t<r;t++)a[t]=a[t+c];a.length-=c,c=0}}a.length=0,c=0,s=!1}function n(e){return function(){function t(){clearTimeout(r),clearInterval(o),e()}var r=setTimeout(t,0),o=setInterval(t,50)}}e.exports=r;var i,a=[],s=!1,c=0,l=1024,p="undefined"!==typeof t?t:self,u=p.MutationObserver||p.WebKitMutationObserver;i="function"===typeof u?function(e){var t=1,r=new u(e),o=document.createTextNode("");return r.observe(o,{characterData:!0}),function(){t=-t,o.data=t}}(o):n(o),r.requestFlush=i,r.makeRequestCallFromTimer=n}).call(t,r(5))},function(e,t,r){"use strict";function o(e){var t=new n(n._44);return t._83=1,t._18=e,t}var n=r(37);e.exports=n;var i=o(!0),a=o(!1),s=o(null),c=o(void 0),l=o(0),p=o("");n.resolve=function(e){if(e instanceof n)return e;if(null===e)return s;if(void 0===e)return c;if(!0===e)return i;if(!1===e)return a;if(0===e)return l;if(""===e)return p;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new n(t.bind(e))}catch(e){return new n(function(t,r){r(e)})}return o(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof n&&s.then===n.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?o(a,s._18):(2===s._83&&r(s._18),void s.then(function(e){o(a,e)},r))}var c=s.then;if("function"===typeof c){return void new n(c.bind(s)).then(function(e){o(a,e)},r)}}t[a]=s,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)o(a,t[a])})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!==typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function l(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&_(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var r=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function y(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function f(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,o){e=t(e),o=r(o);var n=this.map[e];this.map[e]=n?n+","+o:o},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,o){this.map[t(e)]=r(o)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},v.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},u.call(h.prototype),u.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];f.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=h,e.Response=f,e.fetch=function(e,t){return new Promise(function(r,o){var n=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new f(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),n.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"===typeof n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r.n(o),i=r(97),a=r.n(i),s=r(107),c=(r.n(s),r(108)),l=(r.n(c),r(109)),p=r(249);a.a.render(n.a.createElement(l.a,null),document.getElementById("root")),Object(p.a)()},function(e,t,r){"use strict";function o(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)r+="&args[]="+encodeURIComponent(arguments[o+1]);throw t=Error(r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function n(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||w}function i(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||w}function a(){}function s(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||w}function c(e,t,r,o,n,i,a){return{$$typeof:E,type:e,key:t,ref:r,props:a,_owner:i}}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function p(e,t,r,o){if(R.length){var n=R.pop();return n.result=e,n.keyPrefix=t,n.func=r,n.context=o,n.count=0,n}return{result:e,keyPrefix:t,func:r,context:o,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function d(e,t,r,n){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===T)return r(n,e,""===t?"."+h(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var c=t+h(i,s);a+=d(i,c,r,n)}else if("function"===typeof(c=A&&e[A]||e["@@iterator"]))for(e=c.call(e),s=0;!(i=e.next()).done;)i=i.value,c=t+h(i,s++),a+=d(i,c,r,n);else"object"===i&&(r=""+e,o("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return a}function h(e,t){return"object"===typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function y(e,t,r){var o=e.result,n=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?f(e,o,r,_.thatReturnsArgument):null!=e&&(c.isValidElement(e)&&(e=c.cloneAndReplaceKey(e,n+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+r)),o.push(e))}function f(e,t,r,o,n){var i="";null!=r&&(i=(""+r).replace(M,"$&/")+"/"),t=p(t,i,o,n),null==e||d(e,"",y,t),u(t)}var v=r(18),g=r(38);r(19);var _=r(15),w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&o("85"),this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=n.prototype;var b=i.prototype=new a;b.constructor=i,v(b,n.prototype),b.isPureReactComponent=!0;var x=s.prototype=new a;x.constructor=s,v(x,n.prototype),x.unstable_isAsyncReactComponent=!0,x.render=function(){return this.props.children};var S={Component:n,PureComponent:i,AsyncComponent:s},k={current:null},P=Object.prototype.hasOwnProperty,E="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,C={key:!0,ref:!0,__self:!0,__source:!0};c.createElement=function(e,t,r){var o,n={},i=null,a=null,s=null,l=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),s=void 0===t.__self?null:t.__self,l=void 0===t.__source?null:t.__source,t)P.call(t,o)&&!C.hasOwnProperty(o)&&(n[o]=t[o]);var p=arguments.length-2;if(1===p)n.children=r;else if(1<p){for(var u=Array(p),d=0;d<p;d++)u[d]=arguments[d+2];n.children=u}if(e&&e.defaultProps)for(o in p=e.defaultProps)void 0===n[o]&&(n[o]=p[o]);return c(e,i,a,s,l,k.current,n)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,r){var o=v({},e.props),n=e.key,i=e.ref,a=e._self,s=e._source,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(u in t)P.call(t,u)&&!C.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==p?p[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){p=Array(u);for(var d=0;d<u;d++)p[d]=arguments[d+2];o.children=p}return c(e.type,n,i,a,s,l,o)},c.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===E};var A="function"===typeof Symbol&&Symbol.iterator,T="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,M=/\/+/g,R=[],z={forEach:function(e,t,r){if(null==e)return e;t=p(null,null,t,r),null==e||d(e,"",m,t),u(t)},map:function(e,t,r){if(null==e)return e;var o=[];return f(e,o,null,t,r),o},count:function(e){return null==e?0:d(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return f(e,t,null,_.thatReturnsArgument),t}};e.exports={Children:{map:z.map,forEach:z.forEach,count:z.count,toArray:z.toArray,only:function(e){return c.isValidElement(e)||o("143"),e}},Component:S.Component,PureComponent:S.PureComponent,unstable_AsyncComponent:S.AsyncComponent,createElement:c.createElement,cloneElement:c.cloneElement,isValidElement:c.isValidElement,createFactory:c.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:k,assign:v}}},function(e,t,r){"use strict";function o(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}o(),e.exports=r(98)},function(e,t,r){"use strict";function o(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)r+="&args[]="+encodeURIComponent(arguments[o+1]);throw t=Error(r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function n(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i(){if(At)for(var e in Tt){var t=Tt[e],r=At.indexOf(e);if(-1<r||o("96",e),!Mt.plugins[r]){t.extractEvents||o("97",e),Mt.plugins[r]=t,r=t.eventTypes;for(var n in r){var i=void 0,s=r[n],c=t,l=n;Mt.eventNameDispatchConfigs.hasOwnProperty(l)&&o("99",l),Mt.eventNameDispatchConfigs[l]=s;var p=s.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&a(p[i],c,l);i=!0}else s.registrationName?(a(s.registrationName,c,l),i=!0):i=!1;i||o("98",n,e)}}}}function a(e,t,r){Mt.registrationNameModules[e]&&o("100",e),Mt.registrationNameModules[e]=t,Mt.registrationNameDependencies[e]=t.eventTypes[r].dependencies}function s(e,t){return(e&t)===t}function c(e){for(var t;t=e._renderedComponent;)e=t;return e}function l(e,t){e=c(e),e._hostNode=t,t[Ht]=e}function p(e,t){if(!(e._flags&Wt.hasCachedChildNodes)){var r=e._renderedChildren;t=t.firstChild;var n;e:for(n in r)if(r.hasOwnProperty(n)){var i=r[n],a=c(i)._domID;if(0!==a){for(;null!==t;t=t.nextSibling){var s=t,p=a;if(s.nodeType===Lt&&s.getAttribute(Ut)===""+p||s.nodeType===qt&&s.nodeValue===" react-text: "+p+" "||s.nodeType===qt&&s.nodeValue===" react-empty: "+p+" "){l(i,t);continue e}}o("32",a)}}e._flags|=Wt.hasCachedChildNodes}}function u(e){if(e[Ht])return e[Ht];for(var t=[];!e[Ht];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var r=e[Ht];if(r.tag===Bt||r.tag===Dt)return r;for(;e&&(r=e[Ht]);e=t.pop()){var o=r;t.length&&p(r,e)}return o}function d(e){if("function"===typeof e.getName)return e.getName();if("number"===typeof e.tag){if("string"===typeof(e=e.type))return e;if("function"===typeof e)return e.displayName||e.name}return null}function h(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&rr)!==tr)return 1;for(;t.return;)if(t=t.return,(t.effectTag&rr)!==tr)return 1}return t.tag===Yt?2:3}function m(e){2!==h(e)&&o("188")}function y(e){var t=e.alternate;if(!t)return t=h(e),3===t&&o("188"),1===t?null:e;for(var r=e,n=t;;){var i=r.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===r)return m(i),e;if(s===n)return m(i),t;s=s.sibling}o("188")}if(r.return!==n.return)r=i,n=a;else{s=!1;for(var c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}s||o("189")}}r.alternate!==n&&o("190")}return r.tag!==Yt&&o("188"),r.stateNode.current===r?e:t}function f(e,t,r,o,n,i,a,s,c){nr._hasCaughtError=!1,nr._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){nr._caughtError=e,nr._hasCaughtError=!0}}function v(){if(nr._hasRethrowError){var e=nr._rethrowError;throw nr._rethrowError=null,nr._hasRethrowError=!1,e}}function g(e,t,r,o){t=e.type||"unknown-event",e.currentTarget=ar.getNodeFromInstance(o),ir.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e),e.currentTarget=null}function _(e){if(e=sr.getInstanceFromNode(e))if("number"===typeof e.tag){cr&&"function"===typeof cr.restoreControlledState||o("194");var t=sr.getFiberCurrentPropsFromNode(e.stateNode);cr.restoreControlledState(e.stateNode,e.type,t)}else"function"!==typeof e.restoreControlledState&&o("195"),e.restoreControlledState()}function w(e,t,r,o,n,i){return e(t,r,o,n,i)}function b(e,t){return e(t)}function x(e,t){return b(e,t)}function S(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===mr?e.parentNode:e}function k(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r=t;if("number"===typeof r.tag){for(;r.return;)r=r.return;r=r.tag!==yr?null:r.stateNode.containerInfo}else{for(;r._hostParent;)r=r._hostParent;r=Kt.getNodeFromInstance(r).parentNode}if(!r)break;e.ancestors.push(t),t=Kt.getClosestInstanceFromNode(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],vr._handleTopLevel(e.topLevelType,t,e.nativeEvent,S(e.nativeEvent))}function P(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}function C(e,t){e&&(sr.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))}function A(e){return C(e,!0)}function T(e){return C(e,!1)}function M(e,t,r){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!r.disabled||"button"!==t&&"input"!==t&&"select"!==t&&"textarea"!==t);default:return!1}}function R(e,t){if(!ft.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var r=t in document;return r||(r=document.createElement("div"),r.setAttribute(t,"return;"),r="function"===typeof r[t]),!r&&Et&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}function z(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}function O(e){if(xr[e])return xr[e];if(!br[e])return e;var t,r=br[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sr)return xr[e]=r[t];return""}function j(e){return Object.prototype.hasOwnProperty.call(e,Cr)||(e[Cr]=Er++,Pr[e[Cr]]={}),Pr[e[Cr]]}function N(e){return!!Dr.hasOwnProperty(e)||!Br.hasOwnProperty(e)&&(Ir.test(e)?Dr[e]=!0:(Br[e]=!0,!1))}function F(){return null}function I(e){var t="";return yt.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function B(e,t,r){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o)}else{for(r=""+r,t=null,o=0;o<e.length;o++){if(e[o].value===r)return void(e[o].selected=!0);null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function D(e,t){t&&(Qr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!==typeof t.style&&o("62",""))}function L(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){var t=L(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"function"===typeof r.get&&"function"===typeof r.set)return Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:!0,get:function(){return r.get.call(this)},set:function(e){o=""+e,r.set.call(this,e)}}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function U(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function W(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===ro)return void(r.nodeValue=t)}e.textContent=t}function V(e,t){ao(t,e.nodeType===no||e.nodeType===io?e:e.ownerDocument)}function H(e,t){return e!==zo&&e!==Ro||t!==zo&&t!==Ro?e===Mo&&t!==Mo?-255:e!==Mo&&t===Mo?255:e-t:0}function G(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}function K(e,t,r,o){null!==r?r.next=t:(t.next=e.first,e.first=t),null!==o?t.next=o:e.last=t}function J(e,t){t=t.priorityLevel;var r=null;if(null!==e.last&&0>=H(e.last.priorityLevel,t))r=e.last;else for(e=e.first;null!==e&&0>=H(e.priorityLevel,t);)r=e,e=e.next;return r}function Z(e,t){var r=e.alternate,o=e.updateQueue;null===o&&(o=e.updateQueue=G()),null!==r?null===(e=r.updateQueue)&&(e=r.updateQueue=G()):e=null,No=o,Fo=e!==o?e:null;var n=No;r=Fo;var i=J(n,t),a=null!==i?i.next:n.first;return null===r?(K(n,t,i,a),null):(o=J(r,t),e=null!==o?o.next:r.first,K(n,t,i,a),a===e&&null!==a||i===o&&null!==i?(null===o&&(r.first=t),null===e&&(r.last=null),null):(t={priorityLevel:t.priorityLevel,partialState:t.partialState,callback:t.callback,isReplace:t.isReplace,isForced:t.isForced,isTopLevelUnmount:t.isTopLevelUnmount,next:null},K(r,t,o,e),t))}function X(e,t,r,o){return e=e.partialState,"function"===typeof e?e.call(t,r,o):e}function Q(e,t,r){e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r}function Y(e){return e.tag===Uo&&null!=e.type.childContextTypes}function $(e,t){var r=e.stateNode,n=e.type.childContextTypes;if("function"!==typeof r.getChildContext)return t;r=r.getChildContext();for(var i in r)i in n||o("108",d(e)||"Unknown",i);return vt({},t,r)}function ee(e,t,r){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=r,this.effectTag=pn,this.lastEffect=this.firstEffect=this.nextEffect=null,this.pendingWorkPriority=cn,this.alternate=null}function te(e,t,r){var n=void 0;return"function"===typeof e?(n=e.prototype&&e.prototype.isReactComponent?new ee($o,t,r):new ee(Yo,t,r),n.type=e):"string"===typeof e?(n=new ee(tn,t,r),n.type=e):"object"===typeof e&&null!==e&&"number"===typeof e.tag?n=e:o("130",null==e?e:typeof e,""),n}function re(e){return null===e||"undefined"===typeof e?null:(e=qn&&e[qn]||e["@@iterator"],"function"===typeof e?e:null)}function oe(e,t){var r=t.ref;if(null!==r&&"function"!==typeof r){if(t._owner){t=t._owner;var n=void 0;t&&("number"===typeof t.tag?(t.tag!==zn&&o("110"),n=t.stateNode):n=t.getPublicInstance()),n||o("147",r);var i=""+r;return null!==e&&null!==e.ref&&e.ref._stringRef===i?e.ref:(e=function(e){var t=n.refs===wt?n.refs={}:n.refs;null===e?delete t[i]:t[i]=e},e._stringRef=i,e)}"string"!==typeof r&&o("148"),t._owner||o("149",r)}return r}function ne(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ie(e,t){function r(r,o){if(t){if(!e){if(null===o.alternate)return;o=o.alternate}var n=r.lastEffect;null!==n?(n.nextEffect=o,r.lastEffect=o):r.firstEffect=r.lastEffect=o,o.nextEffect=null,o.effectTag=Ln}}function n(e,o){if(!t)return null;for(;null!==o;)r(e,o),o=o.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,r){return e?(t=Sn(t,r),t.index=0,t.sibling=null,t):(t.pendingWorkPriority=r,t.effectTag=Bn,t.index=0,t.sibling=null,t)}function s(e,r,o){return e.index=o,t?null!==(o=e.alternate)?(o=o.index,o<r?(e.effectTag=Dn,r):o):(e.effectTag=Dn,r):r}function c(e){return t&&null===e.alternate&&(e.effectTag=Dn),e}function l(e,t,r,o){return null===t||t.tag!==On?(r=En(r,e.internalContextTag,o),r.return=e,r):(t=a(t,o),t.pendingProps=r,t.return=e,t)}function p(e,t,r,o){return null===t||t.type!==r.type?(o=kn(r,e.internalContextTag,o),o.ref=oe(t,r),o.return=e,o):(o=a(t,o),o.ref=oe(t,r),o.pendingProps=r.props,o.return=e,o)}function u(e,t,r,o){return null===t||t.tag!==Nn?(r=Cn(r,e.internalContextTag,o),r.return=e,r):(t=a(t,o),t.pendingProps=r,t.return=e,t)}function d(e,t,r,o){return null===t||t.tag!==Fn?(t=An(r,e.internalContextTag,o),t.type=r.value,t.return=e,t):(t=a(t,o),t.type=r.value,t.return=e,t)}function h(e,t,r,o){return null===t||t.tag!==jn||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(r=Tn(r,e.internalContextTag,o),r.return=e,r):(t=a(t,o),t.pendingProps=r.children||[],t.return=e,t)}function m(e,t,r,o){return null===t||t.tag!==In?(r=Pn(r,e.internalContextTag,o),r.return=e,r):(t=a(t,o),t.pendingProps=r,t.return=e,t)}function y(e,t,r){if("string"===typeof t||"number"===typeof t)return t=En(""+t,e.internalContextTag,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Un:return r=kn(t,e.internalContextTag,r),r.ref=oe(null,t),r.return=e,r;case wn:return t=Cn(t,e.internalContextTag,r),t.return=e,t;case bn:return r=An(t,e.internalContextTag,r),r.type=t.value,r.return=e,r;case xn:return t=Tn(t,e.internalContextTag,r),t.return=e,t}if(Mn(t)||re(t))return t=Pn(t,e.internalContextTag,r),t.return=e,t;ne(e,t)}return null}function f(e,t,r,o){var n=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==n?null:l(e,t,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Un:return r.key===n?p(e,t,r,o):null;case wn:return r.key===n?u(e,t,r,o):null;case bn:return null===n?d(e,t,r,o):null;case xn:return r.key===n?h(e,t,r,o):null}if(Mn(r)||re(r))return null!==n?null:m(e,t,r,o);ne(e,r)}return null}function v(e,t,r,o,n){if("string"===typeof o||"number"===typeof o)return e=e.get(r)||null,l(t,e,""+o,n);if("object"===typeof o&&null!==o){switch(o.$$typeof){case Un:return e=e.get(null===o.key?r:o.key)||null,p(t,e,o,n);case wn:return e=e.get(null===o.key?r:o.key)||null,u(t,e,o,n);case bn:return e=e.get(r)||null,d(t,e,o,n);case xn:return e=e.get(null===o.key?r:o.key)||null,h(t,e,o,n)}if(Mn(o)||re(o))return e=e.get(r)||null,m(t,e,o,n);ne(t,o)}return null}function g(e,o,a,c){for(var l=null,p=null,u=o,d=o=0,h=null;null!==u&&d<a.length;d++){u.index>d?(h=u,u=null):h=u.sibling;var m=f(e,u,a[d],c);if(null===m){null===u&&(u=h);break}t&&u&&null===m.alternate&&r(e,u),o=s(m,o,d),null===p?l=m:p.sibling=m,p=m,u=h}if(d===a.length)return n(e,u),l;if(null===u){for(;d<a.length;d++)(u=y(e,a[d],c))&&(o=s(u,o,d),null===p?l=u:p.sibling=u,p=u);return l}for(u=i(e,u);d<a.length;d++)(h=v(u,e,d,a[d],c))&&(t&&null!==h.alternate&&u.delete(null===h.key?d:h.key),o=s(h,o,d),null===p?l=h:p.sibling=h,p=h);return t&&u.forEach(function(t){return r(e,t)}),l}function _(e,a,c,l){var p=re(c);"function"!==typeof p&&o("150"),null==(c=p.call(c))&&o("151");for(var u=p=null,d=a,h=a=0,m=null,g=c.next();null!==d&&!g.done;h++,g=c.next()){d.index>h?(m=d,d=null):m=d.sibling;var _=f(e,d,g.value,l);if(null===_){d||(d=m);break}t&&d&&null===_.alternate&&r(e,d),a=s(_,a,h),null===u?p=_:u.sibling=_,u=_,d=m}if(g.done)return n(e,d),p;if(null===d){for(;!g.done;h++,g=c.next())null!==(g=y(e,g.value,l))&&(a=s(g,a,h),null===u?p=g:u.sibling=g,u=g);return p}for(d=i(e,d);!g.done;h++,g=c.next())null!==(g=v(d,e,h,g.value,l))&&(t&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=s(g,a,h),null===u?p=g:u.sibling=g,u=g);return t&&d.forEach(function(t){return r(e,t)}),p}return function(e,t,i,s){var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case Un:e:{var p=i.key;for(l=t;null!==l;){if(l.key===p){if(l.type===i.type){n(e,l.sibling),t=a(l,s),t.ref=oe(l,i),t.pendingProps=i.props,t.return=e,e=t;break e}n(e,l);break}r(e,l),l=l.sibling}s=kn(i,e.internalContextTag,s),s.ref=oe(t,i),s.return=e,e=s}return c(e);case wn:e:{for(l=i.key;null!==t;){if(t.key===l){if(t.tag===Nn){n(e,t.sibling),t=a(t,s),t.pendingProps=i,t.return=e,e=t;break e}n(e,t);break}r(e,t),t=t.sibling}i=Cn(i,e.internalContextTag,s),i.return=e,e=i}return c(e);case bn:e:{if(null!==t){if(t.tag===Fn){n(e,t.sibling),t=a(t,s),t.type=i.value,t.return=e,e=t;break e}n(e,t)}t=An(i,e.internalContextTag,s),t.type=i.value,t.return=e,e=t}return c(e);case xn:e:{for(l=i.key;null!==t;){if(t.key===l){if(t.tag===jn&&t.stateNode.containerInfo===i.containerInfo&&t.stateNode.implementation===i.implementation){n(e,t.sibling),t=a(t,s),t.pendingProps=i.children||[],t.return=e,e=t;break e}n(e,t);break}r(e,t),t=t.sibling}i=Tn(i,e.internalContextTag,s),i.return=e,e=i}return c(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==t&&t.tag===On?(n(e,t.sibling),t=a(t,s),t.pendingProps=i,t.return=e,e=t):(n(e,t),i=En(i,e.internalContextTag,s),i.return=e,e=i),c(e);if(Mn(i))return g(e,t,i,s);if(re(i))return _(e,t,i,s);if(l&&ne(e,i),"undefined"===typeof i)switch(e.tag){case zn:case Rn:i=e.type,o("152",i.displayName||i.name||"Component")}return n(e,t)}}function ae(e,t,r,n){function i(e,t){t.updater=a,e.stateNode=t,Jt.set(t,e)}var a={isMounted:ni,enqueueSetState:function(r,o,n){r=Jt.get(r);var i=t(r,!1);$n(r,o,void 0===n?null:n,i),e(r,i)},enqueueReplaceState:function(r,o,n){r=Jt.get(r);var i=t(r,!1);ei(r,o,void 0===n?null:n,i),e(r,i)},enqueueForceUpdate:function(r,o){r=Jt.get(r);var n=t(r,!1);ti(r,void 0===o?null:o,n),e(r,n)}};return{adoptClassInstance:i,constructClassInstance:function(e,t){var r=e.type,o=Qn(e),n=Yn(e),a=n?Xn(e,o):wt;return t=new r(t,a),i(e,t),n&&Zn(e,o,a),t},mountClassInstance:function(e,t){var r=e.alternate,n=e.stateNode,i=n.state||null,s=e.pendingProps;s||o("158");var c=Qn(e);n.props=s,n.state=i,n.refs=wt,n.context=Xn(e,c),Co.enableAsyncSubtreeAPI&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=Jn),"function"===typeof n.componentWillMount&&(c=n.state,n.componentWillMount(),c!==n.state&&a.enqueueReplaceState(n,n.state,null),null!==(c=e.updateQueue)&&(n.state=ri(r,e,c,n,i,s,t))),"function"===typeof n.componentDidMount&&(e.effectTag|=Kn)},updateClassInstance:function(e,t,i){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var c=t.memoizedProps,l=t.pendingProps;l||null==(l=c)&&o("159");var p=s.context,u=Qn(t);if(u=Xn(t,u),"function"!==typeof s.componentWillReceiveProps||c===l&&p===u||(p=s.state,s.componentWillReceiveProps(l,u),s.state!==p&&a.enqueueReplaceState(s,s.state,null)),p=t.memoizedState,i=null!==t.updateQueue?ri(e,t,t.updateQueue,s,p,l,i):p,!(c!==l||p!==i||oi()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=Kn),!1;var d=l;if(null===c||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)d=!0;else{var h=t.stateNode,m=t.type;d="function"===typeof h.shouldComponentUpdate?h.shouldComponentUpdate(d,i,u):!m.prototype||!m.prototype.isPureReactComponent||(!bt(c,d)||!bt(p,i))}return d?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(l,i,u),"function"===typeof s.componentDidUpdate&&(t.effectTag|=Kn)):("function"!==typeof s.componentDidUpdate||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=Kn),r(t,l),n(t,i)),s.props=l,s.state=i,s.context=u,d}}}function se(e,t,r,n,i){function a(e,t,r){s(e,t,r,t.pendingWorkPriority)}function s(e,t,r,o){t.child=null===e?ii(t,t.child,r,o):e.child===t.child?ai(t,t.child,r,o):si(t,t.child,r,o)}function c(e,t){var r=t.ref;null===r||e&&e.ref===r||(t.effectTag|=Oi)}function l(e,t,r,o){if(c(e,t),!r)return o&&yi(t,!1),u(e,t);r=t.stateNode,ji.current=t;var n=r.render();return t.effectTag|=Ti,a(e,t,n),t.memoizedState=r.state,t.memoizedProps=r.props,o&&yi(t,!0),t.child}function p(e){var t=e.stateNode;t.pendingContext?mi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(e,t.context,!1),v(e,t.containerInfo)}function u(e,t){return ci(e,t),t.child}function d(e,t){switch(t.tag){case _i:p(t);break;case gi:hi(t);break;case xi:v(t,t.stateNode.containerInfo)}return null}var h=e.shouldSetTextContent,m=e.useSyncScheduling,y=e.shouldDeprioritizeSubtree,f=t.pushHostContext,v=t.pushHostContainer,g=r.enterHydrationState,_=r.resetHydrationState,w=r.tryToClaimNextHydratableInstance;e=ae(n,i,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var b=e.adoptClassInstance,x=e.constructClassInstance,S=e.mountClassInstance,k=e.updateClassInstance;return{beginWork:function(e,t,r){if(t.pendingWorkPriority===Ci||t.pendingWorkPriority>r)return d(e,t);switch(t.tag){case fi:null!==e&&o("155");var n=t.type,i=t.pendingProps,s=ui(t);return s=pi(t,s),n=n(i,s),t.effectTag|=Ti,"object"===typeof n&&null!==n&&"function"===typeof n.render?(t.tag=gi,i=hi(t),b(t,n),S(t,r),t=l(e,t,!0,i)):(t.tag=vi,a(e,t,n),t.memoizedProps=i,t=t.child),t;case vi:e:{if(i=t.type,r=t.pendingProps,n=t.memoizedProps,di())null===r&&(r=n);else if(null===r||n===r){t=u(e,t);break e}n=ui(t),n=pi(t,n),i=i(r,n),t.effectTag|=Ti,a(e,t,i),t.memoizedProps=r,t=t.child}return t;case gi:return i=hi(t),n=void 0,null===e?t.stateNode?o("153"):(x(t,t.pendingProps),S(t,r),n=!0):n=k(e,t,r),l(e,t,n,i);case _i:return p(t),n=t.updateQueue,null!==n?(i=t.memoizedState,n=li(e,t,n,null,i,null,r),i===n?(_(),t=u(e,t)):(i=n.element,null!==e&&null!==e.child||!g(t)?(_(),a(e,t,i)):(t.effectTag|=Mi,t.child=ii(t,t.child,i,r)),t.memoizedState=n,t=t.child)):(_(),t=u(e,t)),t;case wi:f(t),null===e&&w(t),i=t.type;var P=t.memoizedProps;return n=t.pendingProps,null===n&&null===(n=P)&&o("154"),s=null!==e?e.memoizedProps:null,di()||null!==n&&P!==n?(P=n.children,h(i,n)?P=null:s&&h(i,s)&&(t.effectTag|=Ri),c(e,t),r!==Ai&&!m&&y(i,n)?(t.pendingWorkPriority=Ai,t=null):(a(e,t,P),t.memoizedProps=n,t=t.child)):t=u(e,t),t;case bi:return null===e&&w(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case ki:t.tag=Si;case Si:return r=t.pendingProps,di()?null===r&&null===(r=e&&e.memoizedProps)&&o("154"):null!==r&&t.memoizedProps!==r||(r=t.memoizedProps),i=r.children,n=t.pendingWorkPriority,t.stateNode=null===e?ii(t,t.stateNode,i,n):e.child===t.child?ai(t,t.stateNode,i,n):si(t,t.stateNode,i,n),t.memoizedProps=r,t.stateNode;case Pi:return null;case xi:e:{if(v(t,t.stateNode.containerInfo),r=t.pendingWorkPriority,i=t.pendingProps,di())null===i&&null==(i=e&&e.memoizedProps)&&o("154");else if(null===i||t.memoizedProps===i){t=u(e,t);break e}null===e?t.child=si(t,t.child,i,r):a(e,t,i),t.memoizedProps=i,t=t.child}return t;case Ei:e:{if(r=t.pendingProps,di())null===r&&(r=t.memoizedProps);else if(null===r||t.memoizedProps===r){t=u(e,t);break e}a(e,t,r),t.memoizedProps=r,t=t.child}return t;default:o("156")}},beginFailedWork:function(e,t,r){switch(t.tag){case gi:hi(t);break;case _i:p(t);break;default:o("157")}return t.effectTag|=zi,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.pendingWorkPriority===Ci||t.pendingWorkPriority>r?d(e,t):(t.firstEffect=null,t.lastEffect=null,s(e,t,null,r),t.tag===gi&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function ce(e,t,r){var n=e.createInstance,i=e.createTextInstance,a=e.appendInitialChild,s=e.finalizeInitialChildren,c=e.prepareUpdate,l=t.getRootHostContainer,p=t.popHostContext,u=t.getHostContext,d=t.popHostContainer,h=r.prepareToHydrateHostInstance,m=r.prepareToHydrateHostTextInstance,y=r.popHydrationState;return{completeWork:function(e,t,r){var f=t.pendingProps;switch(null===f?f=t.memoizedProps:t.pendingWorkPriority===Yi&&r!==Yi||(t.pendingProps=null),t.tag){case Di:return null;case Li:return Fi(t),null;case qi:return d(t),Ii(t),f=t.stateNode,f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),null!==e&&null!==e.child||(y(t),t.effectTag&=~Zi),null;case Ui:p(t),r=l();var v=t.type;if(null!==e&&null!=t.stateNode){var g=e.memoizedProps,_=t.stateNode,w=u();f=c(_,v,g,f,r,w),(t.updateQueue=f)&&(t.effectTag|=Qi),e.ref!==t.ref&&(t.effectTag|=Xi)}else{if(!f)return null===t.stateNode&&o("166"),null;if(e=u(),y(t))h(t,r,e)&&(t.effectTag|=Qi);else{e=n(v,f,r,e,t);e:for(g=t.child;null!==g;){if(g.tag===Ui||g.tag===Wi)a(e,g.stateNode);else if(g.tag!==Vi&&null!==g.child){g=g.child;continue}if(g===t)break e;for(;null===g.sibling;){if(null===g.return||g.return===t)break e;g=g.return}g=g.sibling}s(e,v,f,r)&&(t.effectTag|=Qi),t.stateNode=e}null!==t.ref&&(t.effectTag|=Xi)}return null;case Wi:if(e&&null!=t.stateNode)e.memoizedProps!==f&&(t.effectTag|=Qi);else{if("string"!==typeof f)return null===t.stateNode&&o("166"),null;e=l(),r=u(),y(t)?m(t)&&(t.effectTag|=Qi):t.stateNode=i(f,e,r,t)}return null;case Hi:(f=t.memoizedProps)||o("165"),t.tag=Gi,r=[];e:for((v=t.stateNode)&&(v.return=t);null!==v;){if(v.tag===Ui||v.tag===Wi||v.tag===Vi)o("164");else if(v.tag===Ki)r.push(v.type);else if(null!==v.child){v.child.return=v,v=v.child;continue}for(;null===v.sibling;){if(null===v.return||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}return v=f.handler,f=v(f.props,r),t.child=Ni(t,null!==e?e.child:null,f,t.pendingWorkPriority),t.child;case Gi:return t.tag=Hi,null;case Ki:case Ji:return null;case Vi:return t.effectTag|=Qi,d(t),null;case Bi:o("167");default:o("156")}}}}function le(e){return function(t){try{return e(t)}catch(e){}}}function pe(e,t){function r(e){var r=e.ref;if(null!==r)try{r(null)}catch(r){t(e,r)}}function n(e){return e.tag===na||e.tag===oa||e.tag===aa}function i(e){for(var t=e;;)if(s(t),null!==t.child&&t.tag!==aa)t.child.return=t,t=t.child;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function a(e){for(var t=e,r=!1,n=void 0,a=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&o("160"),r.tag){case na:n=r.stateNode,a=!1;break e;case oa:case aa:n=r.stateNode.containerInfo,a=!0;break e}r=r.return}r=!0}if(t.tag===na||t.tag===ia)i(t),a?v(n,t.stateNode):f(n,t.stateNode);else if(t.tag===aa?n=t.stateNode.containerInfo:s(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,t.tag===aa&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function s(e){switch("function"===typeof la&&la(e),e.tag){case ra:r(e);var o=e.stateNode;if("function"===typeof o.componentWillUnmount)try{o.props=e.memoizedProps,o.state=e.memoizedState,o.componentWillUnmount()}catch(r){t(e,r)}break;case na:r(e);break;case sa:i(e.stateNode);break;case aa:a(e)}}var c=e.commitMount,l=e.commitUpdate,p=e.resetTextContent,u=e.commitTextUpdate,d=e.appendChild,h=e.appendChildToContainer,m=e.insertBefore,y=e.insertInContainerBefore,f=e.removeChild,v=e.removeChildFromContainer,g=e.getPublicInstance;return{commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(n(t)){var r=t;break e}t=t.return}o("160"),r=void 0}var i=t=void 0;switch(r.tag){case na:t=r.stateNode,i=!1;break;case oa:case aa:t=r.stateNode.containerInfo,i=!0;break;default:o("161")}r.effectTag&ha&&(p(t),r.effectTag&=~ha);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||n(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==na&&r.tag!==ia;){if(r.effectTag&pa)continue t;if(null===r.child||r.tag===aa)continue t;r.child.return=r,r=r.child}if(!(r.effectTag&pa)){r=r.stateNode;break e}}for(var a=e;;){if(a.tag===na||a.tag===ia)r?i?y(t,a.stateNode,r):m(t,a.stateNode,r):i?h(t,a.stateNode):d(t,a.stateNode);else if(a.tag!==aa&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){a(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case ra:break;case na:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&l(r,a,i,e,n,t)}break;case ia:null===t.stateNode&&o("162"),r=t.memoizedProps,u(t.stateNode,null!==e?e.memoizedProps:r,r);break;case oa:case aa:break;default:o("163")}},commitLifeCycles:function(e,t){switch(t.tag){case ra:var r=t.stateNode;if(t.effectTag&ua)if(null===e)r.props=t.memoizedProps,r.state=t.memoizedState,r.componentDidMount();else{var n=e.memoizedProps;e=e.memoizedState,r.props=t.memoizedProps,r.state=t.memoizedState,r.componentDidUpdate(n,e)}t.effectTag&da&&null!==t.updateQueue&&ca(t,t.updateQueue,r);break;case oa:e=t.updateQueue,null!==e&&ca(t,e,t.child&&t.child.stateNode);break;case na:r=t.stateNode,null===e&&t.effectTag&ua&&c(r,t.type,t.memoizedProps,t);break;case ia:case aa:break;default:o("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case na:t(g(r));break;default:t(r)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function ue(e){function t(e){return e===va&&o("174"),e}var r=e.getChildHostContext,n=e.getRootHostContext,i=ma(va),a=ma(va),s=ma(va);return{getHostContext:function(){return t(i.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){ya(i,e),ya(a,e),ya(s,e)},popHostContext:function(e){a.current===e&&(ya(i,e),ya(a,e))},pushHostContainer:function(e,t){fa(s,t,e),t=n(t),fa(a,e,e),fa(i,t,e)},pushHostContext:function(e){var o=t(s.current),n=t(i.current);o=r(n,e.type,o),n!==o&&(fa(a,e,e),fa(i,o,e))},resetHostContainer:function(){i.current=va,s.current=va}}}function de(e){function t(e,t){var r=Sa();r.stateNode=t,r.return=e,r.effectTag=ba,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function r(e,t){switch(e.tag){case ga:return a(t,e.type,e.pendingProps);case _a:return s(t,e.pendingProps);default:return!1}}function n(e){for(e=e.return;null!==e&&e.tag!==ga&&e.tag!==wa;)e=e.return;m=e}var i=e.shouldSetTextContent,a=e.canHydrateInstance,s=e.canHydrateTextInstance,c=e.getNextHydratableSibling,l=e.getFirstHydratableChild,p=e.hydrateInstance,u=e.hydrateTextInstance,d=e.didNotHydrateInstance,h=e.didNotFindHydratableInstance;if(e=e.didNotFindHydratableTextInstance,!(a&&s&&c&&l&&p&&u&&d&&h&&e))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){o("175")},prepareToHydrateHostTextInstance:function(){o("176")},popHydrationState:function(){return!1}};var m=null,y=null,f=!1;return{enterHydrationState:function(e){return y=l(e.stateNode.containerInfo),m=e,f=!0},resetHydrationState:function(){y=m=null,f=!1},tryToClaimNextHydratableInstance:function(e){if(f){var o=y;if(o){if(!r(e,o)){if(!(o=c(o))||!r(e,o))return e.effectTag|=xa,f=!1,void(m=e);t(m,y)}e.stateNode=o,m=e,y=l(o)}else e.effectTag|=xa,f=!1,m=e}},prepareToHydrateHostInstance:function(e,t,r){return t=p(e.stateNode,e.type,e.memoizedProps,t,r,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return u(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==m)return!1;if(!f)return n(e),f=!0,!1;var r=e.type;if(e.tag!==ga||"head"!==r&&"body"!==r&&!i(r,e.memoizedProps))for(r=y;r;)t(e,r),r=c(r);return n(e),y=m?c(e.stateNode):null,!0}}}function he(e){function t(){for(;null!==G&&G.current.pendingWorkPriority===Ma;){G.isScheduled=!1;var e=G.nextScheduledRoot;if(G.nextScheduledRoot=null,G===K)return K=G=null,W=Ma,null;G=e}e=G;for(var t=null,r=Ma;null!==e;)e.current.pendingWorkPriority!==Ma&&(r===Ma||r>e.current.pendingWorkPriority)&&(r=e.current.pendingWorkPriority,t=e),e=e.nextScheduledRoot;null!==t?(W=r,Pa(),Qa(),x(),U=Ca(t.current,r),t!==ne&&(oe=0,ne=t)):(W=Ma,ne=U=null)}function r(r){ee=!0,H=null;var n=r.stateNode;if(n.current===r&&o("177"),W!==Ra&&W!==za||oe++,Ea.current=null,r.effectTag>Ia)if(null!==r.lastEffect){r.lastEffect.nextEffect=r;var i=r.firstEffect}else i=r;else i=r.firstEffect;for(N(),V=i;null!==V;){var a=!1,s=void 0;try{for(;null!==V;){var c=V.effectTag;if(c&Ua&&e.resetTextContent(V.stateNode),c&Ha){var l=V.alternate;null!==l&&z(l)}switch(c&~(Wa|Va|Ua|Ha|Ia)){case Ba:C(V),V.effectTag&=~Ba;break;case La:C(V),V.effectTag&=~Ba,T(V.alternate,V);break;case Da:T(V.alternate,V);break;case qa:te=!0,A(V),te=!1}V=V.nextEffect}}catch(e){a=!0,s=e}a&&(null===V&&o("178"),u(V,s),null!==V&&(V=V.nextEffect))}for(F(),n.current=r,V=i;null!==V;){n=!1,i=void 0;try{for(;null!==V;){var p=V.effectTag;if(p&(Da|Wa)&&M(V.alternate,V),p&Ha&&R(V),p&Va)switch(a=V,s=void 0,null!==Z&&(s=Z.get(a),Z.delete(a),null==s&&null!==a.alternate&&(a=a.alternate,s=Z.get(a),Z.delete(a))),null==s&&o("184"),a.tag){case Za:a.stateNode.componentDidCatch(s.error,{componentStack:s.componentStack});break;case Ga:null===Y&&(Y=s.error);break;default:o("157")}var d=V.nextEffect;V.nextEffect=null,V=d}}catch(e){n=!0,i=e}n&&(null===V&&o("178"),u(V,i),null!==V&&(V=V.nextEffect))}ee=!1,"function"===typeof Ta&&Ta(r.stateNode),Q&&(Q.forEach(v),Q=null),t()}function n(e){for(;;){var t=E(e.alternate,e,W),r=e.return,o=e.sibling,n=e;if(!(n.pendingWorkPriority!==Ma&&n.pendingWorkPriority>W)){for(var i=Xa(n),a=n.child;null!==a;)i=Aa(i,a.pendingWorkPriority),a=a.sibling;n.pendingWorkPriority=i}if(null!==t)return t;if(null!==r&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),e.effectTag>Ia&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)),null!==o)return o;if(null===r){H=e;break}e=r}return null}function i(e){var t=k(e.alternate,e,W);return null===t&&(t=n(e)),Ea.current=null,t}function a(e){var t=P(e.alternate,e,W);return null===t&&(t=n(e)),Ea.current=null,t}function s(e){p(Na,e)}function c(){if(null!==Z&&0<Z.size&&W===za)for(;null!==U;){var e=U;if(null===(U=null!==Z&&(Z.has(e)||null!==e.alternate&&Z.has(e.alternate))?a(U):i(U))&&(null===H&&o("179"),I=za,r(H),I=W,null===Z||0===Z.size||W!==za))break}}function l(e,n){if(null!==H?(I=za,r(H),c()):null===U&&t(),!(W===Ma||W>e)){I=W;e:for(;;){if(W<=za)for(;null!==U&&!(null===(U=i(U))&&(null===H&&o("179"),I=za,r(H),I=W,c(),W===Ma||W>e||W>za)););else if(null!==n)for(;null!==U&&!D;)if(1<n.timeRemaining()){if(null===(U=i(U)))if(null===H&&o("179"),1<n.timeRemaining()){if(I=za,r(H),I=W,c(),W===Ma||W>e||W<Oa)break}else D=!0}else D=!0;switch(W){case Ra:case za:if(W<=e)continue e;break e;case Oa:case ja:case Na:if(null===n)break e;if(!D&&W<=e)continue e;break e;case Ma:break e;default:o("181")}}}}function p(e,t){B&&o("182"),B=!0;var r=I,n=!1,i=null;try{l(e,t)}catch(e){n=!0,i=e}for(;n;){if($){Y=i;break}var c=U;if(null===c)$=!0;else{var p=u(c,i);if(null===p&&o("183"),!$){try{n=p,i=e,p=t;for(var d=n;null!==c;){switch(c.tag){case Za:ka(c);break;case Ka:b(c);break;case Ga:w(c);break;case Ja:w(c)}if(c===d||c.alternate===d)break;c=c.return}U=a(n),l(i,p)}catch(e){n=!0,i=e;continue}break}}}if(I=r,null!==t&&(J=!1),W>za&&!J&&(O(s),J=!0),e=Y,$=D=B=!1,ne=X=Z=Y=null,oe=0,null!==e)throw e}function u(e,t){var r=Ea.current=null,o=!1,n=!1,i=null;if(e.tag===Ga)r=e,h(e)&&($=!0);else for(var a=e.return;null!==a&&null===r;){if(a.tag===Za?"function"===typeof a.stateNode.componentDidCatch&&(o=!0,i=d(a),r=a,n=!0):a.tag===Ga&&(r=a),h(a)){if(te||null!==Q&&(Q.has(a)||null!==a.alternate&&Q.has(a.alternate)))return null;r=null,n=!1}a=a.return}if(null!==r){null===X&&(X=new Set),X.add(r);var s="";a=e;do{e:switch(a.tag){case hn:case mn:case yn:case fn:var c=a._debugOwner,l=a._debugSource,p=d(a),u=null;c&&(u=d(c)),c=l,p="\n    in "+(p||"Unknown")+(c?" (at "+c.fileName.replace(/^.*[\\\/]/,"")+":"+c.lineNumber+")":u?" (created by "+u+")":"");break e;default:p=""}s+=p,a=a.return}while(a);a=s,e=d(e),null===Z&&(Z=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:o?r.stateNode:null,errorBoundaryFound:o,errorBoundaryName:i,willRetry:n},Z.set(r,t);try{console.error(t.error)}catch(e){console.error(e)}return ee?(null===Q&&(Q=new Set),Q.add(r)):v(r),r}return null===Y&&(Y=t),null}function h(e){return null!==X&&(X.has(e)||null!==e.alternate&&X.has(e.alternate))}function m(e,t){return y(e,t,!1)}function y(e,t){oe>re&&($=!0,o("185")),!B&&t<=W&&(U=null);for(var r=!0;null!==e&&r;){if(r=!1,(e.pendingWorkPriority===Ma||e.pendingWorkPriority>t)&&(r=!0,e.pendingWorkPriority=t),null!==e.alternate&&(e.alternate.pendingWorkPriority===Ma||e.alternate.pendingWorkPriority>t)&&(r=!0,e.alternate.pendingWorkPriority=t),null===e.return){if(e.tag!==Ga)break;var n=e.stateNode;if(t===Ma||n.isScheduled||(n.isScheduled=!0,K?K.nextScheduledRoot=n:G=n,K=n),!B)switch(t){case Ra:q?p(Ra,null):p(za,null);break;case za:L||o("186");break;default:J||(O(s),J=!0)}}e=e.return}}function f(e,t){var r=I;return r===Ma&&(r=!j||e.internalContextTag&Fa||t?ja:Ra),r===Ra&&(B||L)?za:r}function v(e){y(e,za,!0)}var g=ue(e),_=de(e),w=g.popHostContainer,b=g.popHostContext,x=g.resetHostContainer,S=se(e,g,_,m,f),k=S.beginWork,P=S.beginFailedWork,E=ce(e,g,_).completeWork;g=pe(e,u);var C=g.commitPlacement,A=g.commitDeletion,T=g.commitWork,M=g.commitLifeCycles,R=g.commitAttachRef,z=g.commitDetachRef,O=e.scheduleDeferredCallback,j=e.useSyncScheduling,N=e.prepareForCommit,F=e.resetAfterCommit,I=Ma,B=!1,D=!1,L=!1,q=!1,U=null,W=Ma,V=null,H=null,G=null,K=null,J=!1,Z=null,X=null,Q=null,Y=null,$=!1,ee=!1,te=!1,re=1e3,oe=0,ne=null;return{scheduleUpdate:m,getPriorityContext:f,batchedUpdates:function(e,t){var r=L;L=!0;try{return e(t)}finally{L=r,B||L||p(za,null)}},unbatchedUpdates:function(e){var t=q,r=L;q=L,L=!1;try{return e()}finally{L=r,q=t}},flushSync:function(e){var t=L,r=I;L=!0,I=Ra;try{return e()}finally{L=t,I=r,B&&o("187"),p(za,null)}},deferredUpdates:function(e){var t=I;I=ja;try{return e()}finally{I=t}}}}function me(){o("196")}function ye(e){return e?(e=Jt.get(e),"number"===typeof e.tag?me(e):e._processChildContext(e._context)):wt}function fe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ve(e,t){var r=fe(e);e=0;for(var o;r;){if(r.nodeType===is){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fe(r)}}function ge(){return!as&&ft.canUseDOM&&(as="textContent"in document.documentElement?"textContent":"innerText"),as}function _e(){o("211")}function we(){o("212")}function be(e){if(null==e)return null;if(e.nodeType===us)return e;var t=Jt.get(e);if(t)return"number"===typeof t.tag?_e(t):we(t);"function"===typeof e.render?o("188"):o("213",Object.keys(e))}function xe(e){if(void 0!==e._hostParent)return e._hostParent;if("number"===typeof e.tag){do{e=e.return}while(e&&e.tag!==ds);if(e)return e}return null}function Se(e,t){for(var r=0,o=e;o;o=xe(o))r++;o=0;for(var n=t;n;n=xe(n))o++;for(;0<r-o;)e=xe(e),r--;for(;0<o-r;)t=xe(t),o--;for(;r--;){if(e===t||e===t.alternate)return e;e=xe(e),t=xe(t)}return null}function ke(e,t,r){(t=ms(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=P(r._dispatchListeners,t),r._dispatchInstances=P(r._dispatchInstances,e))}function Pe(e){e&&e.dispatchConfig.phasedRegistrationNames&&hs.traverseTwoPhase(e._targetInst,ke,e)}function Ee(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?hs.getParentInstance(t):null,hs.traverseTwoPhase(t,ke,e)}}function Ce(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=ms(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=P(r._dispatchListeners,t),r._dispatchInstances=P(r._dispatchInstances,e))}function Ae(e){e&&e.dispatchConfig.registrationName&&Ce(e._targetInst,null,e)}function Te(e,t,r,o){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var n in e)e.hasOwnProperty(n)&&((t=e[n])?this[n]=t(r):"target"===n?this.target=o:this[n]=r[n]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?_t.thatReturnsTrue:_t.thatReturnsFalse,this.isPropagationStopped=_t.thatReturnsFalse,this}function Me(e,t,r,o){if(this.eventPool.length){var n=this.eventPool.pop();return this.call(n,e,t,r,o),n}return new this(e,t,r,o)}function Re(e){e instanceof this||o("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ze(e){e.eventPool=[],e.getPooled=Me,e.release=Re}function Oe(e,t,r,o){return Te.call(this,e,t,r,o)}function je(e,t,r,o){return Te.call(this,e,t,r,o)}function Ne(e,t){switch(e){case"topKeyUp":return-1!==bs.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Fe(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function Ie(e,t){switch(e){case"topCompositionEnd":return Fe(t);case"topKeyPress":return 32!==t.which?null:(Ms=!0,As);case"topTextInput":return e=t.data,e===As&&Ms?null:e;default:return null}}function Be(e,t){if(Rs)return"topCompositionEnd"===e||!xs&&Ne(e,t)?(e=gs.getData(),gs.reset(),Rs=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Cs?null:t.data;default:return null}}function De(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Os[e.type]:"textarea"===t}function Le(e,t,r){return e=Te.getPooled(js.change,e,t,r),e.type="change",ur.enqueueStateRestore(r),ys.accumulateTwoPhaseDispatches(e),e}function qe(e){wr.enqueueEvents(e),wr.processEventQueue(!1)}function Ue(e){var t=Kt.getNodeFromInstance(e);if(Yr.updateValueIfChanged(t))return e}function We(e,t){if("topChange"===e)return t}function Ve(){Ns&&(Ns.detachEvent("onpropertychange",He),Fs=Ns=null)}function He(e){"value"===e.propertyName&&Ue(Fs)&&(e=Le(Fs,e,S(e)),hr.batchedUpdates(qe,e))}function Ge(e,t,r){"topFocus"===e?(Ve(),Ns=t,Fs=r,Ns.attachEvent("onpropertychange",He)):"topBlur"===e&&Ve()}function Ke(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Ue(Fs)}function Je(e,t){if("topClick"===e)return Ue(t)}function Ze(e,t){if("topInput"===e||"topChange"===e)return Ue(t)}function Xe(e,t,r,o){return Te.call(this,e,t,r,o)}function Qe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ds[e])&&!!t[e]}function Ye(){return Qe}function $e(e,t,r,o){return Te.call(this,e,t,r,o)}function et(e,t){if(Js||null==Hs||Hs!==kt())return null;var r=Hs;return"selectionStart"in r&&ps.hasSelectionCapabilities(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?(r=window.getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}):r=void 0,Ks&&bt(Ks,r)?null:(Ks=r,e=Te.getPooled(Vs.select,Gs,e,t),e.type="select",e.target=Hs,ys.accumulateTwoPhaseDispatches(e),e)}function tt(e,t,r,o){return Te.call(this,e,t,r,o)}function rt(e,t,r,o){return Te.call(this,e,t,r,o)}function ot(e,t,r,o){return Te.call(this,e,t,r,o)}function nt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function it(e,t,r,o){return Te.call(this,e,t,r,o)}function at(e,t,r,o){return Te.call(this,e,t,r,o)}function st(e,t,r,o){return Te.call(this,e,t,r,o)}function ct(e,t,r,o){return Te.call(this,e,t,r,o)}function lt(e,t,r,o){return Te.call(this,e,t,r,o)}function pt(e){return e[1].toUpperCase()}function ut(e){return!(!e||e.nodeType!==hc&&e.nodeType!==fc&&e.nodeType!==vc&&(e.nodeType!==yc||" react-mount-point-unstable "!==e.nodeValue))}function dt(e){return!(!(e=e?e.nodeType===fc?e.documentElement:e.firstChild:null)||e.nodeType!==hc||!e.hasAttribute(gc))}function ht(e,t,r,n,i){ut(r)||o("200");var a=r._reactRootContainer;if(a)Nc.updateContainer(t,a,e,i);else{if(!n&&!dt(r))for(n=void 0;n=r.lastChild;)r.removeChild(n);var s=Nc.createContainer(r);a=r._reactRootContainer=s,Nc.unbatchedUpdates(function(){Nc.updateContainer(t,s,e,i)})}return Nc.getPublicRootInstance(a)}function mt(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ut(t)||o("200"),_n.createPortal(e,t,null,r)}var yt=r(1);r(19);var ft=r(99),vt=r(18),gt=r(100),_t=r(15),wt=r(38),bt=r(101),xt=r(102),St=r(105),kt=r(106);yt||o("227");var Pt,Et,Ct={Namespaces:{html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},getIntrinsicNamespace:n,getChildNamespace:function(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?n(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}},At=null,Tt={},Mt={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){At&&o("101"),At=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];Tt.hasOwnProperty(t)&&Tt[t]===n||(Tt[t]&&o("102",t),Tt[t]=n,r=!0)}r&&i()}},Rt=Mt,zt={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},Ot={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Ot,r=e.Properties||{},n=e.DOMAttributeNamespaces||{},i=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var a in r){jt.properties.hasOwnProperty(a)&&o("48",a);var c=a.toLowerCase(),l=r[a];c={attributeName:c,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(l,t.MUST_USE_PROPERTY),hasBooleanValue:s(l,t.HAS_BOOLEAN_VALUE),hasNumericValue:s(l,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(l,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(l,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(l,t.HAS_STRING_BOOLEAN_VALUE)},1>=c.hasBooleanValue+c.hasNumericValue+c.hasOverloadedBooleanValue||o("50",a),i.hasOwnProperty(a)&&(c.attributeName=i[a]),n.hasOwnProperty(a)&&(c.attributeNamespace=n[a]),e.hasOwnProperty(a)&&(c.mutationMethod=e[a]),jt.properties[a]=c}}},jt={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ATTRIBUTE_NAME_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(jt.isReservedProp(e)||!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return jt.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return jt.properties.hasOwnProperty(e)?jt.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(jt.isReservedProp(e))return!0;var t=jt.getPropertyInfo(e);return t?t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:"data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e},isReservedProp:function(e){return zt.hasOwnProperty(e)},injection:Ot},Nt=jt,Ft={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},It={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},Bt=Ft.HostComponent,Dt=Ft.HostText,Lt=It.ELEMENT_NODE,qt=It.COMMENT_NODE,Ut=Nt.ID_ATTRIBUTE_NAME,Wt={hasCachedChildNodes:1},Vt=Math.random().toString(36).slice(2),Ht="__reactInternalInstance$"+Vt,Gt="__reactEventHandlers$"+Vt,Kt={getClosestInstanceFromNode:u,getInstanceFromNode:function(e){var t=e[Ht];return t?t.tag===Bt||t.tag===Dt?t:t._hostNode===e?t:null:(t=u(e),null!=t&&t._hostNode===e?t:null)},getNodeFromInstance:function(e){if(e.tag===Bt||e.tag===Dt)return e.stateNode;if(void 0===e._hostNode&&o("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||o("34"),e=e._hostParent;for(;t.length;e=t.pop())p(e,e._hostNode);return e._hostNode},precacheChildNodes:p,precacheNode:l,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[Ht],e._hostNode=null)},precacheFiberNode:function(e,t){t[Ht]=e},getFiberCurrentPropsFromNode:function(e){return e[Gt]||null},updateFiberProps:function(e,t){e[Gt]=t}},Jt={remove:function(e){e._reactInternalFiber=void 0},get:function(e){return e._reactInternalFiber},has:function(e){return void 0!==e._reactInternalFiber},set:function(e,t){e._reactInternalFiber=t}},Zt={ReactCurrentOwner:yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},Xt={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},Qt=Ft.HostComponent,Yt=Ft.HostRoot,$t=Ft.HostPortal,er=Ft.HostText,tr=Xt.NoEffect,rr=Xt.Placement,or={isFiberMounted:function(e){return 2===h(e)},isMounted:function(e){return!!(e=Jt.get(e))&&2===h(e)},findCurrentFiberUsingSlowPath:y,findCurrentHostFiber:function(e){if(!(e=y(e)))return null;for(var t=e;;){if(t.tag===Qt||t.tag===er)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null},findCurrentHostFiberWithNoPortals:function(e){if(!(e=y(e)))return null;for(var t=e;;){if(t.tag===Qt||t.tag===er)return t;if(t.child&&t.tag!==$t)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}},nr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!==typeof e.invokeGuardedCallback&&o("197"),f=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,r,o,n,i,a,s,c){f.apply(nr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,o,n,i,a,s,c){if(nr.invokeGuardedCallback.apply(this,arguments),nr.hasCaughtError()){var l=nr.clearCaughtError();nr._hasRethrowError||(nr._hasRethrowError=!0,nr._rethrowError=l)}},rethrowCaughtError:function(){return v.apply(nr,arguments)},hasCaughtError:function(){return nr._hasCaughtError},clearCaughtError:function(){if(nr._hasCaughtError){var e=nr._caughtError;return nr._caughtError=null,nr._hasCaughtError=!1,e}o("198")}},ir=nr,ar={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,r=e._dispatchInstances;return Array.isArray(t)&&o("103"),e.currentTarget=t?ar.getNodeFromInstance(r):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t},executeDispatchesInOrder:function(e,t){var r=e._dispatchListeners,o=e._dispatchInstances;if(Array.isArray(r))for(var n=0;n<r.length&&!e.isPropagationStopped();n++)g(e,t,r[n],o[n]);else r&&g(e,t,r,o);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){e:{var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t)){for(var o=0;o<t.length&&!e.isPropagationStopped();o++)if(t[o](e,r[o])){t=r[o];break e}}else if(t&&t(e,r)){t=r;break e}t=null}return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getFiberCurrentPropsFromNode:function(e){return Pt.getFiberCurrentPropsFromNode(e)},getInstanceFromNode:function(e){return Pt.getInstanceFromNode(e)},getNodeFromInstance:function(e){return Pt.getNodeFromInstance(e)},injection:{injectComponentTree:function(e){Pt=e}}},sr=ar,cr=null,lr=null,pr=null,ur={injection:{injectFiberControlledHostComponent:function(e){cr=e}},enqueueStateRestore:function(e){lr?pr?pr.push(e):pr=[e]:lr=e},restoreStateIfNeeded:function(){if(lr){var e=lr,t=pr;if(pr=lr=null,_(e),t)for(e=0;e<t.length;e++)_(t[e])}}},dr=!1,hr={batchedUpdates:function(e,t){if(dr)return w(x,e,t);dr=!0;try{return w(x,e,t)}finally{dr=!1,ur.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(e){w=e},injectFiberBatchedUpdates:function(e){b=e}}},mr=It.TEXT_NODE,yr=Ft.HostRoot,fr=[],vr={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(e){vr._handleTopLevel=e},setEnabled:function(e){vr._enabled=!!e},isEnabled:function(){return vr._enabled},trapBubbledEvent:function(e,t,r){return r?gt.listen(r,t,vr.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,r){return r?gt.capture(r,t,vr.dispatchEvent.bind(null,e)):null},dispatchEvent:function(e,t){if(vr._enabled){var r=S(t);if(r=Kt.getClosestInstanceFromNode(r),null===r||"number"!==typeof r.tag||or.isFiberMounted(r)||(r=null),fr.length){var o=fr.pop();o.topLevelType=e,o.nativeEvent=t,o.targetInst=r,e=o}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{hr.batchedUpdates(k,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>fr.length&&fr.push(e)}}}},gr=vr,_r=null,wr={injection:{injectEventPluginOrder:Rt.injectEventPluginOrder,injectEventPluginsByName:Rt.injectEventPluginsByName},getListener:function(e,t){if("number"===typeof e.tag){var r=e.stateNode;if(!r)return null;var n=sr.getFiberCurrentPropsFromNode(r);if(!n)return null;if(r=n[t],M(t,e.type,n))return null}else{if("string"===typeof(n=e._currentElement)||"number"===typeof n||!e._rootNodeID)return null;if(e=n.props,r=e[t],M(t,n.type,e))return null}return r&&"function"!==typeof r&&o("231",t,typeof r),r},extractEvents:function(e,t,r,o){for(var n,i=Rt.plugins,a=0;a<i.length;a++){var s=i[a];s&&(s=s.extractEvents(e,t,r,o))&&(n=P(n,s))}return n},enqueueEvents:function(e){e&&(_r=P(_r,e))},processEventQueue:function(e){var t=_r;_r=null,e?E(t,A):E(t,T),_r&&o("95"),ir.rethrowCaughtError()}};ft.canUseDOM&&(Et=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var br={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionend:z("Transition","TransitionEnd")},xr={},Sr={};ft.canUseDOM&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var kr={topAbort:"abort",topAnimationEnd:O("animationend")||"animationend",topAnimationIteration:O("animationiteration")||"animationiteration",topAnimationStart:O("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:O("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Pr={},Er=0,Cr="_reactListenersID"+(""+Math.random()).slice(2),Ar=vt({},{handleTopLevel:function(e,t,r,o){e=wr.extractEvents(e,t,r,o),wr.enqueueEvents(e),wr.processEventQueue(!1)}},{setEnabled:function(e){gr&&gr.setEnabled(e)},isEnabled:function(){return!(!gr||!gr.isEnabled())},listenTo:function(e,t){var r=j(t);e=Rt.registrationNameDependencies[e];for(var o=0;o<e.length;o++){var n=e[o];r.hasOwnProperty(n)&&r[n]||("topWheel"===n?R("wheel")?gr.trapBubbledEvent("topWheel","wheel",t):R("mousewheel")?gr.trapBubbledEvent("topWheel","mousewheel",t):gr.trapBubbledEvent("topWheel","DOMMouseScroll",t):"topScroll"===n?gr.trapCapturedEvent("topScroll","scroll",t):"topFocus"===n||"topBlur"===n?(gr.trapCapturedEvent("topFocus","focus",t),gr.trapCapturedEvent("topBlur","blur",t),r.topBlur=!0,r.topFocus=!0):"topCancel"===n?(R("cancel",!0)&&gr.trapCapturedEvent("topCancel","cancel",t),r.topCancel=!0):"topClose"===n?(R("close",!0)&&gr.trapCapturedEvent("topClose","close",t),r.topClose=!0):kr.hasOwnProperty(n)&&gr.trapBubbledEvent(n,kr[n],t),r[n]=!0)}},isListeningToAllDependencies:function(e,t){t=j(t),e=Rt.registrationNameDependencies[e];for(var r=0;r<e.length;r++){var o=e[r];if(!t.hasOwnProperty(o)||!t[o])return!1}return!0},trapBubbledEvent:function(e,t,r){return gr.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return gr.trapCapturedEvent(e,t,r)}}),Tr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(e){Mr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tr[t]=Tr[e]})});var Rr={isUnitlessNumber:Tr,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},zr=Rr.isUnitlessNumber,Or=!1;if(ft.canUseDOM){var jr=document.createElement("div").style;try{jr.font=""}catch(e){Or=!0}}var Nr,Fr={createDangerousStringForStyles:function(){},setValueForStyles:function(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=0===r.indexOf("--"),n=r,i=t[r];if(n=null==i||"boolean"===typeof i||""===i?"":o||"number"!==typeof i||0===i||zr.hasOwnProperty(n)&&zr[n]?(""+i).trim():i+"px","float"===r&&(r="cssFloat"),o)e.setProperty(r,n);else if(n)e[r]=n;else if(o=Or&&Rr.shorthandPropertyExpansions[r])for(var a in o)e[a]="";else e[r]=""}}},Ir=new RegExp("^["+Nt.ATTRIBUTE_NAME_START_CHAR+"]["+Nt.ATTRIBUTE_NAME_CHAR+"]*$"),Br={},Dr={},Lr={setAttributeForID:function(e,t){e.setAttribute(Nt.ID_ATTRIBUTE_NAME,t)},setAttributeForRoot:function(e){e.setAttribute(Nt.ROOT_ATTRIBUTE_NAME,"")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(e,t,r){var o=Nt.getPropertyInfo(t);if(o&&Nt.shouldSetAttribute(t,r)){var n=o.mutationMethod;n?n(e,r):null==r||o.hasBooleanValue&&!r||o.hasNumericValue&&isNaN(r)||o.hasPositiveNumericValue&&1>r||o.hasOverloadedBooleanValue&&!1===r?Lr.deleteValueForProperty(e,t):o.mustUseProperty?e[o.propertyName]=r:(t=o.attributeName,(n=o.attributeNamespace)?e.setAttributeNS(n,t,""+r):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===r?e.setAttribute(t,""):e.setAttribute(t,""+r))}else Lr.setValueForAttribute(e,t,Nt.shouldSetAttribute(t,r)?r:null)},setValueForAttribute:function(e,t,r){N(t)&&(null==r?e.removeAttribute(t):e.setAttribute(t,""+r))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var r=Nt.getPropertyInfo(t);r?(t=r.mutationMethod)?t(e,void 0):r.mustUseProperty?e[r.propertyName]=!r.hasBooleanValue&&"":e.removeAttribute(r.attributeName):e.removeAttribute(t)}},qr=Lr,Ur=Zt.ReactDebugCurrentFrame,Wr={current:null,phase:null,resetCurrentFiber:function(){Ur.getCurrentStack=null,Wr.current=null,Wr.phase=null},setCurrentFiber:function(e,t){Ur.getCurrentStack=F,Wr.current=e,Wr.phase=t},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:F},Vr=Wr,Hr={getHostProps:function(e,t){var r=t.value,o=t.checked;return vt({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked})},initWrapperState:function(e,t){var r=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}},updateWrapper:function(e,t){var r=t.checked;null!=r&&qr.setValueForProperty(e,"checked",r||!1),r=t.value,null!=r?0===r&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(r!=t||r==t&&e.value!=r)&&(e.value=""+r)):e.value!==""+r&&(e.value=""+r):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))},postMountWrapper:function(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)},restoreControlledState:function(e,t){Hr.updateWrapper(e,t);var r=t.name;if("radio"===t.type&&null!=r){for(t=e;t.parentNode;)t=t.parentNode;for(r=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Kt.getFiberCurrentPropsFromNode(n);i||o("90"),Hr.updateWrapper(n,i)}}}}},Gr=Hr,Kr={validateProps:function(){},postMountWrapper:function(e,t){null!=t.value&&e.setAttribute("value",t.value)},getHostProps:function(e,t){return e=vt({children:void 0},t),(t=I(t.children))&&(e.children=t),e}},Jr={getHostProps:function(e,t){return vt({},t,{value:void 0})},initWrapperState:function(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}},postMountWrapper:function(e,t){e.multiple=!!t.multiple;var r=t.value;null!=r?B(e,!!t.multiple,r):null!=t.defaultValue&&B(e,!!t.multiple,t.defaultValue)},postUpdateWrapper:function(e,t){e._wrapperState.initialValue=void 0;var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var o=t.value;null!=o?B(e,!!t.multiple,o):r!==!!t.multiple&&(null!=t.defaultValue?B(e,!!t.multiple,t.defaultValue):B(e,!!t.multiple,t.multiple?[]:""))},restoreControlledState:function(e,t){var r=t.value;null!=r&&B(e,!!t.multiple,r)}},Zr={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})},initWrapperState:function(e,t){var r=t.value,n=r;null==r&&(r=t.defaultValue,t=t.children,null!=t&&(null!=r&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),r=""+t),null==r&&(r=""),n=r),e._wrapperState={initialValue:""+n}},updateWrapper:function(e,t){var r=t.value;null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)},restoreControlledState:function(e,t){Zr.updateWrapper(e,t)}},Xr=Zr,Qr=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Yr={_getTrackerFromNode:function(e){return e._valueTracker},track:function(e){e._valueTracker||(e._valueTracker=q(e))},updateValueIfChanged:function(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=L(e)?e.checked?"true":"false":e.value),(e=o)!==r&&(t.setValue(e),!0)},stopTracking:function(e){(e=e._valueTracker)&&e.stopTracking()}},$r=Ct.Namespaces,eo=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,o,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if(e.namespaceURI!==$r.svg||"innerHTML"in e)e.innerHTML=t;else for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+t+"</svg>",t=Nr.firstChild;t.firstChild;)e.appendChild(t.firstChild)}),to=/["'&<>]/,ro=It.TEXT_NODE;ft.canUseDOM&&("textContent"in document.documentElement||(W=function(e,t){if(e.nodeType===ro)e.nodeValue=t;else{if("boolean"===typeof t||"number"===typeof t)t=""+t;else{t=""+t;var r=to.exec(t);if(r){var o,n="",i=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(n+=t.substring(i,o)),i=o+1,n+=r}t=i!==o?n+t.substring(i,o):n}}eo(e,t)}}));var oo=W,no=(Vr.getCurrentFiberOwnerName,It.DOCUMENT_NODE),io=It.DOCUMENT_FRAGMENT_NODE,ao=Ar.listenTo,so=Rt.registrationNameModules,co=Ct.Namespaces.html,lo=Ct.getIntrinsicNamespace,po={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},uo={createElement:function(e,t,r,o){return r=r.nodeType===no?r:r.ownerDocument,o===co&&(o=lo(e)),o===co?"script"===e?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(o,e),e},createTextNode:function(e,t){return(t.nodeType===no?t:t.ownerDocument).createTextNode(e)},setInitialProperties:function(e,t,r,o){var n=U(t,r);switch(t){case"iframe":case"object":Ar.trapBubbledEvent("topLoad","load",e);var i=r;break;case"video":case"audio":for(i in po)po.hasOwnProperty(i)&&Ar.trapBubbledEvent(i,po[i],e);i=r;break;case"source":Ar.trapBubbledEvent("topError","error",e),i=r;break;case"img":case"image":Ar.trapBubbledEvent("topError","error",e),Ar.trapBubbledEvent("topLoad","load",e),i=r;break;case"form":Ar.trapBubbledEvent("topReset","reset",e),Ar.trapBubbledEvent("topSubmit","submit",e),i=r;break;case"details":Ar.trapBubbledEvent("topToggle","toggle",e),i=r;break;case"input":Gr.initWrapperState(e,r),i=Gr.getHostProps(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange");break;case"option":Kr.validateProps(e,r),i=Kr.getHostProps(e,r);break;case"select":Jr.initWrapperState(e,r),i=Jr.getHostProps(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange");break;case"textarea":Xr.initWrapperState(e,r),i=Xr.getHostProps(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange");break;default:i=r}D(t,i);var a,s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];"style"===a?Fr.setValueForStyles(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&eo(e,c):"children"===a?"string"===typeof c?oo(e,c):"number"===typeof c&&oo(e,""+c):"suppressContentEditableWarning"!==a&&(so.hasOwnProperty(a)?null!=c&&V(o,a):n?qr.setValueForAttribute(e,a,c):null!=c&&qr.setValueForProperty(e,a,c))}switch(t){case"input":Yr.track(e),Gr.postMountWrapper(e,r);break;case"textarea":Yr.track(e),Xr.postMountWrapper(e,r);break;case"option":Kr.postMountWrapper(e,r);break;case"select":Jr.postMountWrapper(e,r);break;default:"function"===typeof i.onClick&&(e.onclick=_t)}},diffProperties:function(e,t,r,o,n){var i=null;switch(t){case"input":r=Gr.getHostProps(e,r),o=Gr.getHostProps(e,o),i=[];break;case"option":r=Kr.getHostProps(e,r),o=Kr.getHostProps(e,o),i=[];break;case"select":r=Jr.getHostProps(e,r),o=Jr.getHostProps(e,o),i=[];break;case"textarea":r=Xr.getHostProps(e,r),o=Xr.getHostProps(e,o),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=_t)}D(t,o);var a,s;e=null;for(a in r)if(!o.hasOwnProperty(a)&&r.hasOwnProperty(a)&&null!=r[a])if("style"===a)for(s in t=r[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&(so.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in o){var c=o[a];if(t=null!=r?r[a]:void 0,o.hasOwnProperty(a)&&c!==t&&(null!=c||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in c)c.hasOwnProperty(s)&&t[s]!==c[s]&&(e||(e={}),e[s]=c[s])}else e||(i||(i=[]),i.push(a,e)),e=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,t=t?t.__html:void 0,null!=c&&t!==c&&(i=i||[]).push(a,""+c)):"children"===a?t===c||"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&(so.hasOwnProperty(a)?(null!=c&&V(n,a),i||t===c||(i=[])):(i=i||[]).push(a,c))}return e&&(i=i||[]).push("style",e),i},updateProperties:function(e,t,r,o,n){U(r,o),o=U(r,n);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?Fr.setValueForStyles(e,s):"dangerouslySetInnerHTML"===a?eo(e,s):"children"===a?oo(e,s):o?null!=s?qr.setValueForAttribute(e,a,s):qr.deleteValueForAttribute(e,a):null!=s?qr.setValueForProperty(e,a,s):qr.deleteValueForProperty(e,a)}switch(r){case"input":Gr.updateWrapper(e,n),Yr.updateValueIfChanged(e);break;case"textarea":Xr.updateWrapper(e,n);break;case"select":Jr.postUpdateWrapper(e,n)}},diffHydratedProperties:function(e,t,r,o,n){switch(t){case"iframe":case"object":Ar.trapBubbledEvent("topLoad","load",e);break;case"video":case"audio":for(var i in po)po.hasOwnProperty(i)&&Ar.trapBubbledEvent(i,po[i],e);break;case"source":Ar.trapBubbledEvent("topError","error",e);break;case"img":case"image":Ar.trapBubbledEvent("topError","error",e),Ar.trapBubbledEvent("topLoad","load",e);break;case"form":Ar.trapBubbledEvent("topReset","reset",e),Ar.trapBubbledEvent("topSubmit","submit",e);break;case"details":Ar.trapBubbledEvent("topToggle","toggle",e);break;case"input":Gr.initWrapperState(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange");break;case"option":Kr.validateProps(e,r);break;case"select":Jr.initWrapperState(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange");break;case"textarea":Xr.initWrapperState(e,r),Ar.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange")}D(t,r),o=null;for(var a in r)r.hasOwnProperty(a)&&(i=r[a],"children"===a?"string"===typeof i?e.textContent!==i&&(o=["children",i]):"number"===typeof i&&e.textContent!==""+i&&(o=["children",""+i]):so.hasOwnProperty(a)&&null!=i&&V(n,a));switch(t){case"input":Yr.track(e),Gr.postMountWrapper(e,r);break;case"textarea":Yr.track(e),Xr.postMountWrapper(e,r);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(e.onclick=_t)}return o},diffHydratedText:function(e,t){return e.nodeValue!==t},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":Gr.restoreControlledState(e,r);break;case"textarea":Xr.restoreControlledState(e,r);break;case"select":Jr.restoreControlledState(e,r)}}},ho=void 0;if(ft.canUseDOM)if("function"!==typeof requestIdleCallback){var mo=null,yo=null,fo=!1,vo=!1,go=0,_o=33,wo=33,bo={timeRemaining:"object"===typeof performance&&"function"===typeof performance.now?function(){return go-performance.now()}:function(){return go-Date.now()}},xo="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){e.source===window&&e.data===xo&&(fo=!1,e=yo,yo=null,null!==e&&e(bo))},!1);var So=function(e){vo=!1;var t=e-go+wo;t<wo&&_o<wo?(8>t&&(t=8),wo=t<_o?_o:t):_o=t,go=e+wo,fo||(fo=!0,window.postMessage(xo,"*")),t=mo,mo=null,null!==t&&t(e)};ho=function(e){return yo=e,vo||(vo=!0,requestAnimationFrame(So)),0}}else ho=requestIdleCallback;else ho=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})}),0};var ko,Po,Eo={rIC:ho},Co={enableAsyncSubtreeAPI:!0},Ao={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},To=Xt.Callback,Mo=Ao.NoWork,Ro=Ao.SynchronousPriority,zo=Ao.TaskPriority,Oo=Ft.ClassComponent,jo=Ft.HostRoot,No=void 0,Fo=void 0,Io={addUpdate:function(e,t,r,o){Z(e,{priorityLevel:o,partialState:t,callback:r,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(e,t,r,o){Z(e,{priorityLevel:o,partialState:t,callback:r,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(e,t,r){Z(e,{priorityLevel:r,partialState:null,callback:t,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(e){var t=e.updateQueue;return null===t||e.tag!==Oo&&e.tag!==jo?Mo:null!==t.first?t.first.priorityLevel:Mo},addTopLevelUpdate:function(e,t,r,o){var n=null===t.element;t={priorityLevel:o,partialState:t,callback:r,isReplace:!1,isForced:!1,isTopLevelUnmount:n,next:null},e=Z(e,t),n&&(n=No,r=Fo,null!==n&&null!==t.next&&(t.next=null,n.last=t),null!==r&&null!==e&&null!==e.next&&(e.next=null,r.last=t))},beginUpdateQueue:function(e,t,r,o,n,i,a){null!==e&&e.updateQueue===r&&(r=t.updateQueue={first:r.first,last:r.last,callbackList:null,hasForceUpdate:!1}),e=r.callbackList;for(var s=r.hasForceUpdate,c=!0,l=r.first;null!==l&&0>=H(l.priorityLevel,a);){r.first=l.next,null===r.first&&(r.last=null);var p;l.isReplace?(n=X(l,o,n,i),c=!0):(p=X(l,o,n,i))&&(n=c?vt({},n,p):vt(n,p),c=!1),l.isForced&&(s=!0),null===l.callback||l.isTopLevelUnmount&&null!==l.next||(e=null!==e?e:[],e.push(l.callback),t.effectTag|=To),l=l.next}return r.callbackList=e,r.hasForceUpdate=s,null!==r.first||null!==e||s||(t.updateQueue=null),n},commitCallbacks:function(e,t,r){if(null!==(e=t.callbackList))for(t.callbackList=null,t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&o("191",n),n.call(r)}}},Bo=[],Do=-1,Lo={createCursor:function(e){return{current:e}},isEmpty:function(){return-1===Do},pop:function(e){0>Do||(e.current=Bo[Do],Bo[Do]=null,Do--)},push:function(e,t){Do++,Bo[Do]=e.current,e.current=t},reset:function(){for(;-1<Do;)Bo[Do]=null,Do--}},qo=or.isFiberMounted,Uo=Ft.ClassComponent,Wo=Ft.HostRoot,Vo=Lo.createCursor,Ho=Lo.pop,Go=Lo.push,Ko=Vo(wt),Jo=Vo(!1),Zo=wt,Xo={getUnmaskedContext:function(e){return Y(e)?Zo:Ko.current},cacheContext:Q,getMaskedContext:function(e,t){var r=e.type.contextTypes;if(!r)return wt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var n,i={};for(n in r)i[n]=t[n];return o&&Q(e,t,i),i},hasContextChanged:function(){return Jo.current},isContextConsumer:function(e){return e.tag===Uo&&null!=e.type.contextTypes},isContextProvider:Y,popContextProvider:function(e){Y(e)&&(Ho(Jo,e),Ho(Ko,e))},popTopLevelContextObject:function(e){Ho(Jo,e),Ho(Ko,e)},pushTopLevelContextObject:function(e,t,r){null!=Ko.cursor&&o("168"),Go(Ko,t,e),Go(Jo,r,e)},processChildContext:$,pushContextProvider:function(e){if(!Y(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||wt,Zo=Ko.current,Go(Ko,t,e),Go(Jo,Jo.current,e),!0},invalidateContextProvider:function(e,t){var r=e.stateNode;if(r||o("169"),t){var n=$(e,Zo);r.__reactInternalMemoizedMergedChildContext=n,Ho(Jo,e),Ho(Ko,e),Go(Ko,n,e)}else Ho(Jo,e);Go(Jo,t,e)},resetContext:function(){Zo=wt,Ko.current=wt,Jo.current=!1},findCurrentUnmaskedContext:function(e){for(qo(e)&&e.tag===Uo?void 0:o("170");e.tag!==Wo;){if(Y(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||o("171")}return e.stateNode.context}},Qo={NoContext:0,AsyncUpdates:1},Yo=Ft.IndeterminateComponent,$o=Ft.ClassComponent,en=Ft.HostRoot,tn=Ft.HostComponent,rn=Ft.HostText,on=Ft.HostPortal,nn=Ft.CoroutineComponent,an=Ft.YieldComponent,sn=Ft.Fragment,cn=Ao.NoWork,ln=Qo.NoContext,pn=Xt.NoEffect,un={createWorkInProgress:function(e,t){var r=e.alternate;return null===r?(r=new ee(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=pn,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.pendingWorkPriority=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r},createHostRootFiber:function(){return new ee(en,null,ln)},createFiberFromElement:function(e,t,r){return t=te(e.type,e.key,t),t.pendingProps=e.props,t.pendingWorkPriority=r,t},createFiberFromFragment:function(e,t,r){return t=new ee(sn,null,t),t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromText:function(e,t,r){return t=new ee(rn,null,t),t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromElementType:te,createFiberFromHostInstanceForDeletion:function(){var e=new ee(tn,null,ln);return e.type="DELETED",e},createFiberFromCoroutine:function(e,t,r){return t=new ee(nn,e.key,t),t.type=e.handler,t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromYield:function(e,t){return new ee(an,null,t)},createFiberFromPortal:function(e,t,r){return t=new ee(on,e.key,t),t.pendingProps=e.children||[],t.pendingWorkPriority=r,t.stateNode={containerInfo:e.containerInfo,implementation:e.implementation},t},largerPriority:function(e,t){return e!==cn&&(t===cn||t>e)?e:t}},dn=un.createHostRootFiber,hn=Ft.IndeterminateComponent,mn=Ft.FunctionalComponent,yn=Ft.ClassComponent,fn=Ft.HostComponent;"function"===typeof Symbol&&Symbol.for?(ko=Symbol.for("react.coroutine"),Po=Symbol.for("react.yield")):(ko=60104,Po=60105);var vn={createCoroutine:function(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ko,key:null==o?null:""+o,children:e,handler:t,props:r}},createYield:function(e){return{$$typeof:Po,value:e}},isCoroutine:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===ko},isYield:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===Po},REACT_YIELD_TYPE:Po,REACT_COROUTINE_TYPE:ko},gn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,_n={createPortal:function(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:gn,key:null==o?null:""+o,children:e,containerInfo:t,implementation:r}},isPortal:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===gn},REACT_PORTAL_TYPE:gn},wn=vn.REACT_COROUTINE_TYPE,bn=vn.REACT_YIELD_TYPE,xn=_n.REACT_PORTAL_TYPE,Sn=un.createWorkInProgress,kn=un.createFiberFromElement,Pn=un.createFiberFromFragment,En=un.createFiberFromText,Cn=un.createFiberFromCoroutine,An=un.createFiberFromYield,Tn=un.createFiberFromPortal,Mn=Array.isArray,Rn=Ft.FunctionalComponent,zn=Ft.ClassComponent,On=Ft.HostText,jn=Ft.HostPortal,Nn=Ft.CoroutineComponent,Fn=Ft.YieldComponent,In=Ft.Fragment,Bn=Xt.NoEffect,Dn=Xt.Placement,Ln=Xt.Deletion,qn="function"===typeof Symbol&&Symbol.iterator,Un="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Wn=ie(!0,!0),Vn=ie(!1,!0),Hn=ie(!1,!1),Gn={reconcileChildFibers:Wn,reconcileChildFibersInPlace:Vn,mountChildFibersInPlace:Hn,cloneChildFibers:function(e,t){if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){e=t.child;var r=Sn(e,e.pendingWorkPriority);for(r.pendingProps=e.pendingProps,t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=Sn(e,e.pendingWorkPriority),r.pendingProps=e.pendingProps,r.return=t;r.sibling=null}}},Kn=Xt.Update,Jn=Qo.AsyncUpdates,Zn=Xo.cacheContext,Xn=Xo.getMaskedContext,Qn=Xo.getUnmaskedContext,Yn=Xo.isContextConsumer,$n=Io.addUpdate,ei=Io.addReplaceUpdate,ti=Io.addForceUpdate,ri=Io.beginUpdateQueue,oi=Xo.hasContextChanged,ni=or.isMounted,ii=Gn.mountChildFibersInPlace,ai=Gn.reconcileChildFibers,si=Gn.reconcileChildFibersInPlace,ci=Gn.cloneChildFibers,li=Io.beginUpdateQueue,pi=Xo.getMaskedContext,ui=Xo.getUnmaskedContext,di=Xo.hasContextChanged,hi=Xo.pushContextProvider,mi=Xo.pushTopLevelContextObject,yi=Xo.invalidateContextProvider,fi=Ft.IndeterminateComponent,vi=Ft.FunctionalComponent,gi=Ft.ClassComponent,_i=Ft.HostRoot,wi=Ft.HostComponent,bi=Ft.HostText,xi=Ft.HostPortal,Si=Ft.CoroutineComponent,ki=Ft.CoroutineHandlerPhase,Pi=Ft.YieldComponent,Ei=Ft.Fragment,Ci=Ao.NoWork,Ai=Ao.OffscreenPriority,Ti=Xt.PerformedWork,Mi=Xt.Placement,Ri=Xt.ContentReset,zi=Xt.Err,Oi=Xt.Ref,ji=Zt.ReactCurrentOwner,Ni=Gn.reconcileChildFibers,Fi=Xo.popContextProvider,Ii=Xo.popTopLevelContextObject,Bi=Ft.IndeterminateComponent,Di=Ft.FunctionalComponent,Li=Ft.ClassComponent,qi=Ft.HostRoot,Ui=Ft.HostComponent,Wi=Ft.HostText,Vi=Ft.HostPortal,Hi=Ft.CoroutineComponent,Gi=Ft.CoroutineHandlerPhase,Ki=Ft.YieldComponent,Ji=Ft.Fragment,Zi=Xt.Placement,Xi=Xt.Ref,Qi=Xt.Update,Yi=Ao.OffscreenPriority,$i=null,ea=null,ta={injectInternals:function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.supportsFiber)return!0;try{var r=t.inject(e);$i=le(function(e){return t.onCommitFiberRoot(r,e)}),ea=le(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0},onCommitRoot:function(e){"function"===typeof $i&&$i(e)},onCommitUnmount:function(e){"function"===typeof ea&&ea(e)}},ra=Ft.ClassComponent,oa=Ft.HostRoot,na=Ft.HostComponent,ia=Ft.HostText,aa=Ft.HostPortal,sa=Ft.CoroutineComponent,ca=Io.commitCallbacks,la=ta.onCommitUnmount,pa=Xt.Placement,ua=Xt.Update,da=Xt.Callback,ha=Xt.ContentReset,ma=Lo.createCursor,ya=Lo.pop,fa=Lo.push,va={},ga=Ft.HostComponent,_a=Ft.HostText,wa=Ft.HostRoot,ba=Xt.Deletion,xa=Xt.Placement,Sa=un.createFiberFromHostInstanceForDeletion,ka=Xo.popContextProvider,Pa=Lo.reset,Ea=Zt.ReactCurrentOwner,Ca=un.createWorkInProgress,Aa=un.largerPriority,Ta=ta.onCommitRoot,Ma=Ao.NoWork,Ra=Ao.SynchronousPriority,za=Ao.TaskPriority,Oa=Ao.HighPriority,ja=Ao.LowPriority,Na=Ao.OffscreenPriority,Fa=Qo.AsyncUpdates,Ia=Xt.PerformedWork,Ba=Xt.Placement,Da=Xt.Update,La=Xt.PlacementAndUpdate,qa=Xt.Deletion,Ua=Xt.ContentReset,Wa=Xt.Callback,Va=Xt.Err,Ha=Xt.Ref,Ga=Ft.HostRoot,Ka=Ft.HostComponent,Ja=Ft.HostPortal,Za=Ft.ClassComponent,Xa=Io.getUpdatePriority,Qa=Xo.resetContext;ye._injectFiber=function(e){me=e};var Ya=Io.addTopLevelUpdate,$a=Xo.findCurrentUnmaskedContext,es=Xo.isContextProvider,ts=Xo.processChildContext,rs=Ft.HostComponent,os=or.findCurrentHostFiber,ns=or.findCurrentHostFiberWithNoPortals;ye._injectFiber(function(e){var t=$a(e);return es(e)?ts(e,t,!1):t});var is=It.TEXT_NODE,as=null,ss={getOffsets:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,o=t.anchorOffset,n=t.focusNode,i=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}t=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset?0:a.toString().length;var s=a.cloneRange();return s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),e=s.startContainer===s.endContainer&&s.startOffset===s.endOffset?0:s.toString().length,a=e+t,t=document.createRange(),t.setStart(r,o),t.setEnd(n,i),r=t.collapsed,{start:r?a:e,end:r?e:a}},setOffsets:function(e,t){if(window.getSelection){var r=window.getSelection(),o=e[ge()].length,n=Math.min(t.start,o);if(t=void 0===t.end?n:Math.min(t.end,o),!r.extend&&n>t&&(o=t,t=n,n=o),o=ve(e,n),e=ve(e,t),o&&e){var i=document.createRange();i.setStart(o.node,o.offset),r.removeAllRanges(),n>t?(r.addRange(i),r.extend(e.node,e.offset)):(i.setEnd(e.node,e.offset),r.addRange(i))}}}},cs=It.ELEMENT_NODE,ls={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=kt();return{focusedElem:e,selectionRange:ls.hasSelectionCapabilities(e)?ls.getSelection(e):null}},restoreSelection:function(e){var t=kt(),r=e.focusedElem;if(e=e.selectionRange,t!==r&&xt(document.documentElement,r)){for(ls.hasSelectionCapabilities(r)&&ls.setSelection(r,e),t=[],e=r;e=e.parentNode;)e.nodeType===cs&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(St(r),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}},getSelection:function(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ss.getOffsets(e))||{start:0,end:0}},setSelection:function(e,t){var r=t.start,o=t.end;void 0===o&&(o=r),"selectionStart"in e?(e.selectionStart=r,e.selectionEnd=Math.min(o,e.value.length)):ss.setOffsets(e,t)}},ps=ls,us=It.ELEMENT_NODE;be._injectFiber=function(e){_e=e},be._injectStack=function(e){we=e};var ds=Ft.HostComponent,hs={isAncestor:function(e,t){for(;t;){if(e===t||e===t.alternate)return!0;t=xe(t)}return!1},getLowestCommonAncestor:Se,getParentInstance:function(e){return xe(e)},traverseTwoPhase:function(e,t,r){for(var o=[];e;)o.push(e),e=xe(e);for(e=o.length;0<e--;)t(o[e],"captured",r);for(e=0;e<o.length;e++)t(o[e],"bubbled",r)},traverseEnterLeave:function(e,t,r,o,n){for(var i=e&&t?Se(e,t):null,a=[];e&&e!==i;)a.push(e),e=xe(e);for(e=[];t&&t!==i;)e.push(t),t=xe(t);for(t=0;t<a.length;t++)r(a[t],"bubbled",o);for(t=e.length;0<t--;)r(e[t],"captured",n)}},ms=wr.getListener,ys={accumulateTwoPhaseDispatches:function(e){E(e,Pe)},accumulateTwoPhaseDispatchesSkipTarget:function(e){E(e,Ee)},accumulateDirectDispatches:function(e){E(e,Ae)},accumulateEnterLeaveDispatches:function(e,t,r,o){hs.traverseEnterLeave(r,o,Ce,e,t)}},fs={_root:null,_startText:null,_fallbackText:null},vs={initialize:function(e){return fs._root=e,fs._startText=vs.getText(),!0},reset:function(){fs._root=null,fs._startText=null,fs._fallbackText=null},getData:function(){if(fs._fallbackText)return fs._fallbackText;var e,t,r=fs._startText,o=r.length,n=vs.getText(),i=n.length;for(e=0;e<o&&r[e]===n[e];e++);var a=o-e;for(t=1;t<=a&&r[o-t]===n[i-t];t++);return fs._fallbackText=n.slice(e,1<t?1-t:void 0),fs._fallbackText},getText:function(){return"value"in fs._root?fs._root.value:fs._root[ge()]}},gs=vs,_s="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ws={type:null,target:null,currentTarget:_t.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};vt(Te.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_t.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_t.thatReturnsTrue)},persist:function(){this.isPersistent=_t.thatReturnsTrue},isPersistent:_t.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<_s.length;t++)this[_s[t]]=null}}),Te.Interface=ws,Te.augmentClass=function(e,t){function r(){}r.prototype=this.prototype;var o=new r;vt(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=vt({},this.Interface,t),e.augmentClass=this.augmentClass,ze(e)},ze(Te),Te.augmentClass(Oe,{data:null}),Te.augmentClass(je,{data:null});var bs=[9,13,27,32],xs=ft.canUseDOM&&"CompositionEvent"in window,Ss=null;ft.canUseDOM&&"documentMode"in document&&(Ss=document.documentMode);var ks;if(ks=ft.canUseDOM&&"TextEvent"in window&&!Ss){var Ps=window.opera;ks=!("object"===typeof Ps&&"function"===typeof Ps.version&&12>=parseInt(Ps.version(),10))}var Es=ks,Cs=ft.canUseDOM&&(!xs||Ss&&8<Ss&&11>=Ss),As=String.fromCharCode(32),Ts={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Ms=!1,Rs=!1,zs={eventTypes:Ts,extractEvents:function(e,t,r,o){var n;if(xs)e:{switch(e){case"topCompositionStart":var i=Ts.compositionStart;break e;case"topCompositionEnd":i=Ts.compositionEnd;break e;case"topCompositionUpdate":i=Ts.compositionUpdate;break e}i=void 0}else Rs?Ne(e,r)&&(i=Ts.compositionEnd):"topKeyDown"===e&&229===r.keyCode&&(i=Ts.compositionStart);return i?(Cs&&(Rs||i!==Ts.compositionStart?i===Ts.compositionEnd&&Rs&&(n=gs.getData()):Rs=gs.initialize(o)),i=Oe.getPooled(i,t,r,o),n?i.data=n:null!==(n=Fe(r))&&(i.data=n),ys.accumulateTwoPhaseDispatches(i),n=i):n=null,(e=Es?Ie(e,r):Be(e,r))?(t=je.getPooled(Ts.beforeInput,t,r,o),t.data=e,ys.accumulateTwoPhaseDispatches(t)):t=null,[n,t]}},Os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},js={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ns=null,Fs=null,Is=!1;ft.canUseDOM&&(Is=R("input")&&(!document.documentMode||9<document.documentMode));var Bs={eventTypes:js,_isInputEventSupported:Is,extractEvents:function(e,t,r,o){var n=t?Kt.getNodeFromInstance(t):window,i=n.nodeName&&n.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===n.type)var a=We;else if(De(n))if(Is)a=Ze;else{a=Ke;var s=Ge}else!(i=n.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==n.type&&"radio"!==n.type||(a=Je);if(a&&(a=a(e,t)))return Le(a,r,o);s&&s(e,n,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||n._wrapperState)&&e.controlled&&"number"===n.type&&(e=""+n.value,n.getAttribute("value")!==e&&n.setAttribute("value",e))}};Te.augmentClass(Xe,{view:function(e){return e.view?e.view:(e=S(e),e.window===e?e:(e=e.ownerDocument)?e.defaultView||e.parentWindow:window)},detail:function(e){return e.detail||0}});var Ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Xe.augmentClass($e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ye,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Ls={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},qs={eventTypes:Ls,extractEvents:function(e,t,r,o){if("topMouseOver"===e&&(r.relatedTarget||r.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var n=o.window===o?o:(n=o.ownerDocument)?n.defaultView||n.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=r.relatedTarget||r.toElement)?Kt.getClosestInstanceFromNode(t):null):e=null,e===t)return null;var i=null==e?n:Kt.getNodeFromInstance(e);n=null==t?n:Kt.getNodeFromInstance(t);var a=$e.getPooled(Ls.mouseLeave,e,r,o);return a.type="mouseleave",a.target=i,a.relatedTarget=n,r=$e.getPooled(Ls.mouseEnter,t,r,o),r.type="mouseenter",r.target=n,r.relatedTarget=i,ys.accumulateEnterLeaveDispatches(a,r,e,t),[a,r]}},Us=It.DOCUMENT_NODE,Ws=ft.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Vs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Hs=null,Gs=null,Ks=null,Js=!1,Zs=Ar.isListeningToAllDependencies,Xs={eventTypes:Vs,extractEvents:function(e,t,r,o){var n=o.window===o?o.document:o.nodeType===Us?o:o.ownerDocument;if(!n||!Zs("onSelect",n))return null;switch(n=t?Kt.getNodeFromInstance(t):window,e){case"topFocus":(De(n)||"true"===n.contentEditable)&&(Hs=n,Gs=t,Ks=null);break;case"topBlur":Ks=Gs=Hs=null;break;case"topMouseDown":Js=!0;break;case"topContextMenu":case"topMouseUp":return Js=!1,et(r,o);case"topSelectionChange":if(Ws)break;case"topKeyDown":case"topKeyUp":return et(r,o)}return null}};Te.augmentClass(tt,{animationName:null,elapsedTime:null,pseudoElement:null}),Te.augmentClass(rt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xe.augmentClass(ot,{relatedTarget:null});var Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};Xe.augmentClass(it,{key:function(e){if(e.key){var t=Qs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=nt(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ys[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ye,charCode:function(e){return"keypress"===e.type?nt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),$e.augmentClass(at,{dataTransfer:null}),Xe.augmentClass(st,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ye}),Te.augmentClass(ct,{propertyName:null,elapsedTime:null,pseudoElement:null}),$e.augmentClass(lt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var $s={},ec={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),r="on"+t;t="top"+t,r={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[t]},$s[e]=r,ec[t]=r});var tc={eventTypes:$s,extractEvents:function(e,t,r,n){var i=ec[e];if(!i)return null;switch(e){case"topAbort":case"topCancel":case"topCanPlay":case"topCanPlayThrough":case"topClose":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topToggle":case"topVolumeChange":case"topWaiting":var a=Te;break;case"topKeyPress":if(0===nt(r))return null;case"topKeyDown":case"topKeyUp":a=it;break;case"topBlur":case"topFocus":a=ot;break;case"topClick":if(2===r.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=$e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=at;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=st;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=tt;break;case"topTransitionEnd":a=ct;break;case"topScroll":a=Xe;break;case"topWheel":a=lt;break;case"topCopy":case"topCut":case"topPaste":a=rt}return a||o("86",e),e=a.getPooled(i,t,r,n),ys.accumulateTwoPhaseDispatches(e),e}};gr.setHandleTopLevel(Ar.handleTopLevel),wr.injection.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),sr.injection.injectComponentTree(Kt),wr.injection.injectEventPluginsByName({SimpleEventPlugin:tc,EnterLeaveEventPlugin:qs,ChangeEventPlugin:Bs,SelectEventPlugin:Xs,BeforeInputEventPlugin:zs});var rc=Nt.injection.MUST_USE_PROPERTY,oc=Nt.injection.HAS_BOOLEAN_VALUE,nc=Nt.injection.HAS_NUMERIC_VALUE,ic=Nt.injection.HAS_POSITIVE_NUMERIC_VALUE,ac=Nt.injection.HAS_STRING_BOOLEAN_VALUE,sc={Properties:{allowFullScreen:oc,allowTransparency:ac,async:oc,autoPlay:oc,capture:oc,checked:rc|oc,cols:ic,contentEditable:ac,controls:oc,default:oc,defer:oc,disabled:oc,download:Nt.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:ac,formNoValidate:oc,hidden:oc,loop:oc,multiple:rc|oc,muted:rc|oc,noValidate:oc,open:oc,playsInline:oc,readOnly:oc,required:oc,reversed:oc,rows:ic,rowSpan:nc,scoped:oc,seamless:oc,selected:rc|oc,size:ic,start:nc,span:ic,spellCheck:ac,style:0,itemScope:oc,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:ac},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},cc=Nt.injection.HAS_STRING_BOOLEAN_VALUE,lc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},pc={Properties:{autoReverse:cc,externalResourcesRequired:cc,preserveAlpha:cc},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:lc.xlink,xlinkArcrole:lc.xlink,xlinkHref:lc.xlink,xlinkRole:lc.xlink,xlinkShow:lc.xlink,xlinkTitle:lc.xlink,xlinkType:lc.xlink,xmlBase:lc.xml,xmlLang:lc.xml,xmlSpace:lc.xml}},uc=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(uc,pt);pc.Properties[t]=0,pc.DOMAttributeNames[t]=e}),Nt.injection.injectDOMPropertyConfig(sc),Nt.injection.injectDOMPropertyConfig(pc);var dc=ta.injectInternals,hc=It.ELEMENT_NODE,mc=It.TEXT_NODE,yc=It.COMMENT_NODE,fc=It.DOCUMENT_NODE,vc=It.DOCUMENT_FRAGMENT_NODE,gc=Nt.ROOT_ATTRIBUTE_NAME,_c=Ct.getChildNamespace,wc=uo.createElement,bc=uo.createTextNode,xc=uo.setInitialProperties,Sc=uo.diffProperties,kc=uo.updateProperties,Pc=uo.diffHydratedProperties,Ec=uo.diffHydratedText,Cc=uo.warnForDeletedHydratableElement,Ac=uo.warnForDeletedHydratableText,Tc=uo.warnForInsertedHydratedElement,Mc=uo.warnForInsertedHydratedText,Rc=Kt.precacheFiberNode,zc=Kt.updateFiberProps;ur.injection.injectFiberControlledHostComponent(uo),be._injectFiber(function(e){return Nc.findHostInstance(e)});var Oc=null,jc=null,Nc=function(e){var t=e.getPublicInstance;e=he(e);var r=e.scheduleUpdate,o=e.getPriorityContext;return{createContainer:function(e){var t=dn();return e={current:t,containerInfo:e,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null},t.stateNode=e},updateContainer:function(e,t,n,i){var a=t.current;n=ye(n),null===t.context?t.context=n:t.pendingContext=n,t=i,i=o(a,Co.enableAsyncSubtreeAPI&&null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent),e={element:e},Ya(a,e,void 0===t?null:t,i),r(a,i)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case rs:return t(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){return e=os(e),null===e?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return e=ns(e),null===e?null:e.stateNode}}}({getRootHostContext:function(e){if(e.nodeType===fc)e=(e=e.documentElement)?e.namespaceURI:_c(null,"");else{var t=e.nodeType===yc?e.parentNode:e;e=t.namespaceURI||null,t=t.tagName,e=_c(e,t)}return e},getChildHostContext:function(e,t){return _c(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Oc=Ar.isEnabled(),jc=ps.getSelectionInformation(),Ar.setEnabled(!1)},resetAfterCommit:function(){ps.restoreSelection(jc),jc=null,Ar.setEnabled(Oc),Oc=null},createInstance:function(e,t,r,o,n){return e=wc(e,t,r,o),Rc(n,e),zc(e,t),e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,r,o){xc(e,t,r,o);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,r,o,n){return Sc(e,t,r,o,n)},commitMount:function(e){e.focus()},commitUpdate:function(e,t,r,o,n){zc(e,n),kc(e,t,r,o,n)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html},resetTextContent:function(e){e.textContent=""},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,r,o){return e=bc(e,t),Rc(o,e),e},commitTextUpdate:function(e,t,r){e.nodeValue=r},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===yc?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,r){e.insertBefore(t,r)},insertInContainerBefore:function(e,t,r){e.nodeType===yc?e.parentNode.insertBefore(t,r):e.insertBefore(t,r)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===yc?e.parentNode.removeChild(t):e.removeChild(t)},canHydrateInstance:function(e,t){return e.nodeType===hc&&t===e.nodeName.toLowerCase()},canHydrateTextInstance:function(e,t){return""!==t&&e.nodeType===mc},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&e.nodeType!==hc&&e.nodeType!==mc;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&e.nodeType!==hc&&e.nodeType!==mc;)e=e.nextSibling;return e},hydrateInstance:function(e,t,r,o,n,i){return Rc(i,e),zc(e,r),Pc(e,t,r,n,o)},hydrateTextInstance:function(e,t,r){return Rc(r,e),Ec(e,t)},didNotHydrateInstance:function(e,t){1===t.nodeType?Cc(e,t):Ac(e,t)},didNotFindHydratableInstance:function(e,t,r){Tc(e,t,r)},didNotFindHydratableTextInstance:function(e,t){Mc(e,t)},scheduleDeferredCallback:Eo.rIC,useSyncScheduling:!0});hr.injection.injectFiberBatchedUpdates(Nc.batchedUpdates);var Fc={createPortal:mt,hydrate:function(e,t,r){return ht(null,e,t,!0,r)},render:function(e,t,r){return ht(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return null!=e&&Jt.has(e)||o("38"),ht(e,t,r,!1,n)},unmountComponentAtNode:function(e){return ut(e)||o("40"),!!e._reactRootContainer&&(Nc.unbatchedUpdates(function(){ht(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},findDOMNode:be,unstable_createPortal:mt,unstable_batchedUpdates:hr.batchedUpdates,unstable_deferredUpdates:Nc.deferredUpdates,flushSync:Nc.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:wr,EventPluginRegistry:Rt,EventPropagators:ys,ReactControlledComponent:ur,ReactDOMComponentTree:Kt,ReactDOMEventListener:gr}};dc({findFiberByHostInstance:Kt.getClosestInstanceFromNode,findHostInstanceByFiber:Nc.findHostInstance,bundleType:0,version:"16.0.0",rendererPackageName:"react-dom"}),e.exports=Fc},function(e,t,r){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};e.exports=n},function(e,t,r){"use strict";var o=r(15),n={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:o}},registerDefault:function(){}};e.exports=n},function(e,t,r){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,r){"use strict";function o(e,t){return!(!e||!t)&&(e===t||!n(e)&&(n(t)?o(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var n=r(103);e.exports=o},function(e,t,r){"use strict";function o(e){return n(e)&&3==e.nodeType}var n=r(104);e.exports=o},function(e,t,r){"use strict";function o(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!(!e||!("function"===typeof r.Node?e instanceof r.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=o},function(e,t,r){"use strict";function o(e){try{e.focus()}catch(e){}}e.exports=o},function(e,t,r){"use strict";function o(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=o},function(e,t){},function(e,t){},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(9),s=r.n(a),c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(150),h=r(30),m=r(213),y=r(0),f=r(79),v=r.n(f),g=r(218),_=r(219),w=r(81),b=r(220),x=r(0),S=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();r(247).config(),h.a.plugin(m.a);var k=Object(u.c)(d.a),P="wss://ollisim.mybluemix.net",E="http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",C="http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",A=function(e){function t(){o(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return k.dispatch(Object(y.D)(v.a)),E&&C?e.startPouchDBAOSim():e.startPouchDBOlliSim(),P&&!E&&e.startWebsocket(),e.websocketMgr=new g.a("/socket",function(e){"kintrans"===e.type&&Object(_.a)(e.body,k)}),e.websocketMgr.startWebsocket(),e}return i(t,e),S(t,[{key:"connectWebsocket",value:function(){var e=this;this.websocketConnected?console.log("Websocket already connected..."):(console.log("Trying to connect to websocket..."),this.websocketConnected=!0,this.websocket=new WebSocket(P),this.websocket.onopen=function(){e.websocketConnected=!0,console.log("Socket opened")},this.websocket.onclose=function(){console.log("Socket closed"),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onerror=function(t){console.log("Socket error",t),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onmessage=function(e){try{var t=JSON.parse(e.data);"route_info"===t.type?k.dispatch(Object(y.D)(t)):"trip_start"===t.type?k.dispatch(Object(y.G)(t)):"trip_end"===t.type?k.dispatch(Object(y.u)(t)):"geo_position"===t.type&&k.dispatch(Object(y.C)(t))}catch(t){console.log(e.data)}})}},{key:"startWebsocket",value:function(){var e=this,t=P.replace("ws","http");s.a.get(t+"/info").then(function(e){return console.log(e),e.data.started?(console.log("Simulator already running..."),k.dispatch(Object(y.D)(e.data.route)),Promise.resolve(e)):(console.log("Starting simulator..."),s.a.get(t+"/start"))}).then(function(e){return s.a.get(t+"/info")}).then(function(t){k.dispatch(Object(y.D)(t.data.route)),e.connectWebsocket()}).catch(function(){setTimeout(function(){e.startWebsocket()},5e3)})}},{key:"startPouchDBOlliSim",value:function(){var e=this;this.db=new h.a("http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",{}),this.db.changes({since:"now",live:!0,include_docs:!0}).on("change",function(t){k.getState().mapReady&&t&&t.doc&&t.doc.type&&("route_info"===t.doc.type?k.dispatch(Object(y.D)(t.doc)):"trip_start"===t.doc.type?k.dispatch(Object(y.G)(t.doc)):"trip_end"===t.doc.type?k.dispatch(Object(y.u)(t.doc)):"geo_position"===t.doc.type&&(k.getState().olliRoute?k.dispatch(Object(y.C)(t.doc)):e.db.createIndex({index:{fields:[{type:"desc"},{ts:"desc"}]}}).then(function(){return e.db.find({selector:{type:"route_info"},sort:[{type:"desc"},{ts:"desc"}],limit:1})}).then(function(e){e.docs&&e.docs.length>0&&(k.dispatch(Object(y.D)(e.docs[0])),k.dispatch(Object(y.C)(t.doc)))}).catch(function(e){console.log(e)})))}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)})}},{key:"startPouchDBAOSim",value:function(){this.db=new h.a(E,{}),this.db.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){if(k.getState().mapReady&&e&&e.doc&&"telemetry_transition"===e.doc._id){for(var t=[];;){var r=t.length,o="olli_"+(r+1);if(!e.doc.transport_data.olli_vehicles.hasOwnProperty(o))break;t.push(e.doc.transport_data.olli_vehicles[o])}for(var n=0;n<t.length;n++){var i={olliId:"olli_"+(n+1),coordinates:t[n].geometry.coordinates,distance_travelled:.14278461869690082,distance_remaining:.05605209177030407,properties:t[n].properties,ts:e.doc.timestamp};k.getState().olliRoute?k.dispatch(Object(y.C)(i)):console.log("No olli route. Cannot update olli position.")}}}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)}),this.db2=new h.a(C,{}),this.db2.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){k.getState().mapReady&&e&&e.doc&&(e.doc._id.startsWith("Trip Start")||e.doc._id.startsWith("Trip Stop")||("sms"===e.doc.event?e.doc.payload&&e.doc.payload.phone&&e.doc.payload.text&&Object(w.a)(e.doc.payload.phone,e.doc.payload.text).then(function(e){console.log(e)}).catch(function(e){console.log(e)}):"display"===e.doc.event&&k.dispatch(Object(x.v)(e.doc))))}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)}),this.db3=new h.a("http://rajsingh:genjisan@127.0.0.1:5984/persona_transitions",{}),this.db3.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){if(console.log("GOT CHANGE"),k.getState().mapReady&&e&&e.doc)if("olli_stop_entry"===e.doc.transition){console.log(e.doc.persona+" enters olli stop");var t={name:e.doc.persona,preferences:e.doc.preferences};e.doc.persona.startsWith("Brent")?t.deaf=!0:e.doc.persona.startsWith("Erich")?t.blind=!0:e.doc.persona.startsWith("Grace")?t.cognitive=!0:e.doc.persona.startsWith("Kathryn")&&(t.wheelchair=!0),k.dispatch(Object(y.r)(t))}else if("olli_stop_end_exit"===e.doc.transition||"olli_stop_side_exit"===e.doc.transition){var r={name:e.doc.persona};k.dispatch(Object(y.w)(r)),"Brent"===e.doc.persona&&k.dispatch(Object(y.A)(!1)),e.doc.persona}}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement(p.a,{store:k},l.a.createElement(b.a,null))}}]),t}(c.Component);t.a=A},function(e,t,r){"use strict";function o(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var n=r(2),i=r(39),a=r(112),s=r(20),c=o(s);c.Axios=a,c.create=function(e){return o(n.merge(s,e))},c.Cancel=r(43),c.CancelToken=r(126),c.isCancel=r(42),c.all=function(e){return Promise.all(e)},c.spread=r(127),e.exports=c,e.exports.default=c},function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}e.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},function(e,t,r){"use strict";function o(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var n=r(20),i=r(2),a=r(121),s=r(122);o.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(n,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,r,o){return this.request(i.merge(o||{},{method:e,url:t,data:r}))}}),e.exports=o},function(e,t,r){"use strict";var o=r(2);e.exports=function(e,t){o.forEach(e,function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])})}},function(e,t,r){"use strict";var o=r(41);e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(o("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,o,n){return e.config=t,r&&(e.code=r),e.request=o,e.response=n,e}},function(e,t,r){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var n=r(2);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var o=r(2),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(o.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),r=o.trim(e.substr(i+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var o=r(2);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");return t=e(window.location.href),function(r){var n=o.isString(r)?e(r):r;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},function(e,t,r){"use strict";function o(){this.message="String contains an invalid character"}function n(e){for(var t,r,n=String(e),a="",s=0,c=i;n.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if((r=n.charCodeAt(s+=.75))>255)throw new o;t=t<<8|r}return a}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=n},function(e,t,r){"use strict";var o=r(2);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,r,n,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),o.isString(n)&&s.push("path="+n),o.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,r){"use strict";function o(){this.handlers=[]}var n=r(2);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var n=r(2),i=r(123),a=r(42),s=r(20),c=r(124),l=r(125);e.exports=function(e){return o(e),e.baseURL&&!c(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var o=r(2);e.exports=function(e,t,r){return o.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}var n=r(43);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),s=(r.n(a),r(44)),c=r.n(s),l=r(45);r(22);t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",r=arguments[1],s=r||t+"Subscription",p=function(e){function r(i,a){o(this,r);var s=n(this,e.call(this,i,a));return s[t]=i.store,s}return i(r,e),r.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[s]=null,e},r.prototype.render=function(){return a.Children.only(this.props.children)},r}(a.Component);return p.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},p.childContextTypes=(e={},e[t]=l.a.isRequired,e[s]=l.b,e),p}()},function(e,t,r){"use strict";var o=r(15),n=r(19),i=r(130);e.exports=function(){function e(e,t,r,o,a,s){s!==i&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,p=l&&l(Object);e.exports=function e(t,r,u){if("string"!==typeof r){if(p){var d=l(r);d&&d!==p&&e(t,d,u)}var h=a(r);s&&(h=h.concat(s(r)));for(var m=0;m<h.length;++m){var y=h[m];if(!o[y]&&!n[y]&&(!u||!u[y])){var f=c(r,y);try{i(t,y,f)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var r=e=t,o=0;o<r.length;o++)r[o]()},get:function(){return t},subscribe:function(r){var o=!0;return t===e&&(t=e.slice()),t.push(r),function(){o&&e!==i&&(o=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}r.d(t,"a",function(){return s});var i=null,a={notify:function(){}},s=function(){function e(t,r,n){o(this,e),this.store=t,this.parentSub=r,this.onStateChange=n,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=n())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,r){"use strict";function o(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function n(e,t,r){for(var o=t.length-1;o>=0;o--){var n=t[o](e);if(n)return n}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function i(e,t){return e===t}var a=r(46),s=r(134),c=r(135),l=r(146),p=r(147),u=r(148),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,r=void 0===t?a.a:t,h=e.mapStateToPropsFactories,m=void 0===h?l.a:h,y=e.mapDispatchToPropsFactories,f=void 0===y?c.a:y,v=e.mergePropsFactories,g=void 0===v?p.a:v,_=e.selectorFactory,w=void 0===_?u.a:_;return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.pure,p=void 0===l||l,u=c.areStatesEqual,h=void 0===u?i:u,y=c.areOwnPropsEqual,v=void 0===y?s.a:y,_=c.areStatePropsEqual,b=void 0===_?s.a:_,x=c.areMergedPropsEqual,S=void 0===x?s.a:x,k=o(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=n(e,m,"mapStateToProps"),E=n(t,f,"mapDispatchToProps"),C=n(a,g,"mergeProps");return r(w,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:E,initMergeProps:C,pure:p,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:S},k))}}()},function(e,t,r){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}t.a=n;var i=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function o(e){return"function"===typeof e?Object(s.b)(e,"mapDispatchToProps"):void 0}function n(e){return e?void 0:Object(s.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"===typeof e?Object(s.a)(function(t){return Object(a.a)(e,t)}):void 0}var a=r(3),s=r(52);t.a=[o,n,i]},function(e,t,r){"use strict";function o(e){var t=a.call(e,c),r=e[c];try{e[c]=void 0;var o=!0}catch(e){}var n=s.call(e);return o&&(t?e[c]=r:delete e[c]),n}var n=r(23),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=n.a?n.a.toStringTag:void 0;t.a=o},function(e,t,r){"use strict";function o(e){return i.call(e)}var n=Object.prototype,i=n.toString;t.a=o},function(e,t,r){"use strict";var o=r(49),n=Object(o.a)(Object.getPrototypeOf,Object);t.a=n},function(e,t,r){e.exports=r(140)},function(e,t,r){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(142),a=function(e){return e&&e.__esModule?e:{default:e}}(i);n="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:o;var s=(0,a.default)(n);t.default=s}).call(t,r(5),r(141)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function o(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";function o(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function n(e){Object.keys(e).forEach(function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var a=t[i];"function"===typeof e[a]&&(r[a]=e[a])}var s=Object.keys(r),c=void 0;try{n(r)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var n=!1,i={},a=0;a<s.length;a++){var l=s[a],p=r[l],u=e[l],d=p(u,t);if("undefined"===typeof d){var h=o(l,t);throw new Error(h)}i[l]=d,n=n||d!==u}return n?i:e}}t.a=i;var a=r(47);r(7),r(50)},function(e,t,r){"use strict";function o(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if("function"===typeof e)return o(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},i=0;i<r.length;i++){var a=r[i],s=e[a];"function"===typeof s&&(n[a]=o(s,t))}return n}t.a=n},function(e,t,r){"use strict";r(51),Object.assign},function(e,t,r){"use strict";function o(e){return"function"===typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function n(e){return e?void 0:Object(i.a)(function(){return{}})}var i=r(52);t.a=[o,n]},function(e,t,r){"use strict";function o(e,t,r){return s({},r,e,t)}function n(e){return function(t,r){var o=(r.displayName,r.pure),n=r.areMergedPropsEqual,i=!1,a=void 0;return function(t,r,s){var c=e(t,r,s);return i?o&&n(c,a)||(a=c):(i=!0,a=c),a}}}function i(e){return"function"===typeof e?n(e):void 0}function a(e){return e?void 0:function(){return o}}var s=(r(53),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e});t.a=[i,a]},function(e,t,r){"use strict";function o(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function n(e,t,r,o){return function(n,i){return r(e(n,i),t(o,i),i)}}function i(e,t,r,o,n){function i(n,i){return m=n,y=i,f=e(m,y),v=t(o,y),g=r(f,v,y),h=!0,g}function a(){return f=e(m,y),t.dependsOnOwnProps&&(v=t(o,y)),g=r(f,v,y)}function s(){return e.dependsOnOwnProps&&(f=e(m,y)),t.dependsOnOwnProps&&(v=t(o,y)),g=r(f,v,y)}function c(){var t=e(m,y),o=!d(t,f);return f=t,o&&(g=r(f,v,y)),g}function l(e,t){var r=!u(t,y),o=!p(e,m);return m=e,y=t,r&&o?a():r?s():o?c():g}var p=n.areStatesEqual,u=n.areOwnPropsEqual,d=n.areStatePropsEqual,h=!1,m=void 0,y=void 0,f=void 0,v=void 0,g=void 0;return function(e,t){return h?l(e,t):i(e,t)}}function a(e,t){var r=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,c=o(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=r(e,c),p=a(e,c),u=s(e,c);return(c.pure?i:n)(l,p,u,e,c)}t.a=a;r(149)},function(e,t,r){"use strict";r(22)},function(e,t,r){"use strict";var o=r(3),n=r(151),i=r(193),a=r(194),s=r(195),c=r(196),l=r(197),p=r(198),u=r(199),d=r(200),h=r(201),m=r(202),y=r(203),f=r(204),v=r(205),g=r(206),_=r(207),w=Object(o.b)({mapReady:n.a,olliPosition:i.a,olliPositions:a.a,olliRoute:s.a,olliRouteVisibility:c.a,mapMsg:h.a,destinationStopName:m.a,pois:u.a,poiCategory:l.a,selectedPOIs:d.a,poiDirections:p.a,kintransAvatar:y.a,kinTransInUse:f.a,activePersona:v.a,activePersonaTypes:g.a,display:_.a});t.a=w},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.j:e=t.ready}return e}},function(e,t,r){"use strict";function o(e){return null===e}t.a=o},function(e,t,r){"use strict";function o(e){return void 0===e}t.a=o},function(e,t,r){"use strict";function o(e,t,r,o){e=Object(i.a)(e)?e:Object(c.a)(e),r=r&&!o?Object(s.a)(r):0;var p=e.length;return r<0&&(r=l(p+r,0)),Object(a.a)(e)?r<=p&&e.indexOf(t,r)>-1:!!p&&Object(n.a)(e,t,r)>-1}var n=r(155),i=r(26),a=r(27),s=r(159),c=r(162),l=Math.max;t.a=o},function(e,t,r){"use strict";function o(e,t,r){return t===t?Object(a.a)(e,t,r):Object(n.a)(e,i.a,r)}var n=r(156),i=r(157),a=r(158);t.a=o},function(e,t,r){"use strict";function o(e,t,r,o){for(var n=e.length,i=r+(o?1:-1);o?i--:++i<n;)if(t(e[i],i,e))return i;return-1}t.a=o},function(e,t,r){"use strict";function o(e){return e!==e}t.a=o},function(e,t,r){"use strict";function o(e,t,r){for(var o=r-1,n=e.length;++o<n;)if(e[o]===t)return o;return-1}t.a=o},function(e,t,r){"use strict";function o(e){var t=Object(n.a)(e),r=t%1;return t===t?r?t-r:t:0}var n=r(160);t.a=o},function(e,t,r){"use strict";function o(e){if(!e)return 0===e?e:0;if((e=Object(n.a)(e))===i||e===-i){return(e<0?-1:1)*a}return e===e?e:0}var n=r(161),i=1/0,a=1.7976931348623157e308;t.a=o},function(e,t,r){"use strict";function o(e){if("number"==typeof e)return e;if(Object(i.a)(e))return a;if(Object(n.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(n.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=l.test(e);return r||p.test(e)?u(e.slice(2),r?2:8):c.test(e)?a:+e}var n=r(25),i=r(28),a=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,p=/^0o[0-7]+$/i,u=parseInt;t.a=o},function(e,t,r){"use strict";function o(e){return null==e?[]:Object(n.a)(e,Object(i.a)(e))}var n=r(163),i=r(164);t.a=o},function(e,t,r){"use strict";function o(e,t){return Object(n.a)(t,function(t){return e[t]})}var n=r(59);t.a=o},function(e,t,r){"use strict";function o(e){return Object(a.a)(e)?Object(n.a)(e):Object(i.a)(e)}var n=r(165),i=r(64),a=r(26);t.a=o},function(e,t,r){"use strict";function o(e,t){var r=Object(a.a)(e),o=!r&&Object(i.a)(e),p=!r&&!o&&Object(s.a)(e),d=!r&&!o&&!p&&Object(l.a)(e),h=r||o||p||d,m=h?Object(n.a)(e.length,String):[],y=m.length;for(var f in e)!t&&!u.call(e,f)||h&&("length"==f||p&&("offset"==f||"parent"==f)||d&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Object(c.a)(f,y))||m.push(f);return m}var n=r(166),i=r(60),a=r(13),s=r(61),c=r(169),l=r(63),p=Object.prototype,u=p.hasOwnProperty;t.a=o},function(e,t,r){"use strict";function o(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}t.a=o},function(e,t,r){"use strict";function o(e){return Object(i.a)(e)&&Object(n.a)(e)==a}var n=r(8),i=r(11),a="[object Arguments]";t.a=o},function(e,t,r){"use strict";function o(){return!1}t.a=o},function(e,t,r){"use strict";function o(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.a=o},function(e,t,r){"use strict";function o(e){return Object(a.a)(e)&&Object(i.a)(e.length)&&!!s[Object(n.a)(e)]}var n=r(8),i=r(58),a=r(11),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.a=o},function(e,t,r){"use strict";function o(e){return function(t){return e(t)}}t.a=o},function(e,t,r){"use strict";(function(e){var o=r(48),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&o.a.process,c=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();t.a=c}).call(t,r(62)(e))},function(e,t,r){"use strict";var o=r(49),n=Object(o.a)(Object.keys,Object);t.a=n},function(e,t,r){"use strict";function o(e){if(null==e)return!0;if(Object(c.a)(e)&&(Object(s.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(l.a)(e)||Object(u.a)(e)||Object(a.a)(e)))return!e.length;var t=Object(i.a)(e);if(t==d||t==h)return!e.size;if(Object(p.a)(e))return!Object(n.a)(e).length;for(var r in e)if(y.call(e,r))return!1;return!0}var n=r(64),i=r(175),a=r(60),s=r(13),c=r(26),l=r(61),p=r(65),u=r(63),d="[object Map]",h="[object Set]",m=Object.prototype,y=m.hasOwnProperty;t.a=o},function(e,t,r){"use strict";var o=r(176),n=r(181),i=r(182),a=r(183),s=r(184),c=r(8),l=r(67),p=Object(l.a)(o.a),u=Object(l.a)(n.a),d=Object(l.a)(i.a),h=Object(l.a)(a.a),m=Object(l.a)(s.a),y=c.a;(o.a&&"[object DataView]"!=y(new o.a(new ArrayBuffer(1)))||n.a&&"[object Map]"!=y(new n.a)||i.a&&"[object Promise]"!=y(i.a.resolve())||a.a&&"[object Set]"!=y(new a.a)||s.a&&"[object WeakMap]"!=y(new s.a))&&(y=function(e){var t=Object(c.a)(e),r="[object Object]"==t?e.constructor:void 0,o=r?Object(l.a)(r):"";if(o)switch(o){case p:return"[object DataView]";case u:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case m:return"[object WeakMap]"}return t}),t.a=y},function(e,t,r){"use strict";var o=r(14),n=r(6),i=Object(o.a)(n.a,"DataView");t.a=i},function(e,t,r){"use strict";function o(e){return!(!Object(a.a)(e)||Object(i.a)(e))&&(Object(n.a)(e)?m:l).test(Object(s.a)(e))}var n=r(12),i=r(178),a=r(25),s=r(67),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,p=Function.prototype,u=Object.prototype,d=p.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.a=o},function(e,t,r){"use strict";function o(e){return!!i&&i in e}var n=r(179),i=function(){var e=/[^.]+$/.exec(n.a&&n.a.keys&&n.a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.a=o},function(e,t,r){"use strict";var o=r(6),n=o.a["__core-js_shared__"];t.a=n},function(e,t,r){"use strict";function o(e,t){return null==e?void 0:e[t]}t.a=o},function(e,t,r){"use strict";var o=r(14),n=r(6),i=Object(o.a)(n.a,"Map");t.a=i},function(e,t,r){"use strict";var o=r(14),n=r(6),i=Object(o.a)(n.a,"Promise");t.a=i},function(e,t,r){"use strict";var o=r(14),n=r(6),i=Object(o.a)(n.a,"Set");t.a=i},function(e,t,r){"use strict";var o=r(14),n=r(6),i=Object(o.a)(n.a,"WeakMap");t.a=i},function(e,t,r){"use strict";function o(e){return null==e?"":Object(n.a)(e)}var n=r(186);t.a=o},function(e,t,r){"use strict";function o(e){if("string"==typeof e)return e;if(Object(a.a)(e))return Object(i.a)(e,o)+"";if(Object(s.a)(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}var n=r(23),i=r(59),a=r(13),s=r(28),c=1/0,l=n.a?n.a.prototype:void 0,p=l?l.toString:void 0;t.a=o},function(e,t,r){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=r.namespace;l()(Object(i.a)(e),"Expected handlers to be an plain object.");var a=Object(d.b)(e,n),c=Object(u.a)(a).map(function(e){return Object(p.a)(e,a[e],t)}),h=s.a.apply(void 0,o(c));return function(){var e=arguments.length<=0||void 0===arguments[0]?t:arguments[0],r=arguments[1];return h(e,r)}}t.a=n;var i=r(7),a=r(188),s=r.n(a),c=r(10),l=r.n(c),p=r(56),u=r(29),d=r(68)},function(e,t,r){"use strict";function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){return t.reduce(function(e,t){return t(e,r)},e)}}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,r){"use strict";function o(e){var t=Object(n.a)(e),r=t.every(function(e){return"next"===e||"throw"===e});return t.length&&t.length<=2&&r}t.a=o;var n=r(29)},function(e,t,r){"use strict";var o=(r(69),r(24),r(7),r(13),r(191),r(27),r(12),r(57),r(55),r(10));r.n(o),r(192),r(68),function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw i}}return r}}(),Object.assign},function(e,t,r){"use strict";function o(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}t.a=o},function(e,t,r){"use strict";t.a=function(e,t){return e.reduce(function(e,r){return t(e,r)},{})}},function(e,t,r){"use strict";var o=r(0),n=null;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.l:n=t.route;break;case o.q:n&&(e={coordinates:t.coordinates,currentStop:null,previousStop:t.fromStop,nextStop:t.toStop,nextStopProgress:0,distanceRemaining:t.distanceRemaining});break;case o.d:n&&(e={coordinates:t.coordinates,currentStop:t.toStop,previousStop:t.fromStop,nextStop:null,nextStopProgress:1,distanceRemaining:t.distanceRemaining});break;case o.k:n&&e&&(e={position:t.position,coordinates:t.coordinates,currentStop:e.currentStop,previousStop:e.previousStop,nextStop:e.nextStop,nextStopProgress:t.progress,distanceRemaining:t.distanceRemaining})}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t)switch(t.type){case o.k:for(var r=-1,n=0;n<e.length;n++)if(e[n].olliId===t.position.olliId){r=n;break}var i=e.slice(0);r>=0&&i.splice(r,1),i.push({olliId:t.position.olliId,coordinates:t.coordinates}),e=i}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.l:e=t.route}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",t=arguments[1];if(t)switch(t.type){case o.m:e=t.visibility}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.o:e=t.category}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.c:e=null;break;case o.p:e=t.poiDirections}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t){var r=void 0;switch(t.type){case o.c:e=null;break;case o.n:e=t.pois;break;case o.i:r=e.filter(function(e){return e.id===t.poi.id&&!e.selected}),r.length>0&&(r.forEach(function(e){e.selected=!0}),e=e.slice(0));break;case o.b:r=e.filter(function(e){return e.id===t.poi.id&&e.selected}),r.length>0&&(r.forEach(function(e){e.selected=!1}),e=e.slice(0))}}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t){var r=void 0;switch(t.type){case o.c:e=[];break;case o.i:if(r=e.filter(function(e){return e.id===t.poi.id}),0===r.length){var n=e.slice(0);n.push(t.poi),e=n}break;case o.b:if(r=e.filter(function(e){return e.id===t.poi.id}),r.length>0){var i=e.slice(0);r.forEach(function(e){i.pop(e)}),e=i}}}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.g:e={messageHtml:t.messageHtml,poiNames:t.poiNames}}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.c:e=t.destinationStopName}return e}},function(e,t,r){"use strict";var o=r(0),n={id:"i need help",message:"i need help",timestamp:(new Date).getTime()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];if(t)switch(t.type){case o.e:e={},e.id=t.kintransAvatarMessage,e.message=t.kintransAvatarMessage,e.timestamp=(new Date).getTime()}return e}},function(e,t,r){"use strict";var o=r(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.f:e=t.kinTransInUse}return e}},function(e,t,r){"use strict";var o=r(0),n=[];t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.a:var r=!1,i=!0,a=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){if(c.value.name===t.persona.name){r=!0;break}}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}0===n.length&&(e=t.persona),r||n.push(t.persona);break;case o.h:for(var p=-1,u=0;u<n.length;u++)if(n[u].name===t.persona.name){p=u;break}p>=0&&(n.splice(p,1),e=n.length>0?n[0]:null)}return e}},function(e,t,r){"use strict";var o=r(0),n={deaf:!1,blind:!1,cognitive:!1,wheelchair:!1},i=[];t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];if(t)switch(t.type){case o.a:var r=!1,a=!0,s=!1,c=void 0;try{for(var l,p=i[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){if(l.value.name===t.persona.name){r=!0;break}}}catch(e){s=!0,c=e}finally{try{!a&&p.return&&p.return()}finally{if(s)throw c}}if(!r){i.push(t.persona);(t.persona.deaf&&!e.deaf||t.persona.blind&&!e.blind||t.persona.cognitive&&!e.cognitive||t.persona.wheelchair&&!e.wheelchair)&&(e={deaf:!0===e.deaf||!0===t.persona.deaf,blind:!0===e.blind||!0===t.persona.blind,cognitive:!0===e.cognitive||!0===t.persona.cognitive,wheelchair:!0===e.wheelchair||!0===t.persona.wheelchair})}break;case o.h:for(var u=-1,d=0;d<i.length;d++)if(i[d].name===t.persona.name){u=d;break}if(u>=0&&(i.splice(u,1),e={deaf:!1,blind:!1,cognitive:!1,wheelchair:!1},i.length>0)){var h=!0,m=!1,y=void 0;try{for(var f,v=i[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var g=f.value;e.deaf=!0===e.deaf||!0===g.deaf,e.blind=!0===e.blind||!0===g.blind,e.cognitive=!0===e.cognitive||!0===g.cognitive,e.wheelchair=!0===e.wheelchair||!0===g.wheelchair}}catch(e){m=!0,y=e}finally{try{!h&&v.return&&v.return()}finally{if(m)throw y}}}}return e}},function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n,i=r(54),a=r(0),s={webElements:{},videoElements:{},imageElements:{},messages:{},welcome:{hidden:!0},force:0};t.a=Object(i.b)((n={},o(n,a.v,function(e,t){var r=Object.assign({},e),o=t.payload;switch(o.payload.element){case"welcome":r.welcome=o.payload;break;case"web":r.webElements[o.payload.web_id]=o.payload;break;case"video":r.videoElements[o.payload.video_id]=o.payload;break;case"image":r.imageElements[o.payload.img_id]=o.payload;break;case"message":r.messages[o.payload.m_id]=o.payload;break;case"restart":r=Object.assign({},s)}return r.force++,Object.assign({},r)}),o(n,a.s,function(e,t){var r=Object.assign({},e);return delete r.messages[t.payload.m_id],r.force++,Object.assign({},r)}),n),s)},function(e,t,r){function o(e,t,r){var o=t&&r||0,n=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:c,u=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:p+1,h=u-l+(d-p)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||u>l)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=u,p=d,c=a,u+=122192928e5;var m=(1e4*(268435455&u)+d)%4294967296;n[o++]=m>>>24&255,n[o++]=m>>>16&255,n[o++]=m>>>8&255,n[o++]=255&m;var y=u/4294967296*1e4&268435455;n[o++]=y>>>8&255,n[o++]=255&y,n[o++]=y>>>24&15|16,n[o++]=y>>>16&255,n[o++]=a>>>8|128,n[o++]=255&a;for(var f=e.node||s,v=0;v<6;++v)n[o+v]=f[v];return t||i(n)}var n=r(71),i=r(72),a=n(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],c=16383&(a[6]<<8|a[7]),l=0,p=0;e.exports=o},function(e,t,r){(function(o){function n(){return!("undefined"===typeof window||!window||"undefined"===typeof window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!==typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!==typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,o)}}function a(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!==typeof o&&"env"in o&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/olli-stop",REACT_APP_MONITOR:"monitor1",REACT_APP_REMOTE_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_TELEMETRY_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_EVENT_DB:"http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",REACT_APP_REMOTE_PERSONA_DB:"http://rajsingh:genjisan@127.0.0.1:5984/persona_transitions",REACT_APP_OLLI_STOP_IDX:"3",REACT_APP_OLLI_BLIND_STOP_IDX:"0",REACT_APP_OLLI_BLIND_STOP_DELAY:"1000",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_TEXT_PERSONA_IF_SET:"false",REACT_APP_TEXT_PHONE_NUMBER:"617-299-1557"}).DEBUG),e}t=e.exports=r(210),t.log=a,t.formatArgs=i,t.save=s,t.load=c,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,r(21))},function(e,t,r){function o(e){var r,o=0;for(r in e)o=(o<<5)-o+e.charCodeAt(r),o|=0;return t.colors[Math.abs(o)%t.colors.length]}function n(e){function r(){if(r.enabled){var e=r,o=+new Date,n=o-(l||o);e.diff=n,e.prev=l,e.curr=o,l=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,o){if("%%"===r)return r;s++;var n=t.formatters[o];if("function"===typeof n){var a=i[s];r=n.call(e,a),i.splice(s,1),s--}return r}),t.formatArgs.call(e,i);(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=o(e),"function"===typeof t.init&&t.init(r),r}function i(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"===typeof e?e:"").split(/[\s,]+/),o=r.length,n=0;n<o;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var r,o;for(r=0,o=t.skips.length;r<o;r++)if(t.skips[r].test(e))return!1;for(r=0,o=t.names.length;r<o;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=n.debug=n.default=n,t.coerce=c,t.disable=a,t.enable=i,t.enabled=s,t.humanize=r(211),t.names=[],t.skips=[],t.formatters={};var l},function(e,t){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*p;case"days":case"day":case"d":return r*l;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function n(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,s=60*a,c=60*s,l=24*c,p=365.25*l;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return r(e);if("number"===i&&!1===isNaN(e))return t.long?n(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";function o(e,t,r){var o=r[r.length-1];e===o.element&&(r.pop(),o=r[r.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(e);else if(i===t.length-2){var a=t.pop();n[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var r,o,n,i,a,s,c,l,p,u,d,h="";r=t.pop();)if(o=r.obj,n=r.prefix||"",i=r.val||"",h+=n,i)h+=i;else if("object"!==typeof o)h+="undefined"===typeof o?null:JSON.stringify(o);else if(null===o)h+="null";else if(Array.isArray(o)){for(t.push({val:"]"}),a=o.length-1;a>=0;a--)s=0===a?"":",",t.push({obj:o[a],prefix:s});t.push({val:"["})}else{c=[];for(l in o)o.hasOwnProperty(l)&&c.push(l);for(t.push({val:"}"}),a=c.length-1;a>=0;a--)p=c[a],u=o[p],d=a>0?",":"",d+=JSON.stringify(p)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,r,n,i,a,s,c,l,p,u=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&"undefined"!==typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,o(null,u,d);break;case"t":h+=3,o(!0,u,d);break;case"f":h+=4,o(!1,u,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(n=e[h++],!/[\d\.\-e\+]/.test(n)){h--;break}r+=n}o(parseFloat(r),u,d);break;case'"':for(i="",a=void 0,s=0;;){if('"'===(c=e[h++])&&("\\"!==a||s%2!==1))break;i+=c,a=c,"\\"===a?s++:s=0}o(JSON.parse('"'+i+'"'),u,d);break;case"[":l={element:[],index:u.length},u.push(l.element),d.push(l);break;case"{":p={element:{},index:u.length},u.push(p.element),d.push(p);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===u.length)return u.pop();o(u.pop(),u,d)}}},function(e,t,r){"use strict";(function(e){function o(e){return e=Object(de.b)(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function n(e,t,r){t=o(t),e.request({method:"POST",url:"_index",body:t},r)}function i(e,t,r){e.request({method:"POST",url:"_find",body:t},r)}function a(e,t,r){e.request({method:"POST",url:"_explain",body:t},r)}function s(e,t){e.request({method:"GET",url:"_index"},t)}function c(e,t,r){var o=t.ddoc,n=t.type||"json",i=t.name;if(!o)return r(new Error("you must provide an index's ddoc"));if(!i)return r(new Error("you must provide an index's name"));var a="_index/"+[o,n,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},r)}function l(e){return function(){for(var t=arguments.length,r=new Array(t),o=-1;++o<t;)r[o]=arguments[o];return e.call(this,r)}}function p(e){return l(function(t){var r=t.pop(),o=e.apply(this,t);return u(o,r),o})}function u(t,r){return t.then(function(t){e.nextTick(function(){r(null,t)})},function(t){e.nextTick(function(){r(t)})}),t}function d(e){for(var t={},r=0,o=e.length;r<o;r++)t=Object(de.a)(t,e[r]);return t}function h(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=Object(me.g)(t[o]),a=Object(me.c)(e,i);"undefined"!==typeof a&&Object(me.h)(r,i,a)}return r}function m(e,t){for(var r=0,o=Math.min(e.length,t.length);r<o;r++)if(e[r]!==t[r])return!1;return!0}function y(e,t){return!(e.length>t.length)&&m(e,t)}function f(e,t){e=e.slice();for(var r=0,o=t.length;r<o;r++){var n=t[r];if(!e.length)break;var i=e.indexOf(n);if(-1===i)return!1;e.splice(i,1)}return!0}function v(e){for(var t={},r=0,o=e.length;r<o;r++)t[e[r]]=!0;return t}function g(e,t){for(var r=null,o=-1,n=0,i=e.length;n<i;n++){var a=e[n],s=t(a);s>o&&(o=s,r=a)}return r}function _(e,t){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]!==t[r])return!1;return!0}function w(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}function b(e,t){return function(r){for(var o=[],n=0,i=e.length;n<i;n++){for(var a=Object(me.g)(e[n]),s=r,c=0,l=a.length;c<l;c++){if(!(s=s[a[c]]))return}o.push(s)}t(o)}}function x(e,t){var r=Object(me.g)(e);return function(e){for(var o=e,n=0,i=r.length;n<i;n++){if(!(o=o[r[n]]))return}t(o)}}function S(e,t){return function(r){t(r[e])}}function k(e,t){return function(r){for(var o=[],n=0,i=e.length;n<i;n++)o.push(r[e[n]]);t(o)}}function P(e){for(var t=0,r=e.length;t<r;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function E(e,t){var r=P(e),o=1===e.length;return r?o?S(e[0],t):k(e,t):o?x(e[0],t):b(e,t)}function C(e,t){return E(Object.keys(e.fields),t)}function A(){throw new Error("reduce not supported")}function T(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function M(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"===typeof e){var t={};return t[e]="asc",t}return e})}function R(e){var t=[];return"string"===typeof e?t.push(e):t=e,t.map(function(e){return e.replace("_design/","")})}function z(e){return e.fields=e.fields.map(function(e){if("string"===typeof e){var t={};return t[e]="asc",t}return e}),e}function O(e,t){for(var r=[],o=0;o<t.def.fields.length;o++){var n=Object(me.d)(t.def.fields[o]);r.push(e[n])}return r}function j(e,t,r){for(var o=r.def.fields,n=0,i=e.length;n<i;n++){var a=e[n],s=O(a.doc,r);if(1===o.length)s=s[0];else for(;s.length>t.length;)s.pop();if(Math.abs(Object(fe.a)(s,t))>0)break}return n>0?e.slice(n):e}function N(e){var t=Object(de.b)(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function F(e){var t=e.fields.filter(function(e){return"asc"===Object(me.e)(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function I(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}function B(e){if("object"!==typeof e.selector)throw new Error("you must provide a selector when you find()")}function D(e,t){var r,o=Object.keys(e),n=t?t.map(me.d):[];return r=o.length>=n.length?o:n,0===n.length?{fields:r}:(r=r.sort(function(e,t){var r=n.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var o=n.indexOf(t);return-1===o&&(o=Number.MAX_VALUE),r<o?-1:r>o?1:0}),{fields:r,sortOrder:t.map(me.d)})}function L(e,t){function r(){return a||(a=Object(ve.a)(JSON.stringify(t)))}function n(e){return e._rev&&"query"!==e.language&&(p=!0),e.language="query",e.views=e.views||{},!(u=!!e.views[s])&&(e.views[s]={map:{fields:d(t.index.fields)},reduce:"_count",options:{def:i}},e)}t=o(t);var i=Object(de.b)(t.index);t.index=z(t.index),F(t.index);var a,s=t.name||"idx-"+r(),c=t.ddoc||"idx-"+r(),l="_design/"+c,p=!1,u=!1;return e.constructor.emit("debug",["find","creating index",l]),Object(de.h)(e,l,n).then(function(){if(p)throw new Error('invalid language for ddoc with id "'+l+'" (should be "query")')}).then(function(){var t=c+"/"+s;return _e.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:l,name:s,result:u?"exists":"created"}})})}function q(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=ge(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:z(r.options.def)}})})),t.indexes.sort(function(e,t){return Object(me.a)(e.name,t.name)}),t.total_rows=t.indexes.length,t})}function U(e,t){for(var r=e.def.fields.map(me.d),o=0,n=r.length;o<n;o++){if(t===r[o])return!0}return!1}function W(e,t){var r=e[t];return"$eq"!==Object(me.d)(r)}function V(e,t){var r=t.def.fields.map(me.d);return e.slice().sort(function(e,t){var o=r.indexOf(e),n=r.indexOf(t);return-1===o&&(o=Number.MAX_VALUE),-1===n&&(n=Number.MAX_VALUE),Object(me.a)(o,n)})}function H(e,t,r){r=V(r,e);for(var o=!1,n=0,i=r.length;n<i;n++){var a=r[n];if(o||!U(e,a))return r.slice(n);n<i-1&&W(t,a)&&(o=!0)}return[]}function G(e){var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Object.keys(o).forEach(function(e){"$ne"===e&&t.push(r)})}),t}function K(e,t,r,o){return V(w(ge(e,H(t,r,o),G(r))),t)}function J(e,t,r){if(t){var o=y(t,e),n=m(r,e);return o&&n}return f(r,e)}function Z(e){return-1===xe.indexOf(e)}function X(e,t){var r=e[0],o=t[r];return"undefined"===typeof o||!!Object.keys(o).some(function(e){return!Z(e)})&&!(1===Object.keys(o).length&&"$ne"===Object(me.d)(o))}function Q(e,t,r,o){var n=e.def.fields.map(me.d);return!!J(n,t,r)&&X(n,o)}function Y(e,t,r,o){return o.reduce(function(o,n){return Q(n,r,t,e)&&o.push(n),o},[])}function $(e,t,r,o,n){function i(e){for(var t=e.def.fields.map(me.d),r=0,o=0,n=t.length;o<n;o++){var i=t[o];c[i]&&r++}return r}var a=Y(e,t,r,o);if(0===a.length){if(n)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=o[0];return s.defaultUsed=!0,s}if(1===a.length&&!n)return a[0];var c=v(t);if(n){var l="_design/"+n[0],p=2===n.length&&n[1],u=a.find(function(e){return!(!p||e.ddoc!==l||p!==e.name)||e.ddoc===l});if(!u)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return u}return g(a,i)}function ee(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function te(e,t){var r,o=Object(me.d)(t.def.fields[0]),n=e[o]||{},i=[],a=Object.keys(n);return a.forEach(function(e){if(Z(e))return void i.push(o);var t=n[e],a=ee(e,t);r=r?d([r,a]):a}),{queryOpts:r,inMemoryFields:i}}function re(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function oe(e,t){function r(e){!1!==o&&s.push(we),!1!==n&&c.push(be),a=i.slice(e)}for(var o,n,i=t.def.fields.map(me.d),a=[],s=[],c=[],l=0,p=i.length;l<p;l++){var u=i[l],h=e[u];if(!h||!Object.keys(h).length){r(l);break}if(l>0){if(Object.keys(h).some(Z)){r(l);break}var m="$gt"in h||"$gte"in h||"$lt"in h||"$lte"in h,y=Object.keys(e[i[l-1]]),f=_(y,["$eq"]),v=_(y,Object.keys(h));if(m&&!f&&!v){r(l);break}}for(var g=Object.keys(h),w=null,b=0;b<g.length;b++){var x=g[b],S=h[x],k=re(x,S);w=w?d([w,k]):k}s.push("startkey"in w?w.startkey:we),c.push("endkey"in w?w.endkey:be),"inclusive_start"in w&&(o=w.inclusive_start),"inclusive_end"in w&&(n=w.inclusive_end)}var P={startkey:s,endkey:c};return"undefined"!==typeof o&&(P.inclusive_start=o),"undefined"!==typeof n&&(P.inclusive_end=n),{queryOpts:P,inMemoryFields:a}}function ne(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function ie(e,t){return t.defaultUsed?ne(e,t):1===t.def.fields.length?te(e,t):oe(e,t)}function ae(e,t){var r=e.selector,o=e.sort,n=D(r,o),i=n.fields,a=n.sortOrder,s=$(r,i,a,t,e.use_index),c=ie(r,s);return{queryOpts:c.queryOpts,index:s,inMemoryFields:K(c.inMemoryFields,s,r,i)}}function se(e){return e.ddoc.substring(8)+"/"+e.name}function ce(e,t){var r=Object(de.b)(t);return r.descending?("endkey"in r&&"string"!==typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!==typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!==typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!==typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!==typeof r.key&&(r.limit=0),e.allDocs(r).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}function le(e,t,r){return t.selector&&(t.selector=Object(me.f)(t.selector)),t.sort&&(t.sort=M(t.sort)),t.use_index&&(t.use_index=R(t.use_index)),B(t),q(e).then(function(o){e.constructor.emit("debug",["find","planning query",t]);var n=ae(t,o.indexes);e.constructor.emit("debug",["find","query plan",n]);var i=n.index;I(t,i);var a=Object(de.a)({include_docs:!0,reduce:!1},n.queryOpts);return"startkey"in a&&"endkey"in a&&Object(fe.a)(a.startkey,a.endkey)>0?{docs:[]}:(t.sort&&"string"!==typeof t.sort[0]&&"desc"===Object(me.e)(t.sort[0])&&(a.descending=!0,a=N(a)),n.inMemoryFields.length||("limit"in t&&(a.limit=t.limit),"skip"in t&&(a.skip=t.skip)),r?he.a.resolve(n,a):he.a.resolve().then(function(){if("_all_docs"===i.name)return ce(e,a);var t=se(i);return _e.query.call(e,t,a)}).then(function(e){!1===a.inclusive_start&&(e.rows=j(e.rows,a.startkey,i)),n.inMemoryFields.length&&(e.rows=Object(me.b)(e.rows,t,n.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?h(r,t.fields):r})};return i.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}function pe(e,t){return le(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}function ue(e,t){function r(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:o,_deleted:!0}:(delete e.views[n],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var o=t.ddoc,n=t.name;return Object(de.h)(e,o,r).then(function(){return _e.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var de=r(17),he=r(33),me=r(215),ye=r(216),fe=r(35),ve=r(78),ge=l(function(e){for(var t=[],r=0,o=e.length;r<o;r++){var n=e[r];Array.isArray(n)?t=t.concat(ge.apply(null,n)):t.push(n)}return t}),_e=Object(ye.a)("indexes",C,A,T),we=null,be={"\uffff":{}},xe=["$eq","$gt","$gte","$lt","$lte"],Se=p(L),ke=p(le),Pe=p(pe),Ee=p(q),Ce=p(ue),Ae={};Ae.createIndex=Object(de.g)(function(e,t){if("object"!==typeof e)return t(new Error("you must provide an index to create"));(Object(de.e)(this)?n:Se)(this,e,t)}),Ae.find=Object(de.g)(function(e,t){if("undefined"===typeof t&&(t=e,e=void 0),"object"!==typeof e)return t(new Error("you must provide search parameters to find()"));(Object(de.e)(this)?i:ke)(this,e,t)}),Ae.explain=Object(de.g)(function(e,t){if("undefined"===typeof t&&(t=e,e=void 0),"object"!==typeof e)return t(new Error("you must provide search parameters to explain()"));(Object(de.e)(this)?a:Pe)(this,e,t)}),Ae.getIndexes=Object(de.g)(function(e){(Object(de.e)(this)?s:Ee)(this,e)}),Ae.deleteIndex=Object(de.g)(function(e,t){if("object"!==typeof e)return t(new Error("you must provide an index to delete"));(Object(de.e)(this)?c:Ce)(this,e,t)}),t.a=Ae}).call(t,r(21))},function(e,t,r){"use strict";function o(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}function n(e,t){function r(t){for(var r in e)"function"!==typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=o.prototype,new r(t)}r.d(t,"b",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"a",function(){return l}),r.d(t,"e",function(){return n});var i=r(16);r.n(i)()(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var a=(new o(401,"unauthorized","Name or password is incorrect."),new o(400,"bad_request","Missing JSON list of 'docs'"),new o(404,"not_found","missing"),new o(409,"conflict","Document update conflict"),new o(400,"bad_request","_id field must contain a string")),s=new o(412,"missing_id","_id is required for puts"),c=new o(400,"bad_request","Only reserved document ids may start with underscore."),l=(new o(412,"precondition_failed","Database not open"),new o(500,"unknown_error","Database encountered an unknown error"),new o(500,"badarg","Some query argument is invalid"),new o(400,"invalid_request","Request was invalid"),new o(400,"query_parse_error","Some query parameter is invalid"),new o(500,"doc_validation","Bad special document member"),new o(400,"bad_request","Something wrong with the request"));new o(400,"bad_request","Document must be a JSON object"),new o(404,"not_found","Database not found"),new o(500,"indexed_db_went_bad","unknown"),new o(500,"web_sql_went_bad","unknown"),new o(500,"levelDB_went_went_bad","unknown"),new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),new o(400,"bad_request","Invalid rev format"),new o(412,"file_exists","The database could not be created, the file already exists."),new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),new o(413,"invalid_url","Provided URL is invalid")},function(e,t,r){"use strict";function o(e,t){for(var r=e,o=0,n=t.length;o<n;o++){if(!(r=r[t[o]]))break}return r}function n(e,t,r){for(var o=0,n=t.length;o<n-1;o++){e=e[t[o]]={}}e[t[n-1]]=r}function i(e,t){return e<t?-1:e>t?1:0}function a(e){for(var t=[],r="",o=0,n=e.length;o<n;o++){var i=e[o];"."===i?o>0&&"\\"===e[o-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}function s(e){return z.indexOf(e)>-1}function c(e){return Object.keys(e)[0]}function l(e){return e[c(e)]}function p(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var o=e[r];if("object"!==typeof o&&(o={$eq:o}),s(r))o instanceof Array?t[r]=o.map(function(e){return p([e])}):t[r]=p([o]);else{var n=t[r]=t[r]||{};Object.keys(o).forEach(function(e){var t=o[e];return"$gt"===e||"$gte"===e?u(e,t,n):"$lt"===e||"$lte"===e?d(e,t,n):"$ne"===e?h(t,n):"$eq"===e?m(t,n):void(n[e]=t)})}})}),t}function u(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!==typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function d(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!==typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function h(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function m(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function y(e){var t=Object(M.b)(e),r=!1;"$and"in t&&(t=p(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var o=t[r],n=e[o];"object"===typeof n&&null!==n||(e[o]={$eq:n})}})}),"$not"in t&&(t.$not=p([t.$not]));for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n],a=t[i];"object"!==typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[i]=a}return t}function f(e){function t(t){return e.map(function(e){var r=c(e),n=a(r);return o(t,n)})}return function(e,r){var o=t(e.doc),n=t(r.doc),a=Object(R.a)(o,n);return 0!==a?a:i(e.doc._id,r.doc._id)}}function v(e,t,r){if(e=e.filter(function(e){return g(e.doc,t.selector,r)}),t.sort){var o=f(t.sort);e=e.sort(o),"string"!==typeof t.sort[0]&&"desc"===l(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var n=t.skip||0,i=("limit"in t?t.limit:e.length)+n;e=e.slice(n,i)}return e}function g(e,t,r){return r.every(function(r){var n=t[r],i=a(r),c=o(e,i);return s(r)?w(r,n,e):_(n,e,i,c)})}function _(e,t,r,o){return!e||Object.keys(e).every(function(n){var i=e[n];return b(n,t,i,r,o)})}function w(e,t,r){return"$or"===e?t.some(function(e){return g(r,e,Object.keys(e))}):"$not"===e?!g(r,t,Object.keys(t)):!t.find(function(e){return g(r,e,Object.keys(e))})}function b(e,t,r,o,n){if(!O[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return O[e](t,r,o,n)}function x(e){return"undefined"!==typeof e&&null!==e}function S(e){return"undefined"!==typeof e}function k(e,t){var r=t[0],o=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(o,10)!==o)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===o}function P(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function E(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function C(e,t){return e.length===t}function A(e,t){return new RegExp(t).test(e)}function T(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"===typeof e;case"number":return"number"===typeof e;case"string":return"string"===typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}r.d(t,"f",function(){return y}),r.d(t,"b",function(){return v}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"c",function(){return o}),r.d(t,"h",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"g",function(){return a});var M=r(17),R=r(35),z=["$or","$nor","$not"],O={$elemMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.some(function(e){return g(e,t,Object.keys(t))}):o.some(function(o){return _(t,e,r,o)})))},$allMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.every(function(e){return g(e,t,Object.keys(t))}):o.every(function(o){return _(t,e,r,o)})))},$eq:function(e,t,r,o){return S(o)&&0===Object(R.a)(o,t)},$gte:function(e,t,r,o){return S(o)&&Object(R.a)(o,t)>=0},$gt:function(e,t,r,o){return S(o)&&Object(R.a)(o,t)>0},$lte:function(e,t,r,o){return S(o)&&Object(R.a)(o,t)<=0},$lt:function(e,t,r,o){return S(o)&&Object(R.a)(o,t)<0},$exists:function(e,t,r,o){return t?S(o):!S(o)},$mod:function(e,t,r,o){return x(o)&&k(o,t)},$ne:function(e,t,r,o){return t.every(function(e){return 0!==Object(R.a)(o,e)})},$in:function(e,t,r,o){return x(o)&&P(o,t)},$nin:function(e,t,r,o){return x(o)&&!P(o,t)},$size:function(e,t,r,o){return x(o)&&C(o,t)},$all:function(e,t,r,o){return Array.isArray(o)&&E(o,t)},$regex:function(e,t,r,o){return x(o)&&A(o,t)},$type:function(e,t,r,o){return T(o,t)}}},function(e,t,r){"use strict";function o(){this.promise=new u.a(function(e){e()})}function n(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function i(e,t){return n(e)+n(t)+"undefined"}function a(e,t,r,o,n,a){var s,c=i(r,o);if(!n&&(s=e._cachedViews=e._cachedViews||{},s[c]))return s[c];var l=e.info().then(function(i){function l(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var o=e.views[r]=e.views[r]||{};if(!o[p])return o[p]=!0,e}var p=i.db_name+"-mrview-"+(n?"temp":Object(f.a)(c));return Object(h.h)(e,"_local/"+a,l).then(function(){return e.registerDependentDatabase(p).then(function(t){var n=t.db;n.auto_compaction=!0;var i={name:p,db:n,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:o};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,s&&i.db.once("destroyed",function(){delete s[c]}),i})})})});return s&&(s[c]=l),l}function s(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function c(e){return 1===e.length&&/^1-/.test(e[0].rev)}function l(e,t){try{e.emit("error",t)}catch(e){Object(h.d)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(h.d)("error",t)}}function p(e,t,r,n){function i(e,t,r){try{t(r)}catch(t){l(e,t)}}function p(e,t,r,o,n){try{return{output:t(r,o,n)}}catch(t){return l(e,t),{error:t}}}function f(e,t){var r=Object(y.a)(e.key,t.key);return 0!==r?r:Object(y.a)(e.value,t.value)}function b(e,t,r){return r=r||0,"number"===typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function x(e){var t=e.value;return t&&"object"===typeof t&&t._id||e.id}function S(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=Object(m.a)(r.data,r.content_type)})})}function k(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&S(t),t}}function P(e,t,r,o){var n=t[e];"undefined"!==typeof n&&(o&&(n=encodeURIComponent(JSON.stringify(n))),r.push(e+"="+n))}function E(e){if("undefined"!==typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function C(e){return e.group_level=E(e.group_level),e.limit=E(e.limit),e.skip=E(e.skip),e}function A(e){if(e){if("number"!==typeof e)return new v.c('Invalid value for integer: "'+e+'"');if(e<0)return new v.c('Invalid value for positive integer: "'+e+'"')}}function T(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!==typeof e[r]&&"undefined"!==typeof e[o]&&Object(y.a)(e[r],e[o])>0)throw new v.c("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new v.c("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new v.c("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=A(e[t]);if(r)throw r})}function M(e,t,r){var o,n=[],i="GET";if(P("reduce",r,n),P("include_docs",r,n),P("attachments",r,n),P("limit",r,n),P("descending",r,n),P("group",r,n),P("group_level",r,n),P("skip",r,n),P("stale",r,n),P("conflicts",r,n),P("startkey",r,n,!0),P("start_key",r,n,!0),P("endkey",r,n,!0),P("end_key",r,n,!0),P("inclusive_end",r,n),P("key",r,n,!0),n=n.join("&"),n=""===n?"":"?"+n,"undefined"!==typeof r.keys){var a="keys="+encodeURIComponent(JSON.stringify(r.keys));a.length+n.length+1<=2e3?n+=("?"===n[0]?"&":"?")+a:(i="POST","string"===typeof t?o={keys:r.keys}:t.keys=r.keys)}if("string"===typeof t){var c=s(t);return e.request({method:i,url:"_design/"+c[0]+"/_view/"+c[1]+n,body:o}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(k(r))}return o=o||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?o[e]=t[e]:o[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+n,body:o}).then(k(r))}function R(e,t,r){return new u.a(function(o,n){e._query(t,r,function(e,t){if(e)return n(e);o(t)})})}function z(e){return new u.a(function(t,r){e._viewCleanup(function(e,o){if(e)return r(e);t(o)})})}function O(e){return function(t){if(404===t.status)return e;throw t}}function j(e,t,r){function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):u.a.resolve({rows:[]})}function n(e,t){for(var r=[],o=new d.b,n=0,i=t.rows.length;n<i;n++){var a=t.rows[n],s=a.doc;if(s&&(r.push(s),o.add(s._id),s._deleted=!l.has(s._id),!s._deleted)){var c=l.get(s._id);"value"in c&&(s.value=c.value)}}var p=Object(v.f)(l);return p.forEach(function(e){if(!o.has(e)){var t={_id:e},n=l.get(e);"value"in n&&(t.value=n.value),r.push(t)}}),e.keys=Object(v.i)(p.concat(e.keys)),r.push(e),r}var i="_local/doc_"+e,a={_id:i,keys:[]},s=r.get(e),l=s[0],p=s[1];return function(){return c(p)?u.a.resolve(a):t.db.get(i).catch(O(a))}().then(function(e){return o(e).then(function(t){return n(e,t)})})}function N(e,t,r){return e.db.get("_local/lastSeq").catch(O({_id:"_local/lastSeq",seq:0})).then(function(o){var n=Object(v.f)(t);return u.a.all(n.map(function(r){return j(r,e,t)})).then(function(t){var n=Object(h.c)(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function F(e){var t="string"===typeof e?e:e.name,r=g[t];return r||(r=g[t]=new o),r}function I(e){return Object(v.h)(F(e),function(){return B(e)})()}function B(e){function r(e,t){var r={id:u._id,key:Object(y.b)(e)};"undefined"!==typeof t&&null!==t&&(r.value=Object(y.b)(t)),p.push(r)}function n(t,r){return function(){return N(e,t,r)}}function a(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:m,limit:w}).then(s)}function s(e){var t=e.results;if(t.length){var r=c(t);if(v.add(n(r,m)),!(t.length<w))return a()}}function c(t){for(var r=new d.a,o=0,n=t.length;o<n;o++){var a=t[o];if("_"!==a.doc._id[0]){p=[],u=a.doc,u._deleted||i(e.sourceDB,h,u),p.sort(f);var s=l(p);r.set(a.doc._id,[s,a.changes])}m=a.seq}return r}function l(e){for(var t,r=new d.a,o=0,n=e.length;o<n;o++){var i=e[o],a=[i.key,i.id];o>0&&0===Object(y.a)(i.key,t)&&a.push(o),r.set(Object(y.d)(a),i),t=i.key}return r}var p,u,h=t(e.mapFun,r),m=e.seq||0,v=new o;return a().then(function(){return v.finish()}).then(function(){e.seq=m})}function D(e,t,o){0===o.group_level&&delete o.group_level;var n=o.group||o.group_level,i=r(e.reduceFun),a=[],s=isNaN(o.group_level)?Number.POSITIVE_INFINITY:o.group_level;t.forEach(function(e){var t=a[a.length-1],r=n?e.key:null;if(n&&Array.isArray(r)&&(r=r.slice(0,s)),t&&0===Object(y.a)(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var c=0,l=a.length;c<l;c++){var u=a[c],d=p(e.sourceDB,i,u.keys,u.values,!1);if(d.error&&d.error instanceof v.a)throw d.error;t.push({value:d.error?null:d.output,key:u.groupKey})}return{rows:b(t,o.limit,o.skip)}}function L(e,t){return Object(v.h)(F(e),function(){return q(e,t)})()}function q(e,t){function r(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var o=Object(y.c)(e.doc._id);return{key:o[0],id:o[1],value:"value"in e.doc?e.doc.value:null}})})}function o(r){var o;if(o=i?D(e,r,t):{total_rows:n,offset:a,rows:r},t.include_docs){var s=Object(v.i)(r.map(x));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new d.a;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),r.forEach(function(e){var r=x(e),o=t.get(r);o&&(e.doc=o)}),o})}return o}var n,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if("undefined"===typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!==typeof t.keys){var s=t.keys,c=s.map(function(e){return r({startkey:Object(y.d)([e]),endkey:Object(y.d)([e,{}])})});return u.a.all(c).then(h.c).then(o)}var l,p,m={descending:t.descending};if("start_key"in t&&(l=t.start_key),"startkey"in t&&(l=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),"undefined"!==typeof l&&(m.startkey=t.descending?Object(y.d)([l,{}]):Object(y.d)([l])),"undefined"!==typeof p){var f=!1!==t.inclusive_end;t.descending&&(f=!f),m.endkey=Object(y.d)(f?[p,{}]:[p])}if("undefined"!==typeof t.key){var g=Object(y.d)([t.key]),_=Object(y.d)([t.key,{}]);m.descending?(m.endkey=g,m.startkey=_):(m.startkey=g,m.endkey=_)}return i||("number"===typeof t.limit&&(m.limit=t.limit),m.skip=a),r(m).then(o)}function U(e){return e.request({method:"POST",url:"_view_cleanup"})}function W(t){return t.get("_local/"+e).then(function(e){var r=new d.a;Object.keys(e.views).forEach(function(e){var t=s(e),o="_design/"+t[0],n=t[1],i=r.get(o);i||(i=new d.b,r.set(o,i)),i.add(n)});var o={keys:Object(v.f)(r),include_docs:!0};return t.allDocs(o).then(function(o){var n={};o.rows.forEach(function(t){var o=t.key.substring(8);r.get(t.key).forEach(function(r){var i=o+"/"+r;e.views[i]||(i=r);var a=Object.keys(e.views[i]),s=t.doc&&t.doc.views&&t.doc.views[r];a.forEach(function(e){n[e]=n[e]||s})})});var i=Object.keys(n).filter(function(e){return!n[e]}),a=i.map(function(e){return Object(v.h)(F(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return u.a.all(a).then(function(){return{ok:!0}})})},O({ok:!0}))}function V(t,r,o){if("function"===typeof t._query)return R(t,r,o);if(Object(h.e)(t))return M(t,r,o);if("string"!==typeof r)return T(o,r),_.add(function(){return a(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return Object(v.e)(I(e).then(function(){return L(e,o)}),function(){return e.db.destroy()})})}),_.finish();var i=r,c=s(i),l=c[0],p=c[1];return t.get("_design/"+l).then(function(r){var s=r.views&&r.views[p];if(!s)throw new v.b("ddoc "+r._id+" has no view named "+p);return n(r,p),T(o,s),a(t,i,s.map,s.reduce,!1,e).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&Object(h.f)(function(){I(e)}),L(e,o)):I(e).then(function(){return L(e,o)})})})}function H(e,t,r){var o=this;"function"===typeof t&&(r=t,t={}),t=t?C(t):{},"function"===typeof e&&(e={map:e});var n=u.a.resolve().then(function(){return V(o,e,t)});return Object(v.g)(n,r),n}return{query:H,viewCleanup:Object(v.d)(function(){var e=this;return"function"===typeof e._viewCleanup?z(e):Object(h.e)(e)?U(e):W(e)})}}var u=r(33),d=r(34),h=r(17),m=r(77),y=r(35),f=r(78),v=r(217);o.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},o.prototype.finish=function(){return this.promise};var g={},_=new o,w=50;t.a=p},function(e,t,r){"use strict";function o(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function n(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,n)}catch(e){}}function i(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i)}catch(e){}}function a(e,t){return t&&e.then(function(e){Object(y.f)(function(){t(null,e)})},function(e){Object(y.f)(function(){t(e)})}),e}function s(e){return m()(function(t){var r=t.pop(),o=e.apply(this,t);return"function"===typeof r&&a(o,r),o})}function c(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function l(e,t){return function(){var r=arguments,o=this;return e.add(function(){return t.apply(o,r)})}}function p(e){var t=new d.b(e),r=new Array(t.size),o=-1;return t.forEach(function(e){r[++o]=e}),r}function u(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,o){t[++r]=o}),t}r.d(t,"i",function(){return p}),r.d(t,"h",function(){return l}),r.d(t,"e",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"g",function(){return a}),r.d(t,"f",function(){return u}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var d=r(34),h=r(32),m=r.n(h),y=r(17),f=r(16),v=r.n(f);v()(o,Error),v()(n,Error),v()(i,Error)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=function(){function e(t,r){o(this,e);var n=void 0;n="https:"===window.location.protocol?"wss:":"ws:",n+="//"+window.location.host,n+=t,this.websocketServerUri=n,this.websocketConnected=!1,this.onWebsocketMessage=r}return n(e,[{key:"connectWebsocket",value:function(){var e=this;this.websocketConnected?console.log("Websocket already connected..."):(console.log("Trying to connect to websocket @ "+this.websocketServerUri+"..."),this.websocketConnected=!0,this.websocket=new WebSocket(this.websocketServerUri),this.websocket.onopen=function(){e.websocketConnected=!0,console.log("Socket opened")},this.websocket.onclose=function(){console.log("Socket closed"),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onerror=function(t){console.log("Socket error",t),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onmessage=function(t){try{e.onWebsocketMessage(JSON.parse(t.data))}catch(e){console.log(e)}})}},{key:"startWebsocket",value:function(){var e=this;try{this.connectWebsocket()}catch(t){setTimeout(function(){e.startWebsocket()},5e3)}}}]),e}();t.a=i},function(e,t,r){"use strict";function o(e,t){console.log("handleKinTransMessage"),console.log(e);var r=e.response.toLowerCase(),o=!1,a=!0,c=!1,l=void 0;try{for(var p,u=s.a[Symbol.iterator]();!(a=(p=u.next()).done);a=!0){var d=p.value;if(d.number===r){t.getState().destinationStopName||t.dispatch(Object(n.y)(d.name)),o=!0;break}}}catch(e){c=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(c)throw l}}o||"yes"==r&&(t.getState().poiDirections&&t.getState().activePersona&&Object(i.a)(t.getState().poiDirections,t.getState().activePersona),o=!0)}t.a=o;var n=r(0),i=r(80),a=r(82),s=r.n(a)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{kinTransInUse:e.kinTransInUse,activePersona:e.activePersona,activePersonaTypes:e.activePersonaTypes}}function s(e){return Object(u.a)({setDestination:d.y},e)}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=r(30),m=r(221),y=r(224),f=r(227),v=r(238),g=r(242),_=r(243),w=r(244),b=(r(246),r(88)),x=r.n(b),S=r(73),k=r.n(S),P=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),E="http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",C=parseInt("3",10)||0,A=(parseInt("0",10),parseInt("1000",10),function(e){function t(){o(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.db=new h.a(E,{}),e}return i(t,e),P(t,[{key:"playAudio",value:function(e,t){var r={_id:t+":"+k()(),event:t,payload:{type:"audio",text:e,audio_zone:"olli-stop",accept:"audio/mp3",tag:t,local:t+".m4a",audio_params:{text:e,accept:"audio/mp3"},filename:t+".mp3"}};this.db.put(r).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"componentWillReceiveProps",value:function(e){if(e.activePersona&&e.activePersona!==this.props.activePersona&&e.activePersona.blind){var t="Welcome";t+=", "+e.activePersona.name,t+=". Say the stop number for your destination.";this.playAudio(t,"audio_olli_stop_welcome")}}},{key:"render",value:function(){var e=x.a.features[C];return this.props.activePersona?l.a.createElement("div",{className:"cssgrid"},l.a.createElement(g.a,null),l.a.createElement(w.a,{stop:e}),l.a.createElement("div",{id:"col1"},l.a.createElement(f.a,null),l.a.createElement(y.a,null)),l.a.createElement("div",{id:"col2"},l.a.createElement(m.a,null),l.a.createElement("div",{className:"mapboxgl-map-normal"},l.a.createElement(v.a,{stop:this.props.stop}))),l.a.createElement(_.a,null),l.a.createElement("div",{id:"bottom-blank",style:{backgroundColor:"#FFFFFF"}})):l.a.createElement("div",{className:"cssgrid"},l.a.createElement(g.a,null),l.a.createElement(w.a,{stop:e}),l.a.createElement("div",{className:"mapboxgl-map-full"},l.a.createElement(v.a,{stop:this.props.stop})),l.a.createElement("div",{id:"bottom-blank"}))}}]),t}(c.Component));t.a=Object(p.b)(a,s)(A)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{activePersona:e.activePersona}}function s(e){return Object(u.a)({},e)}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(222),h=r(223),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),y="wss://ollisim.mybluemix.net",f=Object({NODE_ENV:"production",PUBLIC_URL:"/olli-stop",REACT_APP_MONITOR:"monitor1",REACT_APP_REMOTE_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_TELEMETRY_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_EVENT_DB:"http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",REACT_APP_REMOTE_PERSONA_DB:"http://rajsingh:genjisan@127.0.0.1:5984/persona_transitions",REACT_APP_OLLI_STOP_IDX:"3",REACT_APP_OLLI_BLIND_STOP_IDX:"0",REACT_APP_OLLI_BLIND_STOP_DELAY:"1000",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_TEXT_PERSONA_IF_SET:"false",REACT_APP_TEXT_PHONE_NUMBER:"617-299-1557"}).REACT_APP_WEATHER_URL||(y?y.replace("ws","http")+"/weather/{lat}/{lon}":""),v=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),m(t,[{key:"render",value:function(){var e=this.props.activePersona?"clock-weather":"clock-weather-hidden";return l.a.createElement("div",{className:e},l.a.createElement(d.a,null),l.a.createElement(h.a,{serviceurl:f,refreshrate:30}))}}]),t}(c.Component);t.a=Object(p.b)(a,s)(v)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={date:new Date},r}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return s.a.createElement("h2",null,s.a.createElement("span",{className:"clock"},this.state.date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),s=r.n(a),c=r(9),l=r.n(c),p=r(79),u=r.n(p),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),h=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.timer=null,r.ts=null,r.state={temp:"--",phrase:"--",feel:"--",humidity:"--",uv:"--",time:"--",icon:"na",lat:u.a.features[0].geometry.coordinates[0][1],lon:u.a.features[0].geometry.coordinates[0][0]},r}return i(t,e),d(t,[{key:"updateTime",value:function(){var e=(new Date).getTime(),t=Math.round((e-(this.ts?this.ts:e))/6e4);this.setState({time:t})}},{key:"getWeather",value:function(){var e=this,t=(new Date).getTime(),r=Math.round((t-(this.ts?this.ts:t))/6e4);if(r>0&&r<this.props.refreshrate)this.setState({time:r});else{var o=this.props.serviceurl.replace("{lat}",this.state.lat).replace("{lon}",this.state.lon);l.a.get(o).then(function(t){var r=t.data.observation;console.log("weather api response:",r),e.ts=(new Date).getTime(),e.setState({temp:r.temp,phrase:r.wx_phrase,feel:r.feels_like,humidity:r.rh,uv:r.uv_desc,time:0,icon:r.wx_icon<10?"0"+r.wx_icon:r.wx_icon})}).catch(function(e){console.error("weather api error:",e)})}}},{key:"componentDidMount",value:function(){var e=this;this.props.serviceurl&&(console.log("this.props.serviceurl: "+this.props.serviceurl),this.getWeather(),this.timer=setInterval(function(){return e.getWeather()},6e5))}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){return s.a.createElement("div",{className:"weather"},s.a.createElement("div",{className:"forecast"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",{className:"weather-line-1"},s.a.createElement("td",{rowSpan:"5",style:{width:"84px"}},s.a.createElement("img",{src:"img/weather/"+this.state.icon+".png",alt:"weather icon"})),s.a.createElement("td",null,this.state.phrase),s.a.createElement("td",null,this.state.temp,"\xb0 F")),s.a.createElement("tr",{className:"weather-line-2"},s.a.createElement("td",null,"Feels like"),s.a.createElement("td",null,this.state.feel,"\xb0")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"Humidity"),s.a.createElement("td",null,this.state.humidity,"%")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"UV risk"),s.a.createElement("td",null,this.state.uv,"%")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"Updated"),s.a.createElement("td",null,this.state.time," min ago"))))))}}]),t}(a.Component);h.defaultProps={refreshrate:10},t.a=h},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Object(u.a)({selectPOI:d.x,deselectPOI:d.t,setPOIDirections:d.E},e)}function s(e){return{destinationStopName:e.destinationStopName,activePersona:e.activePersona,activePersonaTypes:e.activePersonaTypes,message:e.mapMsg,pois:e.pois,selectedPOIs:e.selectedPOIs,poiDirections:e.poiDirections}}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=r(225),m=r(226),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),f=function(e){function t(){o(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={loadingdirections:!1,directions:[]},e}return i(t,e),y(t,[{key:"onDirectionsClick",value:function(){var e=this;Object(h.a)(this.props.selectedPOIs).then(function(t){console.log(t),e.props.setPOIDirections(t)})}},{key:"onPOIClick",value:function(e){e.selected?this.props.deselectPOI(e):this.props.selectPOI(e)}},{key:"render",value:function(){var e=this,t=this.props.activePersonaTypes.cognitive,r=(this.props.activePersonaTypes.cognitive&&!this.props.activePersonaTypes.deaf&&!this.props.activePersonaTypes.blind&&this.props.activePersonaTypes.wheelchair,"info-subtitle"),o="Select a stop on the map",n="";t&&(r+=" info-subtitle-larger"),t||(o+=" or the stop icons below the map"),this.props.activePersonaTypes.deaf&&(o+=" or sign a stop number: ",n=l.a.createElement("div",null,l.a.createElement("h2",null,"[1] Mayo Gonda"),l.a.createElement("h2",null,"[2] Peace Plaza"),l.a.createElement("h2",null,"[3] Restaurant District"),l.a.createElement("h2",null,"[5] Mayo Guggenheim")));var i=this.props.activePersona?"info-win":"info-win-hidden",a=[],s="Welcome";if(!this.props.destinationStopName){this.props.activePersona&&(s+=", "+this.props.activePersona.name),s+=".";var c=l.a.createElement("div",null,l.a.createElement("h1",null,s,l.a.createElement("br",null),"Where would you like to go?"),l.a.createElement("h2",{className:r},o),l.a.createElement("div",{className:"info-stop-list"},n));return l.a.createElement("div",{className:i},c)}a.push(l.a.createElement("div",{key:a.length},l.a.createElement("h2",{className:"info-subtitle"},"Destination:"),l.a.createElement("h1",{className:"destination"},this.props.destinationStopName)));var p=null,u=null;if(this.props.pois){var d=!1;a.push(l.a.createElement("h2",{key:a.length,className:"info-subtitle"},"I've found some places you may want to visit near your stop. Select some to add to your trip.")),a.push(l.a.createElement("br",{key:a.length}));for(var h=[],y=0;y<this.props.pois.length;y++)y<5&&h.push(this.props.pois[y]);if(p=h.map(function(t,r){var o="deselected";t.selected&&(o="selected",d=!0);var n="poi-pill "+o;return l.a.createElement("button",{key:r,className:n,name:t.name,onClick:function(r){return e.onPOIClick(t)}},t.name)}),d){var f=[l.a.createElement("span",{key:this.props.destinationStopName},this.props.destinationStopName)];f.push(this.props.pois.map(function(e,t){return e.selected?l.a.createElement("span",{key:e.id}," => ",e.name):null})),u=l.a.createElement("div",{className:"trigger-directions"},l.a.createElement("h2",{className:"info-subtitle"},"Trip:"),l.a.createElement("h3",null,f),l.a.createElement("button",{key:"directionsbutton",className:"directions-button",onClick:function(t){return e.onDirectionsClick()}},"Get trip directions >>"))}}else a.push(l.a.createElement("h2",{key:a.length,className:"info-subtitle",style:{textDecoration:"blink"}},"Searching for relevant additional points of interest..."));return this.props.poiDirections&&this.props.poiDirections.legs.length>0?l.a.createElement("div",{className:i},l.a.createElement(m.a,null)):l.a.createElement("div",{className:i},a,p,u)}}]),t}(c.Component);t.a=Object(p.b)(s,a)(f)},function(e,t,r){"use strict";var o=r(9),n=r.n(o),i=[-92.467148454828,44.022351687354],a=n.a.create({baseURL:"https://api.mapbox.com/directions/v5/mapbox/driving"});t.a=function(e){var t="/"+i[0]+","+i[1];return e.forEach(function(e){t+=";"+e.coordinates.longitude+","+e.coordinates.latitude}),t+="?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA&overview=false&steps=true&annotations=distance",a.get(t).then(function(t){var r=-1;return{legs:t.data.routes[0].legs.map(function(t){return{poi:e[++r],steps:t.steps.map(function(e){return{instruction:e.maneuver.instruction,modifier:e.maneuver.modifier,distance:e.distance}})}})}})}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{activePersona:e.activePersona,poiDirections:e.poiDirections}}function s(e){return Object(u.a)({},e)}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(80),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),m=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={directionsSent:!1},r}return i(t,e),h(t,[{key:"text",value:function(){Object(d.a)(this.props.poiDirections,this.props.activePersona),this.setState({directionsSent:!0})}},{key:"render",value:function(){var e=this,t=[];this.props.poiDirections&&(t=this.props.poiDirections.legs.map(function(e){var t=e.steps.map(function(e){var t="directions-icon";return e.modifier&&(t+=" directions-icon-"+e.modifier),l.a.createElement("li",{className:"mapbox-directions-step"},l.a.createElement("span",{className:t}),l.a.createElement("div",{className:"mapbox-directions-step-maneuver"},e.instruction),l.a.createElement("div",{className:"mapbox-directions-step-distance"},e.distance,"m"))});return l.a.createElement("div",null,l.a.createElement("div",{className:"mapbox-directions-component mapbox-directions-route-summary mapbox-directions-multiple"},l.a.createElement("h1",null,e.poi.name)),l.a.createElement("ol",{className:"mapbox-directions-steps"},t))}));var r=l.a.createElement("td",null,l.a.createElement("button",{className:"text-directions-button",onClick:function(t){return e.text()}},l.a.createElement("img",{src:"./img/iphone.png"}),"Send to Phone"));return this.state.directionsSent&&(r=l.a.createElement("td",null,l.a.createElement("h2",null,"Directions sent to your phone!"))),l.a.createElement("div",{className:"directions"},l.a.createElement("table",{style:{width:"100%"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"right"}},"directions provided by ",l.a.createElement("img",{className:"mapbox-logo",src:"./img/mapbox-logo-color.svg"})," ")),l.a.createElement("tr",null,r))),l.a.createElement("div",{className:"directions-control directions-control-directions"},l.a.createElement("div",{className:"mapbox-directions-instructions"},l.a.createElement("div",{className:"mapbox-directions-instructions-wrapper"},t))))}}]),t}(c.Component);t.a=Object(p.b)(a,s)(m)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{activePersona:e.activePersona,poiDirections:e.poiDirections}}function s(e){return Object(u.a)({setAvatarMessage:d.z},e)}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=r(83),m=r.n(h),y=r(232),f=(r.n(y),function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}()),v=function(e){function t(){o(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unityLoaded=!1,e.unityLoading=!1,e.state={currentKinTransMessage:"",currentText:""},e}return i(t,e),f(t,[{key:"onUnityProgress",value:function(e){var t=this;this.unityLoaded||this.unityLoading||1===e&&(this.unityLoading=!0,Object(y.setTimeout)(function(){t.unityLoaded=!0,t.state.currentKinTransMessage.length>0&&t.setAvatarMessage(t.state.currentKinTransMessage,t.state.currentText)},2e3))}},{key:"setAvatarMessage",value:function(e,t){if(this.setState({currentKinTransMessage:e}),this.setState({currentText:t}),this.unityLoaded)try{console.log("Sending kintrans message: "+e),Object(h.SendMessage)("OlliCommunication","startSimulationMessage",e)}catch(e){console.log(e)}}},{key:"getWelcomeTextMessage",value:function(){return"Hello, Welcome to Olli!"}},{key:"getWelcomeKinTransMessage",value:function(){return"welcome"}},{key:"getSelectStopKinTransMessage",value:function(){return"sign number"}},{key:"getSelectStopTextMessage",value:function(){return"Please select your destination by signing a stop number"}},{key:"getTextDirectionsKinTransMessage",value:function(){return"directions phone"}},{key:"getTextDirectionsTextMessage",value:function(){return"Would you like directions sent to your phone?"}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.activePersona&&e.activePersona!==this.props.activePersona&&(this.setAvatarMessage(this.getWelcomeTextMessage(),this.getWelcomeTextMessage()),Object(y.setTimeout)(function(){t.setAvatarMessage(t.getSelectStopKinTransMessage(),t.getSelectStopTextMessage()),Object(y.setTimeout)(function(){t.setState({currentText:""})},1e4)},8e3)),e.poiDirections!==this.props.poiDirections&&e.poiDirections&&e.poiDirections.legs.length>0&&(this.setAvatarMessage(this.getTextDirectionsKinTransMessage(),this.getTextDirectionsTextMessage()),Object(y.setTimeout)(function(){t.setState({currentText:""})},2e4))}},{key:"render",value:function(){var e=this,t=this.props.activePersona?"kintrans":"kintrans-hidden",r=this.props.activePersona?"kintrans-avatar":"kintrans-avatar-hidden",o=this.state.currentText;return l.a.createElement("div",{className:t},l.a.createElement("div",{className:r},l.a.createElement(m.a,{src:"./kintrans/Build/olli.json",loader:"./kintrans/Build/UnityLoader.js",onProgress:function(t){e.onUnityProgress(t)}})),l.a.createElement("div",{className:"kintrans-avatar-text"},l.a.createElement("h3",null,o)))}}]),t}(c.Component);t.a=Object(p.b)(a,s)(v)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=function(){function e(){o(this,e),this.documentHead=document.getElementsByTagName("head")[0],this.unityLoaderScript=null}return n(e,[{key:"append",value:function(e){var t=this;return new Promise(function(r,o){t.unityLoaderScript=document.createElement("script"),t.unityLoaderScript.type="text/javascript",t.unityLoaderScript.async=!0,t.unityLoaderScript.src=e,t.unityLoaderScript.onload=function(){r()},t.documentHead.appendChild(t.unityLoaderScript)})}},{key:"unmount",value:function(){null!==this.unityLoaderScript&&this.documentHead.removeChild(this.unityLoaderScript)}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={unity:{width:"100%",height:"100%"}}},function(e,t,r){"use strict";function o(e,t){window[e]=function(e){t(e)},"undefined"===typeof window.ReactUnityWebGL&&(window.ReactUnityWebGL={}),window.ReactUnityWebGL[e]=function(e){t(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterExternalListener=o},function(e,t,r){"use strict";function o(e,t,r){"undefined"===typeof r&&(r=""),"undefined"!==typeof n.UnityInstance?n.UnityInstance.SendMessage(e,t,r):console.warn("Wait for Unity to be instantiated before sending a message to '"+e+"'")}Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessage=o;var n=r(84)},function(e,t,r){r(233),e.exports=r(36)},function(e,t,r){var o=r(85),n=r(234),i=r(87),a=r(236),s=o.navigator,c=!!s&&/MSIE .\./.test(s.userAgent),l=function(e){return c?function(t,r){return e(i(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),r)}:e};n(n.G+n.B+n.F*c,{setTimeout:l(o.setTimeout),setInterval:l(o.setInterval)})},function(e,t,r){var o=r(85),n=r(36),i=r(235),a=function(e,t,r){var s,c,l,p=e&a.F,u=e&a.G,d=e&a.S,h=e&a.P,m=e&a.B,y=e&a.W,f=u?n:n[t]||(n[t]={}),v=u?o:d?o[t]:(o[t]||{}).prototype;u&&(r=t);for(s in r)(c=!p&&v&&s in v)&&s in f||(l=c?v[s]:r[s],f[s]=u&&"function"!=typeof v[s]?r[s]:m&&c?i(l,o):y&&v[s]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((f.prototype||(f.prototype={}))[s]=l))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t,r){var o=r(86);e.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,n){return e.call(t,r,o,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var o=r(237),n=r(87),i=r(86);e.exports=function(){for(var e=i(this),t=arguments.length,r=Array(t),a=0,s=o._,c=!1;t>a;)(r[a]=arguments[a++])===s&&(c=!0);return function(){var o,i=this,a=arguments,l=a.length,p=0,u=0;if(!c&&!l)return n(e,r,i);if(o=r.slice(),c)for(;t>p;p++)o[p]===s&&(o[p]=a[u++]);for(;l>u;)o.push(a[u++]);return n(e,o,i)}}},function(e,t,r){e.exports=r(36)},function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return Object(y.a)({setMapReady:f.B,setPOIs:f.F,setDestination:f.y},e)}function c(e){return{activePersona:e.activePersona,olliPositions:e.olliPositions,olliRoute:e.olliRoute,olliRouteVisibility:e.olliRouteVisibility,poiCategory:e.poiCategory,destinationStopName:e.destinationStopName,pois:e.pois}}var l=r(1),p=r.n(l),u=r(239),d=r.n(u),h=r(9),m=(r.n(h),r(4)),y=r(3),f=r(0),v=r(240),g=r(88),_=r.n(g),w=r(241),b=r.n(w),x=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();d.a.accessToken="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA";var S=new(window.AudioContext||window.webkitAudioContext||window.audioContext),k=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.poiSearch=new v.a,r.state={destinationStopName:null},r}return a(t,e),x(t,[{key:"beep",value:function(e,t,r,o,n){var i=S.createOscillator(),a=S.createGain();i.connect(a),a.connect(S.destination),r&&(a.gain.value=r),t&&(i.frequency.value=t),o&&(i.type=o),n&&(i.onended=n),i.start(),setTimeout(function(){i.stop()},e||500)}},{key:"converse",value:function(e){return this.poiSearch.searchPOIs(e).catch(function(e){console.log(e)})}},{key:"initPOIs",value:function(e){return e&&e.forEach(function(e){e.selected=!1}),e}},{key:"getRestaurantPOIs",value:function(e){var t=this;return this.converse("show me restaurants near "+e).then(function(e){return t.initPOIs(e)})}},{key:"getPharmacyPOIs",value:function(e){var t=this;return this.converse("show me hospitals near "+e).then(function(e){return t.initPOIs(e)})}},{key:"findStopFeatureByName",value:function(e){for(var t=0;t<_.a.features.length;t++){var r=_.a.features[t];if(r.properties.name.toString().toLowerCase()===e.toLowerCase())return r}return!1}},{key:"clearDestination",value:function(){this.map.setLayoutProperty("olli-destination","visibility","none"),this.props.setPOIs(null)}},{key:"setNewDestination",value:function(e){var t=this,r=this.findStopFeatureByName(e);if(r){var o=this.map.getSource("olli-destination");o._data&&o._data.properties.name===r.properties.name&&this.clearDestination(),this.map.getSource("olli-destination").setData(r);var n=[];this.getRestaurantPOIs(e).then(function(r){return r&&r.length>0&&(n=n.concat(r)),t.getPharmacyPOIs(e)}).then(function(e){e&&e.length>0&&(n=n.concat(e)),t.props.setPOIs(n)})}}},{key:"updateMapBounds",value:function(e){var t=e.reduce(function(e,t){return e.extend(t)},new d.a.LngLatBounds(e[0],e[0]));this.map.fitBounds(t,{padding:100})}},{key:"updateOlliRouteVisibility",value:function(e){this.map.setLayoutProperty("olli-route","visibility",e)}},{key:"calculatePosition",value:function(e,t,r){var o=e[1],n=e[0];return[o+(t[1]-o)*r,n+(t[0]-n)*r].reverse()}},{key:"updateOlliPositionsAoSimNoSmooth",value:function(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value,s=[a.coordinates[0],a.coordinates[1]],c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:s}}]},l="olli-bus-"+a.olliId,p=this.map.getSource(l);p?p.setData(c):this.map.addLayer({id:l,source:{type:"geojson",data:c},type:"symbol",layout:{"icon-image":"olli","icon-size":.75}})}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}}},{key:"updateOlliPositionsAOSim",value:function(e){var t=!1;this.olliPositions||(t=!0,this.olliPositions={},this.olliPositionTimes={});var r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(!s.processed){s.processed=!0;var c=s.olliId,l=[s.coordinates[0],s.coordinates[1]];c in this.olliPositions||(this.olliPositions[c]=[],this.olliPositionTimes[c]=[]),this.olliPositions[c].push(l),this.olliPositionTimes[c].push((new Date).getTime())}}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}t&&requestAnimationFrame(this.animateOlliPositions.bind(this))}},{key:"animateOlliPositions",value:function(e){var t=this;Object.keys(this.olliPositions).forEach(function(r){t.animateOlliPositionsForOlli(r,e)}),requestAnimationFrame(this.animateOlliPositions.bind(this))}},{key:"animateOlliPositionsForOlli",value:function(e,t){if(this.olliPositions[e].length>1){this.olliPositionTimestamps||(this.olliPositionTimestamps={}),e in this.olliPositionTimestamps||(this.olliPositionTimestamps[e]=[],this.olliPositionTimestamps[e].push(t));for(var r=1;r<this.olliPositionTimes[e].length;r++)if(this.olliPositionTimestamps[e].length<r+1){var n=this.olliPositionTimes[e][r]-this.olliPositionTimes[e][r-1];this.olliPositionTimestamps[e].push(this.olliPositionTimestamps[e][r-1]+n)}var i=(t-this.olliPositionTimestamps[e][0])/(this.olliPositionTimestamps[e][1]-this.olliPositionTimestamps[e][0]);if(i>=1)this.olliPositions[e].splice(0,1),this.olliPositionTimes[e].splice(0,1),this.olliPositionTimestamps[e].splice(0,1);else{var a=this.olliPositions[e][0],s=this.olliPositions[e][1],c=a;i>0&&(c=this.calculatePosition(a,s,i));var l={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[]}}]};l.features[0].geometry.coordinates=c;var p="olli-bus-"+e,u=this.map.getSource(p);if(u)u.setData(l);else{var d;this.map.addLayer({id:p,source:{type:"geojson",data:l},type:"symbol",paint:{"text-color":"#046b99","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:(d={"icon-image":"olli","icon-size":.75,"text-field":"olli_1","text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"]},o(d,"text-field",""+e),o(d,"text-size",12),o(d,"text-offset",[0,3]),d)})}}}}},{key:"updateOlliPositionForOlliSim",value:function(e){var t=null;t=e.position?e.position.coordinates:e.coordinates;var r=[t[0],t[1]];this.olliPositions?this.totalOlliPositions++:(this.olliPositions=[],this.olliPositionTimes=[],this.totalOlliPositions=1),2===this.totalOlliPositions&&this.olliPositions[0][0]===r[0]&&this.olliPositions[0][1]===r[1]?(this.totalOlliPositions=1,this.olliPositionTimes[0]=(new Date).getTime()):(this.olliPositions.push(r),this.olliPositionTimes.push((new Date).getTime())),2===this.totalOlliPositions&&requestAnimationFrame(this.animateOlliPosition.bind(this))}},{key:"animateOlliPosition",value:function(e){if(this.olliPositions.length>1){this.olliPositionTimestamps||(this.olliPositionTimestamps=[],this.olliPositionTimestamps.push(e));for(var t=1;t<this.olliPositionTimes.length;t++)if(this.olliPositionTimestamps.length<t+1){var r=this.olliPositionTimes[t]-this.olliPositionTimes[t-1];this.olliPositionTimestamps.push(this.olliPositionTimestamps[t-1]+r)}var o=(e-this.olliPositionTimestamps[0])/(this.olliPositionTimestamps[1]-this.olliPositionTimestamps[0]);if(o>=1)this.olliPositions.splice(0,1),this.olliPositionTimes.splice(0,1),this.olliPositionTimestamps.splice(0,1);else{var n=this.olliPositions[0],i=this.olliPositions[1],a=n;o>0&&(a=this.calculatePosition(n,i,o));var s={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[]}}]};s.features[0].geometry.coordinates=a;var c=this.map.getSource("olli-bus");c?c.setData(s):this.map.addLayer({id:"olli-bus",source:{type:"geojson",data:null},type:"symbol",layout:{"icon-image":"olli","icon-size":.75}})}}requestAnimationFrame(this.animateOlliPosition.bind(this))}},{key:"updatePOIs",value:function(e){e||(e=[]);var t={type:"FeatureCollection",features:[]};e.forEach(function(e){var r={type:"Feature",_id:e.id,properties:{name:e.name,label:[{value:e.name}],image_url:e.image_url},geometry:{type:"Point",coordinates:[e.coordinates.longitude,e.coordinates.latitude]}};t.features.push(r)}),this.map.getSource("olli-pois").setData(t),this.map.setLayoutProperty("olli-pois","visibility","visible")}},{key:"updatePOICategory",value:function(e){var t=this,r=b.a;if(e){var o=[e.toLowerCase()];switch("attractions"===o[0]&&(o=o.concat(["arts","publicservicesgovt"])),r={type:"FeatureCollection",features:[]},b.a.features.forEach(function(e){e.properties.category.forEach(function(t){o.includes(t.term)&&r.features.push(e)},t)},this),e){case"food":this.map.setLayoutProperty("olli-pois","icon-image","restaurant-noun");break;case"health":this.map.setLayoutProperty("olli-pois","icon-image","medical-noun");break;default:this.map.setLayoutProperty("olli-pois","icon-image","circle-15")}}this.map.getSource("olli-pois").setData(r),this.map.setLayoutProperty("olli-pois","visibility","visible")}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.activePersona!==this.props.activePersona){(this.props.activePersona&&!e.activePersona||!this.props.activePersona&&e.activePersona)&&setTimeout(function(){t.map.resize()},1)}if(e.olliRoute!==this.props.olliRoute){var r=e.olliRoute.coordinates.map(function(e){return[e.coordinates[0],e.coordinates[1]]});this.updateMapBounds(r)}e.olliRouteVisibility!==this.props.olliRouteVisibility&&this.updateOlliRouteVisibility(e.olliRouteVisibility),e.olliPosition!==this.props.olliPosition&&this.updateOlliPositionOlliSim(e.olliPosition),e.olliPositions!==this.props.olliPositions&&this.updateOlliPositionsAOSim(e.olliPositions),e.poiCategory!==this.props.poiCategory&&this.updatePOICategory(e.poiCategory),null==e.destinationStopName&&this.clearDestination(),e.destinationStopName&&e.destinationStopName!==this.props.destinationStopName&&this.setNewDestination(e.destinationStopName),e.pois!==this.props.pois&&this.updatePOIs(e.pois)}},{key:"loadImage",value:function(e,t){var r=this;this.map.loadImage("./img/"+e,function(e,o){if(e)throw e;r.map.addImage(t,o)})}},{key:"handleMapClick",value:function(e){this.warningpopup&&this.warningpopup.remove();var t=[[e.point.x-5,e.point.y-5],[e.point.x+5,e.point.y+5]],r=this.map.queryRenderedFeatures(t,{layers:["olli-stops"]}),o=this.map.getSource("olli-destination");if(r.length<1)return this.beep(300,300),void(this.warningpopup=new d.a.Popup({closeButton:!1}).setLngLat([-92.466,44.0214]).setHTML("Please press on a bus stop").addTo(this.map));this.props.destinationStopName&&this.props.destinationStopName===r[0].properties.name?(this.props.setDestination(null),this.map.setLayoutProperty("olli-destination","visibility","none")):(this.props.setDestination(r[0].properties.name),o.setData(r[0]),this.map.setLayoutProperty("olli-destination","visibility","visible"))}},{key:"componentDidMount",value:function(){var e=this;this.map=new d.a.Map({container:"mapContainer",style:"mapbox://styles/mapbox/streets-v9",center:[-92.466,44.0214],zoom:16});for(var t=["olli-icon-svg.png","olli-stop-color.png","noun_1012350_cc.png","noun_854071_cc.png","noun_1015675_cc.png","youarehere.png","yourdest.png","poi_marker.png"],r=["olli","olli-stop","restaurant-noun","medical-noun","museum-noun","youarehere","yourdest","poi-marker"],o=0;o<t.length;o++)this.loadImage(t[o],r[o]);this.map.on("click",this.handleMapClick.bind(this)),this.map.on("load",function(){e.addBasicMapLayers(),e.props.setMapReady(!0),e.map.resize()})}},{key:"addBasicMapLayers",value:function(){var e=this.props.olliRoute;"FeatureCollection"!==e.type&&(e={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.coordinates}}]}),this.map.addLayer({id:"olli-route",type:"line",source:{type:"geojson",data:e},layout:{"line-cap":"round","line-join":"round",visibility:this.props.olliRouteVisibility},paint:{"line-color":"#0087bd","line-width":10,"line-opacity":.4}}),this.map.addLayer({id:"olli-stops-w3w",source:{type:"geojson",data:_.a},type:"symbol",paint:{"text-color":"#444444","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli-stop","icon-optional":!0,"icon-size":.15,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{what3words}","text-size":12,"text-offset":[6,0]}}),this.map.addLayer({id:"olli-stops",source:{type:"geojson",data:_.a},type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli-stop","icon-size":.35,"icon-ignore-placement":!0,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{name}","text-size":14,"text-offset":[0,-2]}}),this.map.addLayer({id:"olli-current-stop",source:{type:"geojson",data:this.props.stop},type:"symbol",layout:{"icon-image":"youarehere","icon-size":.35,"icon-anchor":"top","icon-offset":[-212,0]}}),this.map.addLayer({id:"olli-destination",source:{type:"geojson",data:null},type:"symbol",layout:{"icon-image":"yourdest","icon-size":.35,"icon-anchor":"top","icon-offset":[-212,0]}}),this.map.addLayer({id:"olli-pois",source:{type:"geojson",data:b.a},type:"symbol",paint:{"text-color":"#444444","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1,"icon-halo-color":"#fff","icon-halo-width":4,"icon-halo-blur":1},layout:{visibility:"none","icon-image":"poi-marker","icon-size":.5,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-size":12,"text-offset":[0,2],"text-field":"{name}"}})}},{key:"render",value:function(){return p.a.createElement("div",{id:"mapContainer"})}}]),t}(p.a.Component);t.a=Object(m.b)(c,s)(k)},function(e,t,r){(function(t){var r,r;!function(t){e.exports=t()}(function(){var e;return function e(t,o,n){function i(s,c){if(!o[s]){if(!t[s]){var l="function"==typeof r&&r;if(!c&&l)return r(s,!0);if(a)return a(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return i(r||e)},u,u.exports,e,t,o,n)}return o[s].exports}for(var a="function"==typeof r&&r,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){function o(e){var t,r=0;switch(e.type){case"Polygon":return n(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=n(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)r+=o(e.geometries[t]);return r}}function n(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(i(e[r]))}return t}function i(e){var t,r,o,n,i,c,l,p=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(n=u-2,i=u-1,c=0):l===u-1?(n=u-1,i=0,c=1):(n=l,i=l+1,c=l+2),t=e[n],r=e[i],o=e[c],p+=(a(o[0])-a(t[0]))*Math.sin(a(r[1]));p=p*s.RADIUS*s.RADIUS/2}return p}function a(e){return e*Math.PI/180}var s=e("wgs84");t.exports.geometry=o,t.exports.ring=i},{wgs84:40}],2:[function(t,r,o){!function(t,n){"object"==typeof o&&"undefined"!=typeof r?r.exports=n():"function"==typeof e&&e.amd?e(n):t.glMatrix=n()}(this,function(){"use strict";function e(e,t,r){var o=t[0],n=t[1],i=t[2];return e[0]=o*r[0]+n*r[3]+i*r[6],e[1]=o*r[1]+n*r[4]+i*r[7],e[2]=o*r[2]+n*r[5]+i*r[8],e}function t(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3];return e[0]=r[0]*o+r[4]*n+r[8]*i+r[12]*a,e[1]=r[1]*o+r[5]*n+r[9]*i+r[13]*a,e[2]=r[2]*o+r[6]*n+r[10]*i+r[14]*a,e[3]=r[3]*o+r[7]*n+r[11]*i+r[15]*a,e}function r(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function o(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3],s=Math.sin(r),c=Math.cos(r);return e[0]=o*c+i*s,e[1]=n*c+a*s,e[2]=o*-s+i*c,e[3]=n*-s+a*c,e}function n(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3],s=r[0],c=r[1];return e[0]=o*s,e[1]=n*s,e[2]=i*c,e[3]=a*c,e}function i(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function a(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=o,e[1]=r,e[2]=0,e[3]=-r,e[4]=o,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function s(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){var r=t[0],o=t[1],n=t[2],i=t[3],a=t[4],s=t[5],c=t[6],l=t[7],p=t[8],u=t[9],d=t[10],h=t[11],m=t[12],y=t[13],f=t[14],v=t[15],g=r*s-o*a,_=r*c-n*a,w=r*l-i*a,b=o*c-n*s,x=o*l-i*s,S=n*l-i*c,k=p*y-u*m,P=p*f-d*m,E=p*v-h*m,C=u*f-d*y,A=u*v-h*y,T=d*v-h*f,M=g*T-_*A+w*C+b*E-x*P+S*k;return M?(M=1/M,e[0]=(s*T-c*A+l*C)*M,e[1]=(n*A-o*T-i*C)*M,e[2]=(y*S-f*x+v*b)*M,e[3]=(d*x-u*S-h*b)*M,e[4]=(c*E-a*T-l*P)*M,e[5]=(r*T-n*E+i*P)*M,e[6]=(f*w-m*S-v*_)*M,e[7]=(p*S-d*w+h*_)*M,e[8]=(a*A-s*E+l*k)*M,e[9]=(o*E-r*A-i*k)*M,e[10]=(m*x-y*w+v*g)*M,e[11]=(u*w-p*x-h*g)*M,e[12]=(s*P-a*C-c*k)*M,e[13]=(r*C-o*P+n*k)*M,e[14]=(y*_-m*b-f*g)*M,e[15]=(p*b-u*_+d*g)*M,e):null}function p(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],p=t[7],u=t[8],d=t[9],h=t[10],m=t[11],y=t[12],f=t[13],v=t[14],g=t[15],_=r[0],w=r[1],b=r[2],x=r[3];return e[0]=_*o+w*s+b*u+x*y,e[1]=_*n+w*c+b*d+x*f,e[2]=_*i+w*l+b*h+x*v,e[3]=_*a+w*p+b*m+x*g,_=r[4],w=r[5],b=r[6],x=r[7],e[4]=_*o+w*s+b*u+x*y,e[5]=_*n+w*c+b*d+x*f,e[6]=_*i+w*l+b*h+x*v,e[7]=_*a+w*p+b*m+x*g,_=r[8],w=r[9],b=r[10],x=r[11],e[8]=_*o+w*s+b*u+x*y,e[9]=_*n+w*c+b*d+x*f,e[10]=_*i+w*l+b*h+x*v,e[11]=_*a+w*p+b*m+x*g,_=r[12],w=r[13],b=r[14],x=r[15],e[12]=_*o+w*s+b*u+x*y,e[13]=_*n+w*c+b*d+x*f,e[14]=_*i+w*l+b*h+x*v,e[15]=_*a+w*p+b*m+x*g,e}function u(e,t,r){var o,n,i,a,s,c,l,p,u,d,h,m,y=r[0],f=r[1],v=r[2];return t===e?(e[12]=t[0]*y+t[4]*f+t[8]*v+t[12],e[13]=t[1]*y+t[5]*f+t[9]*v+t[13],e[14]=t[2]*y+t[6]*f+t[10]*v+t[14],e[15]=t[3]*y+t[7]*f+t[11]*v+t[15]):(o=t[0],n=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],p=t[7],u=t[8],d=t[9],h=t[10],m=t[11],e[0]=o,e[1]=n,e[2]=i,e[3]=a,e[4]=s,e[5]=c,e[6]=l,e[7]=p,e[8]=u,e[9]=d,e[10]=h,e[11]=m,e[12]=o*y+s*f+u*v+t[12],e[13]=n*y+c*f+d*v+t[13],e[14]=i*y+l*f+h*v+t[14],e[15]=a*y+p*f+m*v+t[15]),e}function d(e,t,r){var o=r[0],n=r[1],i=r[2];return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function h(e,t,r){var o=Math.sin(r),n=Math.cos(r),i=t[4],a=t[5],s=t[6],c=t[7],l=t[8],p=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*n+l*o,e[5]=a*n+p*o,e[6]=s*n+u*o,e[7]=c*n+d*o,e[8]=l*n-i*o,e[9]=p*n-a*o,e[10]=u*n-s*o,e[11]=d*n-c*o,e}function m(e,t,r){var o=Math.sin(r),n=Math.cos(r),i=t[0],a=t[1],s=t[2],c=t[3],l=t[4],p=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*n+l*o,e[1]=a*n+p*o,e[2]=s*n+u*o,e[3]=c*n+d*o,e[4]=l*n-i*o,e[5]=p*n-a*o,e[6]=u*n-s*o,e[7]=d*n-c*o,e}function y(e,t,r,o,n){var i=1/Math.tan(t/2),a=1/(o-n);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+o)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*o*a,e[15]=0,e}function f(e,t,r,o,n,i,a){var s=1/(t-r),c=1/(o-n),l=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(n+o)*c,e[14]=(a+i)*l,e[15]=1,e}return function(){var e=new Float32Array(3);e[0]=0,e[1]=0,e[2]=0}(),function(){var e=new Float32Array(4);e[0]=0,e[1]=0,e[2]=0,e[3]=0}(),{vec3:{transformMat3:e},vec4:{transformMat4:t},mat2:{create:r,rotate:o,scale:n},mat3:{create:i,fromRotation:a},mat4:{create:s,identity:c,translate:u,scale:d,multiply:p,perspective:y,rotateX:h,rotateZ:m,invert:l,ortho:f}}})},{}],3:[function(e,t,r){"use strict";function o(e){return!!(n()&&i()&&a()&&s()&&c()&&l()&&p()&&u(e&&e.failIfMajorPerformanceCaveat))}function n(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function c(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){if(!("Worker"in window&&"Blob"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(r);try{t=new Worker(o),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(o),e}function p(){return"Uint8ClampedArray"in window}function u(e){return void 0===h[e]&&(h[e]=d(e)),h[e]}function d(e){var t=document.createElement("canvas"),r=Object.create(o.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",r)||t.probablySupportsContext("experimental-webgl",r):t.supportsContext?t.supportsContext("webgl",r)||t.supportsContext("experimental-webgl",r):t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}"undefined"!=typeof t&&t.exports?t.exports=o:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=o);var h={};o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(e,t,r){"use strict";function o(e,t){this.x=e,this.y=t}t.exports=o,o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),o=t*this.x-r*this.y,n=r*this.x+t*this.y;return this.x=o,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),o=Math.sin(e),n=t.x+r*(this.x-t.x)-o*(this.y-t.y),i=t.y+o*(this.x-t.x)+r*(this.y-t.y);return this.x=n,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e}},{}],5:[function(t,r,o){!function(t,n){"object"==typeof o&&"undefined"!=typeof r?r.exports=n():"function"==typeof e&&e.amd?e(n):t.ShelfPack=n()}(this,function(){function e(e,t,r){r=r||{},this.w=e||64,this.h=t||64,this.autoResize=!!r.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function t(e,t,r){this.x=0,this.y=e,this.w=this.free=t,this.h=r}function r(e,t,r,o,n,i,a){this.id=e,this.x=t,this.y=r,this.w=o,this.h=n,this.maxw=i||o,this.maxh=a||n,this.refcount=0}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var r,o,n,i,a=[],s=0;s<e.length;s++)if(r=e[s].w||e[s].width,o=e[s].h||e[s].height,n=e[s].id,r&&o){if(!(i=this.packOne(r,o,n)))continue;t.inPlace&&(e[s].x=i.x,e[s].y=i.y,e[s].id=i.id),a.push(i)}return this.shrink(),a},e.prototype.packOne=function(e,r,o){var n,i,a,s,c={freebin:-1,shelf:-1,waste:1/0},l=0;if("string"==typeof o||"number"==typeof o){if(n=this.getBin(o))return this.ref(n),n;"number"==typeof o&&(this.maxId=Math.max(o,this.maxId))}else o=++this.maxId;for(s=0;s<this.freebins.length;s++){if(n=this.freebins[s],r===n.maxh&&e===n.maxw)return this.allocFreebin(s,e,r,o);r>n.maxh||e>n.maxw||r<=n.maxh&&e<=n.maxw&&(a=n.maxw*n.maxh-e*r)<c.waste&&(c.waste=a,c.freebin=s)}for(s=0;s<this.shelves.length;s++)if(i=this.shelves[s],l+=i.h,!(e>i.free)){if(r===i.h)return this.allocShelf(s,e,r,o);r>i.h||r<i.h&&(a=(i.h-r)*e)<c.waste&&(c.freebin=-1,c.waste=a,c.shelf=s)}if(-1!==c.freebin)return this.allocFreebin(c.freebin,e,r,o);if(-1!==c.shelf)return this.allocShelf(c.shelf,e,r,o);if(r<=this.h-l&&e<=this.w)return i=new t(l,this.w,r),this.allocShelf(this.shelves.push(i)-1,e,r,o);if(this.autoResize){var p,u,d,h;return p=u=this.h,d=h=this.w,(d<=p||e>d)&&(h=2*Math.max(e,d)),(p<d||r>p)&&(u=2*Math.max(r,p)),this.resize(h,u),this.packOne(e,r,o)}return null},e.prototype.allocFreebin=function(e,t,r,o){var n=this.freebins.splice(e,1)[0];return n.id=o,n.w=t,n.h=r,n.refcount=0,this.bins[o]=n,this.ref(n),n},e.prototype.allocShelf=function(e,t,r,o){var n=this.shelves[e],i=n.alloc(t,r,o);return this.bins[o]=i,this.ref(i),i},e.prototype.shrink=function(){if(this.shelves.length>0){for(var e=0,t=0,r=0;r<this.shelves.length;r++){var o=this.shelves[r];t+=o.h,e=Math.max(o.w-o.free,e)}this.resize(e,t)}},e.prototype.getBin=function(e){return this.bins[e]},e.prototype.ref=function(e){if(1==++e.refcount){var t=e.h;this.stats[t]=1+(0|this.stats[t])}return e.refcount},e.prototype.unref=function(e){return 0===e.refcount?0:(0==--e.refcount&&(this.stats[e.h]--,delete this.bins[e.id],this.freebins.push(e)),e.refcount)},e.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var r=0;r<this.shelves.length;r++)this.shelves[r].resize(e);return!0},t.prototype.alloc=function(e,t,o){if(e>this.free||t>this.h)return null;var n=this.x;return this.x+=e,this.free-=e,new r(o,n,this.y,e,t,e,this.h)},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e})},{}],6:[function(e,t,r){"use strict";function o(e,t,r,o,n,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=o||.25,this.fontFamily=n||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function n(e,t,r,o,n,a,s){for(var c=0;c<t;c++){for(var l=0;l<r;l++)o[l]=e[l*t+c];for(i(o,n,a,s,r),l=0;l<r;l++)e[l*t+c]=n[l]}for(l=0;l<r;l++){for(c=0;c<t;c++)o[c]=e[l*t+c];for(i(o,n,a,s,t),c=0;c<t;c++)e[l*t+c]=Math.sqrt(n[c])}}function i(e,t,r,o,n){r[0]=0,o[0]=-a,o[1]=+a;for(var i=1,s=0;i<n;i++){for(var c=(e[i]+i*i-(e[r[s]]+r[s]*r[s]))/(2*i-2*r[s]);c<=o[s];)s--,c=(e[i]+i*i-(e[r[s]]+r[s]*r[s]))/(2*i-2*r[s]);s++,r[s]=i,o[s]=c,o[s+1]=+a}for(i=0,s=0;i<n;i++){for(;o[s+1]<i;)s++;t[i]=(i-r[s])*(i-r[s])+e[r[s]]}}t.exports=o;var a=1e20;o.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),o=0;o<this.size*this.size;o++){var i=t.data[4*o+3]/255;this.gridOuter[o]=1===i?0:0===i?a:Math.pow(Math.max(0,.5-i),2),this.gridInner[o]=1===i?a:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(n(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),n(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),o=0;o<this.size*this.size;o++){var s=this.gridOuter[o]-this.gridInner[o];r[o]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return r}},{}],7:[function(e,t,r){function o(e,t,r,o){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(o-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=o,this.p2x=r,this.p2y=o}t.exports=o,o.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},o.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},o.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},o.prototype.solveCurveX=function(e,t){void 0===t&&(t=1e-6);var r,o,n,i,a;for(n=e,a=0;a<8;a++){if(i=this.sampleCurveX(n)-e,Math.abs(i)<t)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=i/s}if(r=0,o=1,(n=e)<r)return r;if(n>o)return o;for(;r<o;){if(i=this.sampleCurveX(n),Math.abs(i-e)<t)return n;e>i?r=n:o=n,n=.5*(o-r)+r}return n},o.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},{}],8:[function(e,t,r){t.exports.VectorTile=e("./lib/vectortile.js"),t.exports.VectorTileFeature=e("./lib/vectortilefeature.js"),t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(e,t,r){"use strict";function o(e,t){this.layers=e.readFields(n,{},t)}function n(e,t,r){if(3===e){var o=new i(r,r.readVarint()+r.pos);o.length&&(t[o.name]=o)}}var i=e("./vectortilelayer");t.exports=o},{"./vectortilelayer":11}],10:[function(e,t,r){"use strict";function o(e,t,r,o,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=o,this._values=i,e.readFields(n,this,t)}function n(e,t,r){1==e?t.id=r.readVarint():2==e?i(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function i(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var o=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[o]=n}}function a(e){var t=e.length;if(t<=1)return[e];for(var r,o,n=[],i=0;i<t;i++){var a=s(e[i]);0!==a&&(void 0===o&&(o=a<0),o===a<0?(r&&n.push(r),r=[e[i]]):r.push(e[i]))}return r&&n.push(r),n}function s(e){for(var t,r,o=0,n=0,i=e.length,a=i-1;n<i;a=n++)t=e[n],r=e[a],o+=(r.x-t.x)*(t.y+r.y);return o}var c=e("@mapbox/point-geometry");t.exports=o,o.types=["Unknown","Point","LineString","Polygon"],o.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,o=1,n=0,i=0,a=0,s=[];e.pos<r;){if(!n){var l=e.readVarint();o=7&l,n=l>>3}if(n--,1===o||2===o)i+=e.readSVarint(),a+=e.readSVarint(),1===o&&(t&&s.push(t),t=[]),t.push(new c(i,a));else{if(7!==o)throw new Error("unknown command "+o);t&&t.push(t[0].clone())}}return t&&s.push(t),s},o.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,o=0,n=0,i=0,a=1/0,s=-1/0,c=1/0,l=-1/0;e.pos<t;){if(!o){var p=e.readVarint();r=7&p,o=p>>3}if(o--,1===r||2===r)n+=e.readSVarint(),i+=e.readSVarint(),n<a&&(a=n),n>s&&(s=n),i<c&&(c=i),i>l&&(l=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,c,s,l]},o.prototype.toGeoJSON=function(e,t,r){function n(e){for(var t=0;t<e.length;t++){var r=e[t],o=180-360*(r.y+p)/c;e[t]=[360*(r.x+l)/c-180,360/Math.PI*Math.atan(Math.exp(o*Math.PI/180))-90]}}var i,s,c=this.extent*Math.pow(2,r),l=this.extent*e,p=this.extent*t,u=this.loadGeometry(),d=o.types[this.type];switch(this.type){case 1:var h=[];for(i=0;i<u.length;i++)h[i]=u[i][0];u=h,n(u);break;case 2:for(i=0;i<u.length;i++)n(u[i]);break;case 3:for(u=a(u),i=0;i<u.length;i++)for(s=0;s<u[i].length;s++)n(u[i][s])}1===u.length?u=u[0]:d="Multi"+d;var m={type:"Feature",geometry:{type:d,coordinates:u},properties:this.properties};return"id"in this&&(m.id=this.id),m}},{"@mapbox/point-geometry":4}],11:[function(e,t,r){"use strict";function o(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(n,this,t),this.length=this._features.length}function n(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(i(r))}function i(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var o=e.readVarint()>>3;t=1===o?e.readString():2===o?e.readFloat():3===o?e.readDouble():4===o?e.readVarint64():5===o?e.readVarint():6===o?e.readSVarint():7===o?e.readBoolean():null}return t}var a=e("./vectortilefeature.js");t.exports=o,o.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(t,r,o){!function(t,n){"object"==typeof o&&"undefined"!=typeof r?n(o):"function"==typeof e&&e.amd?e(["exports"],n):n(t.WhooTS=t.WhooTS||{})}(this,function(e){function t(e,t,o,n,i,a){return a=a||{},e+"?"+["bbox="+r(o,n,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+t].join("&")}function r(e,t,r){t=Math.pow(2,r)-t-1;var n=o(256*e,256*t,r),i=o(256*(e+1),256*(t+1),r);return n[0]+","+n[1]+","+i[0]+","+i[1]}function o(e,t,r){var o=2*Math.PI*6378137/256/Math.pow(2,r);return[e*o-2*Math.PI*6378137/2,t*o-2*Math.PI*6378137/2]}e.getURL=t,e.getTileBBox=r,e.getMercCoords=o,Object.defineProperty(e,"__esModule",{value:!0})})},{}],13:[function(e,t,r){"use strict";function o(e,t,r){r=r||2;var o=t&&t.length,i=o?t[0]*r:e.length,s=n(e,0,i,r,!0),c=[];if(!s)return c;var l,p,d,h,m,y,f;if(o&&(s=u(e,t,s,r)),e.length>80*r){l=d=e[0],p=h=e[1];for(var v=r;v<i;v+=r)m=e[v],y=e[v+1],m<l&&(l=m),y<p&&(p=y),m>d&&(d=m),y>h&&(h=y);f=Math.max(d-l,h-p)}return a(s,c,r,l,p,f),c}function n(e,t,r,o,n){var i,a;if(n===R(e,t,r,o)>0)for(i=t;i<r;i+=o)a=A(i,e[i],e[i+1],a);else for(i=r-o;i>=t;i-=o)a=A(i,e[i],e[i+1],a);return a&&x(a,a.next)&&(T(a),a=a.next),a}function i(e,t){if(!e)return e;t||(t=e);var r,o=e;do{if(r=!1,o.steiner||!x(o,o.next)&&0!==b(o.prev,o,o.next))o=o.next;else{if(T(o),(o=t=o.prev)===o.next)return null;r=!0}}while(r||o!==t);return t}function a(e,t,r,o,n,u,d){if(e){!d&&u&&y(e,o,n,u);for(var h,m,f=e;e.prev!==e.next;)if(h=e.prev,m=e.next,u?c(e,o,n,u):s(e))t.push(h.i/r),t.push(e.i/r),t.push(m.i/r),T(e),e=m.next,f=m.next;else if((e=m)===f){d?1===d?(e=l(e,t,r),a(e,t,r,o,n,u,2)):2===d&&p(e,t,r,o,n,u):a(i(e),t,r,o,n,u,1);break}}}function s(e){var t=e.prev,r=e,o=e.next;if(b(t,r,o)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(_(t.x,t.y,r.x,r.y,o.x,o.y,n.x,n.y)&&b(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function c(e,t,r,o){var n=e.prev,i=e,a=e.next;if(b(n,i,a)>=0)return!1;for(var s=n.x<i.x?n.x<a.x?n.x:a.x:i.x<a.x?i.x:a.x,c=n.y<i.y?n.y<a.y?n.y:a.y:i.y<a.y?i.y:a.y,l=n.x>i.x?n.x>a.x?n.x:a.x:i.x>a.x?i.x:a.x,p=n.y>i.y?n.y>a.y?n.y:a.y:i.y>a.y?i.y:a.y,u=v(s,c,t,r,o),d=v(l,p,t,r,o),h=e.nextZ;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&_(n.x,n.y,i.x,i.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&_(n.x,n.y,i.x,i.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function l(e,t,r){var o=e;do{var n=o.prev,i=o.next.next;!x(n,i)&&S(n,o,o.next,i)&&P(n,i)&&P(i,n)&&(t.push(n.i/r),t.push(o.i/r),t.push(i.i/r),T(o),T(o.next),o=e=i),o=o.next}while(o!==e);return o}function p(e,t,r,o,n,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&w(c,l)){var p=C(c,l);return c=i(c,c.next),p=i(p,p.next),a(c,t,r,o,n,s),void a(p,t,r,o,n,s)}l=l.next}c=c.next}while(c!==e)}function u(e,t,r,o){var a,s,c,l,p,u=[];for(a=0,s=t.length;a<s;a++)c=t[a]*o,l=a<s-1?t[a+1]*o:e.length,p=n(e,c,l,o,!1),p===p.next&&(p.steiner=!0),u.push(g(p));for(u.sort(d),a=0;a<u.length;a++)h(u[a],r),r=i(r,r.next);return r}function d(e,t){return e.x-t.x}function h(e,t){if(t=m(e,t)){var r=C(t,e);i(r,r.next)}}function m(e,t){var r,o=t,n=e.x,i=e.y,a=-1/0;do{if(i<=o.y&&i>=o.next.y){var s=o.x+(i-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(s<=n&&s>a){if(a=s,s===n){if(i===o.y)return o;if(i===o.next.y)return o.next}r=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!r)return null;if(n===a)return r.prev;var c,l=r,p=r.x,u=r.y,d=1/0;for(o=r.next;o!==l;)n>=o.x&&o.x>=p&&_(i<u?n:a,i,p,u,i<u?a:n,i,o.x,o.y)&&((c=Math.abs(i-o.y)/(n-o.x))<d||c===d&&o.x>r.x)&&P(o,e)&&(r=o,d=c),o=o.next;return r}function y(e,t,r,o){var n=e;do{null===n.z&&(n.z=v(n.x,n.y,t,r,o)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,f(n)}function f(e){var t,r,o,n,i,a,s,c,l=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,o=r,s=0,t=0;t<l&&(s++,o=o.nextZ);t++);for(c=l;s>0||c>0&&o;)0===s?(n=o,o=o.nextZ,c--):0!==c&&o?r.z<=o.z?(n=r,r=r.nextZ,s--):(n=o,o=o.nextZ,c--):(n=r,r=r.nextZ,s--),i?i.nextZ=n:e=n,n.prevZ=i,i=n;r=o}i.nextZ=null,l*=2}while(a>1);return e}function v(e,t,r,o,n){return e=32767*(e-r)/n,t=32767*(t-o)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function g(e){var t=e,r=e;do{t.x<r.x&&(r=t),t=t.next}while(t!==e);return r}function _(e,t,r,o,n,i,a,s){return(n-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(o-s)-(r-a)*(t-s)>=0&&(r-a)*(i-s)-(n-a)*(o-s)>=0}function w(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!k(e,t)&&P(e,t)&&P(t,e)&&E(e,t)}function b(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,r,o){return!!(x(e,t)&&x(r,o)||x(e,o)&&x(r,t))||b(e,t,r)>0!=b(e,t,o)>0&&b(r,o,e)>0!=b(r,o,t)>0}function k(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&S(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function P(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function E(e,t){var r=e,o=!1,n=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&n<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(o=!o),r=r.next}while(r!==e);return o}function C(e,t){var r=new M(e.i,e.x,e.y),o=new M(t.i,t.x,t.y),n=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,o.next=r,r.prev=o,i.next=o,o.prev=i,o}function A(e,t,r,o){var n=new M(e,t,r);return o?(n.next=o.next,n.prev=o,o.next.prev=n,o.next=n):(n.prev=n,n.next=n),n}function T(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function M(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(e,t,r,o){for(var n=0,i=t,a=r-o;i<r;i+=o)n+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return n}t.exports=o,o.deviation=function(e,t,r,o){var n=t&&t.length,i=n?t[0]*r:e.length,a=Math.abs(R(e,0,i,r));if(n)for(var s=0,c=t.length;s<c;s++){var l=t[s]*r,p=s<c-1?t[s+1]*r:e.length;a-=Math.abs(R(e,l,p,r))}var u=0;for(s=0;s<o.length;s+=3){var d=o[s]*r,h=o[s+1]*r,m=o[s+2]*r;u+=Math.abs((e[d]-e[m])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[m+1]-e[d+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},o.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},o=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[n][i][a]);n>0&&(o+=e[n-1].length,r.holes.push(o))}return r}},{}],14:[function(e,t,r){function o(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(n(o,t)),e;case"Feature":return e.geometry=o(e.geometry,t),e;case"Polygon":case"MultiPolygon":return i(e,t);default:return e}}function n(e,t){return function(r){return e(r,t)}}function i(e,t){return"Polygon"===e.type?e.coordinates=a(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(n(a,t))),e}function a(e,t){t=!!t,e[0]=s(e[0],t);for(var r=1;r<e.length;r++)e[r]=s(e[r],!t);return e}function s(e,t){return c(e)===t?e:e.reverse()}function c(e){return l.ring(e)>=0}var l=e("@mapbox/geojson-area");t.exports=o},{"@mapbox/geojson-area":1}],15:[function(e,t,r){"use strict";function o(e,t,r,o,s,c,l){if(r/=t,o/=t,c>=r&&l<=o)return e;if(c>o||l<r)return null;for(var u=[],d=0;d<e.length;d++){var h=e[d],m=h.geometry,y=h.type,f=0===s?h.minX:h.minY,v=0===s?h.maxX:h.maxY;if(f>=r&&v<=o)u.push(h);else if(!(f>o||v<r)){var g=[];if("Point"===y||"MultiPoint"===y)n(m,g,r,o,s);else if("LineString"===y)i(m,g,r,o,s,!1);else if("MultiLineString"===y)a(m,g,r,o,s,!1);else if("Polygon"===y)a(m,g,r,o,s,!0);else if("MultiPolygon"===y)for(var _=0;_<m.length;_++){var w=[];a(m[_],w,r,o,s,!0),w.length&&g.push(w)}g.length&&("LineString"!==y&&"MultiLineString"!==y||(1===g.length?(y="LineString",g=g[0]):y="MultiLineString"),"Point"!==y&&"MultiPoint"!==y||(y=3===g.length?"Point":"MultiPoint"),u.push(p(h.id,y,g,h.tags)))}}return u.length?u:null}function n(e,t,r,o,n){for(var i=0;i<e.length;i+=3){var a=e[i+n];a>=r&&a<=o&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function i(e,t,r,o,n,i){for(var a=[],p=0===n?c:l,u=0;u<e.length-3;u+=3){var d=e[u],h=e[u+1],m=e[u+2],y=e[u+3],f=e[u+4],v=0===n?d:h,g=0===n?y:f,_=!1;v<r?g>=r&&p(a,d,h,y,f,r):v>o?g<=o&&p(a,d,h,y,f,o):s(a,d,h,m),g<r&&v>=r&&(p(a,d,h,y,f,r),_=!0),g>o&&v<=o&&(p(a,d,h,y,f,o),_=!0),!i&&_&&(a.size=e.size,t.push(a),a=[])}var w=e.length-3;d=e[w],h=e[w+1],m=e[w+2],v=0===n?d:h,v>=r&&v<=o&&s(a,d,h,m),w=a.length-3,i&&w>=3&&(a[w]!==a[0]||a[w+1]!==a[1])&&s(a,a[0],a[1],a[2]),a.length&&(a.size=e.size,t.push(a))}function a(e,t,r,o,n,a){for(var s=0;s<e.length;s++)i(e[s],t,r,o,n,a)}function s(e,t,r,o){e.push(t),e.push(r),e.push(o)}function c(e,t,r,o,n,i){e.push(i),e.push(r+(i-t)*(n-r)/(o-t)),e.push(1)}function l(e,t,r,o,n,i){e.push(t+(i-r)*(o-t)/(n-r)),e.push(i),e.push(1)}t.exports=o;var p=e("./feature")},{"./feature":17}],16:[function(e,t,r){"use strict";function o(e,t){var r=[];if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)n(r,e.features[o],t);else"Feature"===e.type?n(r,e,t):n(r,{geometry:e},t);return r}function n(e,t,r){if(t.geometry){var o=t.geometry.coordinates,c=t.geometry.type,l=r*r,p=[];if("Point"===c)i(o,p);else if("MultiPoint"===c)for(var d=0;d<o.length;d++)i(o[d],p);else if("LineString"===c)a(o,p,l,!1);else if("MultiLineString"===c)s(o,p,l,!1);else if("Polygon"===c)s(o,p,l,!0);else{if("MultiPolygon"!==c){if("GeometryCollection"===c){for(d=0;d<t.geometry.geometries.length;d++)n(e,{geometry:t.geometry.geometries[d],properties:t.properties},r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(d=0;d<o.length;d++){var h=[];s(o[d],h,l,!0),p.push(h)}}e.push(u(t.id,c,p,t.properties))}}function i(e,t){t.push(c(e[0])),t.push(l(e[1])),t.push(0)}function a(e,t,r,o){for(var n,i,a=0,s=0;s<e.length;s++){var u=c(e[s][0]),d=l(e[s][1]);t.push(u),t.push(d),t.push(0),s>0&&(a+=o?(n*d-u*i)/2:Math.sqrt(Math.pow(u-n,2)+Math.pow(d-i,2))),n=u,i=d}var h=t.length-3;t[2]=1,p(t,0,h,r),t[h+2]=1,t.size=Math.abs(a)}function s(e,t,r,o){for(var n=0;n<e.length;n++){var i=[];a(e[n],i,r,o),t.push(i)}}function c(e){return e/360+.5}function l(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}t.exports=o;var p=e("./simplify"),u=e("./feature")},{"./feature":17,"./simplify":19}],17:[function(e,t,r){"use strict";function o(e,t,r,o){var i={id:e||null,type:t,geometry:r,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return n(i),i}function n(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)i(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var o=0;o<t.length;o++)i(e,t[o]);else if("MultiPolygon"===r)for(o=0;o<t.length;o++)for(var n=0;n<t[o].length;n++)i(e,t[o][n])}function i(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}t.exports=o},{}],18:[function(e,t,r){"use strict";function o(e,t){return new n(e,t)}function n(e,t){t=this.options=a(Object.create(this.options),t);var r=t.debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var o=1<<t.maxZoom,n=s(e,t.tolerance/(o*t.extent));this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=p(n,t.buffer/t.extent),n.length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(e,t,r){return 32*((1<<e)*r+t)+e}function a(e,t){for(var r in t)e[r]=t[r];return e}t.exports=o;var s=e("./convert"),c=e("./transform"),l=e("./clip"),p=e("./wrap"),u=e("./tile");n.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},n.prototype.splitTile=function(e,t,r,o,n,a,s){for(var c=[e,t,r,o],p=this.options,d=p.debug;c.length;){o=c.pop(),r=c.pop(),t=c.pop(),e=c.pop();var h=1<<t,m=i(t,r,o),y=this.tiles[m],f=t===p.maxZoom?0:p.tolerance/(h*p.extent);if(!y&&(d>1&&console.time("creation"),y=this.tiles[m]=u(e,h,r,o,f,t===p.maxZoom),this.tileCoords.push({z:t,x:r,y:o}),d)){d>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,o,y.numFeatures,y.numPoints,y.numSimplified),console.timeEnd("creation"));var v="z"+t;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(y.source=e,n){if(t===p.maxZoom||t===n)continue;var g=1<<n-t;if(r!==Math.floor(a/g)||o!==Math.floor(s/g))continue}else if(t===p.indexMaxZoom||y.numPoints<=p.indexMaxPoints)continue;if(y.source=null,0!==e.length){d>1&&console.time("clipping");var _,w,b,x,S,k,P=.5*p.buffer/p.extent,E=.5-P,C=.5+P,A=1+P;_=w=b=x=null,S=l(e,h,r-P,r+C,0,y.minX,y.maxX),k=l(e,h,r+E,r+A,0,y.minX,y.maxX),e=null,S&&(_=l(S,h,o-P,o+C,1,y.minY,y.maxY),w=l(S,h,o+E,o+A,1,y.minY,y.maxY),S=null),k&&(b=l(k,h,o-P,o+C,1,y.minY,y.maxY),x=l(k,h,o+E,o+A,1,y.minY,y.maxY),k=null),d>1&&console.timeEnd("clipping"),c.push(_||[],t+1,2*r,2*o),c.push(w||[],t+1,2*r,2*o+1),c.push(b||[],t+1,2*r+1,2*o),c.push(x||[],t+1,2*r+1,2*o+1)}}},n.prototype.getTile=function(e,t,r){var o=this.options,n=o.extent,a=o.debug;if(e<0||e>24)return null;var s=1<<e;t=(t%s+s)%s;var l=i(e,t,r);if(this.tiles[l])return c.tile(this.tiles[l],n);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var p,u=e,d=t,h=r;!p&&u>0;)u--,d=Math.floor(d/2),h=Math.floor(h/2),p=this.tiles[i(u,d,h)];return p&&p.source?(a>1&&console.log("found parent tile z%d-%d-%d",u,d,h),a>1&&console.time("drilling down"),this.splitTile(p.source,u,d,h,e,t,r),a>1&&console.timeEnd("drilling down"),this.tiles[l]?c.tile(this.tiles[l],n):null):null}},{"./clip":15,"./convert":16,"./tile":20,"./transform":21,"./wrap":22}],19:[function(e,t,r){"use strict";function o(e,t,r,i){for(var a,s=i,c=e[t],l=e[t+1],p=e[r],u=e[r+1],d=t+3;d<r;d+=3){var h=n(e[d],e[d+1],c,l,p,u);h>s&&(a=d,s=h)}s>i&&(a-t>3&&o(e,t,a,i),e[a+2]=s,r-a>3&&o(e,a,r,i))}function n(e,t,r,o,n,i){var a=n-r,s=i-o;if(0!==a||0!==s){var c=((e-r)*a+(t-o)*s)/(a*a+s*s);c>1?(r=n,o=i):c>0&&(r+=a*c,o+=s*c)}return a=e-r,s=t-o,a*a+s*s}t.exports=o},{}],20:[function(e,t,r){"use strict";function o(e,t,r,o,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z2:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},c=0;c<e.length;c++){s.numFeatures++,n(s,e[c],i,a);var l=e[c].minX,p=e[c].minY,u=e[c].maxX,d=e[c].maxY;l<s.minX&&(s.minX=l),p<s.minY&&(s.minY=p),u>s.maxX&&(s.maxX=u),d>s.maxY&&(s.maxY=d)}return s}function n(e,t,r,o){var n=t.geometry,a=t.type,s=[];if("Point"===a||"MultiPoint"===a)for(var c=0;c<n.length;c+=3)s.push(n[c]),s.push(n[c+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)i(s,n,e,r,o,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(c=0;c<n.length;c++)i(s,n[c],e,r,o,"Polygon"===a,0===c);else if("MultiPolygon"===a)for(var l=0;l<n.length;l++){var p=n[l];for(c=0;c<p.length;c++)i(s,p[c],e,r,o,!0,0===c)}if(s.length){var u={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:t.tags||null};null!==t.id&&(u.id=t.id),e.features.push(u)}}function i(e,t,r,o,n,i,s){var c=o*o;if(!n&&t.size<(i?c:o))return void(r.numPoints+=t.length/3);for(var l=[],p=0;p<t.length;p+=3)(n||t[p+2]>c)&&(r.numSimplified++,l.push(t[p]),l.push(t[p+1])),r.numPoints++;i&&a(l,s),e.push(l)}function a(e,t){for(var r=0,o=0,n=e.length,i=n-2;o<n;i=o,o+=2)r+=(e[o]-e[i])*(e[o+1]+e[i+1]);if(r>0===t)for(o=0,n=e.length;o<n/2;o+=2){var a=e[o],s=e[o+1];e[o]=e[n-2-o],e[o+1]=e[n-1-o],e[n-2-o]=a,e[n-1-o]=s}}t.exports=o},{}],21:[function(e,t,r){"use strict";function o(e,t){if(e.transformed)return e;var r,o,i,a=e.z2,s=e.x,c=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],p=l.geometry,u=l.type;if(l.geometry=[],1===u)for(o=0;o<p.length;o+=2)l.geometry.push(n(p[o],p[o+1],t,a,s,c));else for(o=0;o<p.length;o++){var d=[];for(i=0;i<p[o].length;i+=2)d.push(n(p[o][i],p[o][i+1],t,a,s,c));l.geometry.push(d)}}return e.transformed=!0,e}function n(e,t,r,o,n,i){return[Math.round(r*(e*o-n)),Math.round(r*(t*o-i))]}r.tile=o,r.point=n},{}],22:[function(e,t,r){"use strict";function o(e,t){var r=e,o=a(e,1,-1-t,t,0,-1,2),i=a(e,1,1-t,2+t,0,-1,2);return(o||i)&&(r=a(e,1,-t,1+t,0,-1,2)||[],o&&(r=n(o,1).concat(r)),i&&(r=r.concat(n(i,-1)))),r}function n(e,t){for(var r=[],o=0;o<e.length;o++){var n,a=e[o],c=a.type;if("Point"===c||"MultiPoint"===c||"LineString"===c)n=i(a.geometry,t);else if("MultiLineString"===c||"Polygon"===c){n=[];for(var l=0;l<a.geometry.length;l++)n.push(i(a.geometry[l],t))}else if("MultiPolygon"===c)for(n=[],l=0;l<a.geometry.length;l++){for(var p=[],u=0;u<a.geometry[l].length;u++)p.push(i(a.geometry[l][u],t));n.push(p)}r.push(s(a.id,c,n,a.tags))}return r}function i(e,t){var r=[];r.size=e.size;for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}var a=e("./clip"),s=e("./feature");t.exports=o},{"./clip":15,"./feature":17}],23:[function(e,t,r){"use strict";function o(e,t,r){var o=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],t=i[1],r=i[2],this.d=t+2*r;for(var a=0;a<this.d*this.d;a++){var s=i[n+a],c=i[n+a+1];o.push(s===c?null:i.subarray(s,c))}var l=i[n+o.length],p=i[n+o.length+1];this.keys=i.subarray(l,p),this.bboxes=i.subarray(p),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var u=0;u<this.d*this.d;u++)o.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var d=r/t*e;this.min=-d,this.max=e+d}t.exports=o;var n=3;o.prototype.insert=function(e,t,r,o,n){this._forEachCell(t,r,o,n,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(n)},o.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},o.prototype._insertCell=function(e,t,r,o,n,i){this.cells[n].push(i)},o.prototype.query=function(e,t,r,o){var n=this.min,i=this.max;if(e<=n&&t<=n&&i<=r&&i<=o)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(e,t,r,o,this._queryCell,a,s),a},o.prototype._queryCell=function(e,t,r,o,n,i,a){var s=this.cells[n];if(null!==s)for(var c=this.keys,l=this.bboxes,p=0;p<s.length;p++){var u=s[p];if(void 0===a[u]){var d=4*u;e<=l[d+2]&&t<=l[d+3]&&r>=l[d+0]&&o>=l[d+1]?(a[u]=!0,i.push(c[u])):a[u]=!1}}},o.prototype._forEachCell=function(e,t,r,o,n,i,a){for(var s=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(r),p=this._convertToCellCoord(o),u=s;u<=l;u++)for(var d=c;d<=p;d++){var h=this.d*d+u;if(n.call(this,e,t,r,o,h,i,a))return}},o.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},o.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=n+this.cells.length+1+1,r=0,o=0;o<this.cells.length;o++)r+=this.cells[o].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,s=0;s<e.length;s++){var c=e[s];i[n+s]=a,i.set(c,a),a+=c.length}return i[n+e.length]=a,i.set(this.keys,a),a+=this.keys.length,i[n+e.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],24:[function(e,t,r){r.read=function(e,t,r,o,n){var i,a,s=8*n-o-1,c=(1<<s)-1,l=c>>1,p=-7,u=r?n-1:0,d=r?-1:1,h=e[t+u];for(u+=d,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+e[t+u],u+=d,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=o;p>0;a=256*a+e[t+u],u+=d,p-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),i-=l}return(h?-1:1)*a*Math.pow(2,i-o)},r.write=function(e,t,r,o,n,i){var a,s,c,l=8*i-n-1,p=(1<<l)-1,u=p>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:i-1,m=o?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+u>=1?d/c:d*Math.pow(2,1-u),t*c>=2&&(a++,c/=2),a+u>=p?(s=0,a=p):a+u>=1?(s=(t*c-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[r+h]=255&s,h+=m,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[r+h]=255&a,h+=m,a/=256,l-=8);e[r+h-m]|=128*y}},{}],25:[function(e,t,r){"use strict";function o(e,t,r,o,i){return new n(e,t,r,o,i)}function n(e,t,r,o,n){t=t||i,r=r||a,n=n||Array,this.nodeSize=o||64,this.points=e,this.ids=new n(e.length),this.coords=new n(2*e.length);for(var c=0;c<e.length;c++)this.ids[c]=c,this.coords[2*c]=t(e[c]),this.coords[2*c+1]=r(e[c]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(e){return e[0]}function a(e){return e[1]}var s=e("./sort"),c=e("./range"),l=e("./within");t.exports=o,n.prototype={range:function(e,t,r,o){return c(this.ids,this.coords,e,t,r,o,this.nodeSize)},within:function(e,t,r){return l(this.ids,this.coords,e,t,r,this.nodeSize)}}},{"./range":26,"./sort":27,"./within":28}],26:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,a){for(var s,c,l=[0,e.length-1,0],p=[];l.length;){var u=l.pop(),d=l.pop(),h=l.pop();if(d-h<=a)for(var m=h;m<=d;m++)s=t[2*m],c=t[2*m+1],s>=r&&s<=n&&c>=o&&c<=i&&p.push(e[m]);else{var y=Math.floor((h+d)/2);s=t[2*y],c=t[2*y+1],s>=r&&s<=n&&c>=o&&c<=i&&p.push(e[y]);var f=(u+1)%2;(0===u?r<=s:o<=c)&&(l.push(h),l.push(y-1),l.push(f)),(0===u?n>=s:i>=c)&&(l.push(y+1),l.push(d),l.push(f))}}return p}t.exports=o},{}],27:[function(e,t,r){"use strict";function o(e,t,r,i,a,s){if(!(a-i<=r)){var c=Math.floor((i+a)/2);n(e,t,c,i,a,s%2),o(e,t,r,i,c-1,s+1),o(e,t,r,c+1,a,s+1)}}function n(e,t,r,o,a,s){for(;a>o;){if(a-o>600){var c=a-o+1,l=r-o+1,p=Math.log(c),u=.5*Math.exp(2*p/3),d=.5*Math.sqrt(p*u*(c-u)/c)*(l-c/2<0?-1:1);n(e,t,r,Math.max(o,Math.floor(r-l*u/c+d)),Math.min(a,Math.floor(r+(c-l)*u/c+d)),s)}var h=t[2*r+s],m=o,y=a;for(i(e,t,o,r),t[2*a+s]>h&&i(e,t,o,a);m<y;){for(i(e,t,m,y),m++,y--;t[2*m+s]<h;)m++;for(;t[2*y+s]>h;)y--}t[2*o+s]===h?i(e,t,o,y):(y++,i(e,t,y,a)),y<=r&&(o=y+1),r<=y&&(a=y-1)}}function i(e,t,r,o){a(e,r,o),a(t,2*r,2*o),a(t,2*r+1,2*o+1)}function a(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}t.exports=o},{}],28:[function(e,t,r){"use strict";function o(e,t,r,o,i,a){for(var s=[0,e.length-1,0],c=[],l=i*i;s.length;){var p=s.pop(),u=s.pop(),d=s.pop();if(u-d<=a)for(var h=d;h<=u;h++)n(t[2*h],t[2*h+1],r,o)<=l&&c.push(e[h]);else{var m=Math.floor((d+u)/2),y=t[2*m],f=t[2*m+1];n(y,f,r,o)<=l&&c.push(e[m]);var v=(p+1)%2;(0===p?r-i<=y:o-i<=f)&&(s.push(d),s.push(m-1),s.push(v)),(0===p?r+i>=y:o+i>=f)&&(s.push(m+1),s.push(u),s.push(v))}}return c}function n(e,t,r,o){var n=e-r,i=t-o;return n*n+i*i}t.exports=o},{}],29:[function(e,t,r){"use strict";function o(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function n(e,t,r){var o,n,i=r.buf;if(n=i[r.pos++],o=(112&n)>>4,n<128)return a(e,o,t);if(n=i[r.pos++],o|=(127&n)<<3,n<128)return a(e,o,t);if(n=i[r.pos++],o|=(127&n)<<10,n<128)return a(e,o,t);if(n=i[r.pos++],o|=(127&n)<<17,n<128)return a(e,o,t);if(n=i[r.pos++],o|=(127&n)<<24,n<128)return a(e,o,t);if(n=i[r.pos++],o|=(1&n)<<31,n<128)return a(e,o,t);throw new Error("Expected varint not more than 10 bytes")}function i(e){return e.type===o.Bytes?e.readVarint()+e.pos:e.pos+1}function a(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t){var r,o;if(e>=0?(r=e%4294967296|0,o=e/4294967296|0):(r=~(-e%4294967296),o=~(-e/4294967296),4294967295^r?r=r+1|0:(r=0,o=o+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),c(r,o,t),l(o,t)}function c(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}function l(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function p(e,t,r){var o=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(o);for(var n=r.pos-1;n>=e;n--)r.buf[n+o]=r.buf[n]}function u(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function m(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function y(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function f(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function v(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function g(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function _(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function x(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function S(e,t,r){for(var o="",n=t;n<r;){var i=e[n],a=null,s=i>239?4:i>223?3:i>191?2:1;if(n+s>r)break;var c,l,p;1===s?i<128&&(a=i):2===s?128==(192&(c=e[n+1]))&&(a=(31&i)<<6|63&c)<=127&&(a=null):3===s?(c=e[n+1],l=e[n+2],128==(192&c)&&128==(192&l)&&((a=(15&i)<<12|(63&c)<<6|63&l)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(c=e[n+1],l=e[n+2],p=e[n+3],128==(192&c)&&128==(192&l)&&128==(192&p)&&((a=(15&i)<<18|(63&c)<<12|(63&l)<<6|63&p)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,o+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),o+=String.fromCharCode(a),n+=s}return o}function k(e,t,r){for(var o,n,i=0;i<t.length;i++){if((o=t.charCodeAt(i))>55295&&o<57344){if(!n){o>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):n=o;continue}if(o<56320){e[r++]=239,e[r++]=191,e[r++]=189,n=o;continue}o=n-55296<<10|o-56320|65536,n=null}else n&&(e[r++]=239,e[r++]=191,e[r++]=189,n=null);o<128?e[r++]=o:(o<2048?e[r++]=o>>6|192:(o<65536?e[r++]=o>>12|224:(e[r++]=o>>18|240,e[r++]=o>>12&63|128),e[r++]=o>>6&63|128),e[r++]=63&o|128)}return r}t.exports=o;var P=e("ieee754");o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;o.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var o=this.readVarint(),n=o>>3,i=this.pos;this.type=7&o,e(n,t,this),this.pos===i&&this.skip(o)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=x(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=w(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=w(this.buf,this.pos)+4294967296*x(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=P.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=P.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,o=this.buf;return r=o[this.pos++],t=127&r,r<128?t:(r=o[this.pos++],t|=(127&r)<<7,r<128?t:(r=o[this.pos++],t|=(127&r)<<14,r<128?t:(r=o[this.pos++],t|=(127&r)<<21,r<128?t:(r=o[this.pos],t|=(15&r)<<28,n(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=S(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var r=i(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===o.Varint)for(;this.buf[this.pos++]>127;);else if(t===o.Bytes)this.pos=this.readVarint()+this.pos;else if(t===o.Fixed32)this.pos+=4;else{if(t!==o.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0)return void s(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=k(this.buf,e,this.pos);var r=this.pos-t;r>=128&&p(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),P.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),P.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var o=this.pos-r;o>=128&&p(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeMessage:function(e,t,r){this.writeTag(e,o.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){this.writeMessage(e,u,t)},writePackedSVarint:function(e,t){this.writeMessage(e,d,t)},writePackedBoolean:function(e,t){this.writeMessage(e,y,t)},writePackedFloat:function(e,t){this.writeMessage(e,h,t)},writePackedDouble:function(e,t){this.writeMessage(e,m,t)},writePackedFixed32:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){this.writeMessage(e,g,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,_,t)},writeBytesField:function(e,t){this.writeTag(e,o.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,o.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,o.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,o.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},{ieee754:24}],30:[function(e,t,r){function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){f&&m&&(f=!1,m.length?y=m.concat(y):v=-1,y.length&&c())}function c(){if(!f){var e=i(s);f=!0;for(var t=y.length;t;){for(m=y,y=[];++v<t;)m&&m[v].run();v=-1,t=y.length}m=null,f=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(e){u=o}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var m,y=[],f=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new l(e,t)),1!==y.length||f||i(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],31:[function(e,t,r){"use strict";function o(e,t,r,a,s){for(r=r||0,a=a||e.length-1,s=s||i;a>r;){if(a-r>600){var c=a-r+1,l=t-r+1,p=Math.log(c),u=.5*Math.exp(2*p/3),d=.5*Math.sqrt(p*u*(c-u)/c)*(l-c/2<0?-1:1);o(e,t,Math.max(r,Math.floor(t-l*u/c+d)),Math.min(a,Math.floor(t+(c-l)*u/c+d)),s)}var h=e[t],m=r,y=a;for(n(e,r,t),s(e[a],h)>0&&n(e,r,a);m<y;){for(n(e,m,y),m++,y--;s(e[m],h)<0;)m++;for(;s(e[y],h)>0;)y--}0===s(e[r],h)?n(e,r,y):(y++,n(e,y,a)),y<=t&&(r=y+1),t<=y&&(a=y-1)}}function n(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function i(e,t){return e<t?-1:e>t?1:0}t.exports=o},{}],32:[function(e,t,r){"use strict";function o(e){return new n(e)}function n(e){this.options=h(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function i(e,t,r,o,n){return{x:e,y:t,zoom:1/0,id:o,properties:n,parentId:-1,numPoints:r}}function a(e,t){var r=e.geometry.coordinates;return{x:l(r[0]),y:p(r[1]),zoom:1/0,id:t,parentId:-1}}function s(e){return{type:"Feature",properties:c(e),geometry:{type:"Point",coordinates:[u(e.x),d(e.y)]}}}function c(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return h(h({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function l(e){return e/360+.5}function p(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function u(e){return 360*(e-.5)}function d(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function h(e,t){for(var r in t)e[r]=t[r];return e}function m(e){return e.x}function y(e){return e.y}var f=e("kdbush");t.exports=o,n.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var r="prepare "+e.length+" points";t&&console.time(r),this.points=e;var o=e.map(a);t&&console.timeEnd(r);for(var n=this.options.maxZoom;n>=this.options.minZoom;n--){var i=+Date.now();this.trees[n+1]=f(o,m,y,this.options.nodeSize,Float32Array),o=this._cluster(o,n),t&&console.log("z%d: %d clusters in %dms",n,o.length,+Date.now()-i)}return this.trees[this.options.minZoom]=f(o,m,y,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var r=this.trees[this._limitZoom(t)],o=r.range(l(e[0]),p(e[3]),l(e[2]),p(e[1])),n=[],i=0;i<o.length;i++){var a=r.points[o[i]];n.push(a.numPoints?s(a):this.points[a.id])}return n},getChildren:function(e,t){for(var r=this.trees[t+1].points[e],o=this.options.radius/(this.options.extent*Math.pow(2,t)),n=this.trees[t+1].within(r.x,r.y,o),i=[],a=0;a<n.length;a++){var c=this.trees[t+1].points[n[a]];c.parentId===e&&i.push(c.numPoints?s(c):this.points[c.id])}return i},getLeaves:function(e,t,r,o){r=r||10,o=o||0;var n=[];return this._appendLeaves(n,e,t,r,o,0),n},getTile:function(e,t,r){var o=this.trees[this._limitZoom(e)],n=Math.pow(2,e),i=this.options.extent,a=this.options.radius,s=a/i,c=(r-s)/n,l=(r+1+s)/n,p={features:[]};return this._addTileFeatures(o.range((t-s)/n,c,(t+1+s)/n,l),o.points,t,r,n,p),0===t&&this._addTileFeatures(o.range(1-s/n,c,1,l),o.points,n,r,n,p),t===n-1&&this._addTileFeatures(o.range(0,c,s/n,l),o.points,-1,r,n,p),p.features.length?p:null},getClusterExpansionZoom:function(e,t){for(;t<this.options.maxZoom;){var r=this.getChildren(e,t);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},_appendLeaves:function(e,t,r,o,n,i){for(var a=this.getChildren(t,r),s=0;s<a.length;s++){var c=a[s].properties;if(c.cluster?i+c.point_count<=n?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r+1,o,n,i):i<n?i++:e.push(a[s]),e.length===o)break}return i},_addTileFeatures:function(e,t,r,o,n,i){for(var a=0;a<e.length;a++){var s=t[e[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*n-r)),Math.round(this.options.extent*(s.y*n-o))]],tags:s.numPoints?c(s):this.points[s.id].properties})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var r=[],o=this.options.radius/(this.options.extent*Math.pow(2,t)),n=0;n<e.length;n++){var a=e[n];if(!(a.zoom<=t)){a.zoom=t;var s=this.trees[t+1],c=s.within(a.x,a.y,o),l=a.numPoints||1,p=a.x*l,u=a.y*l,d=null;this.options.reduce&&(d=this.options.initial(),this._accumulate(d,a));for(var h=0;h<c.length;h++){var m=s.points[c[h]];if(t<m.zoom){var y=m.numPoints||1;m.zoom=t,p+=m.x*y,u+=m.y*y,l+=y,m.parentId=n,this.options.reduce&&this._accumulate(d,m)}}1===l?r.push(a):(a.parentId=n,r.push(i(p/l,u/l,l,n,d)))}}return r},_accumulate:function(e,t){var r=t.numPoints?t.properties:this.options.map(this.points[t.id].properties);this.options.reduce(e,r)}}},{kdbush:25}],33:[function(e,t,r){"use strict";function o(e,t){if(!(this instanceof o))return new o(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||n,this.length>0)for(var r=this.length>>1;r>=0;r--)this._down(r)}function n(e,t){return e<t?-1:e>t?1:0}t.exports=o,o.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,r=this.compare,o=t[e];e>0;){var n=e-1>>1,i=t[n];if(r(o,i)>=0)break;t[e]=i,e=n}t[e]=o},_down:function(e){for(var t=this.data,r=this.compare,o=this.length,n=o>>1,i=t[e];e<n;){var a=1+(e<<1),s=a+1,c=t[a];if(s<o&&r(t[s],c)<0&&(a=s,c=t[s]),r(c,i)>=0)break;t[e]=c,e=a}t[e]=i}}},{}],34:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],35:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],36:[function(e,r,o){(function(t,r){function n(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&o._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,e,r.depth)}function i(e,t){var r=n.styles[t];return r?"\x1b["+n.colors[r][0]+"m"+e+"\x1b["+n.colors[r][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==o.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return _(n)||(n=c(e,n,r)),n}var i=l(e,t);if(i)return i;var a=Object.keys(t),y=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),P(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(t);if(0===a.length){if(E(t)){var f=t.name?": "+t.name:"";return e.stylize("[Function"+f+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(P(t))return p(t)}var v="",g=!1,w=["{","}"];if(m(t)&&(g=!0,w=["[","]"]),E(t)&&(v=" [Function"+(t.name?": "+t.name:"")+"]"),x(t)&&(v=" "+RegExp.prototype.toString.call(t)),k(t)&&(v=" "+Date.prototype.toUTCString.call(t)),P(t)&&(v=" "+p(t)),0===a.length&&(!g||0==t.length))return w[0]+v+w[1];if(r<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var b;return b=g?u(e,t,r,y,a):a.map(function(o){return d(e,t,r,y,o,g)}),e.seen.pop(),h(b,v,w)}function l(e,t){if(b(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,o,n){for(var i=[],a=0,s=t.length;a<s;++a)R(t,String(a))?i.push(d(e,t,r,o,String(a),!0)):i.push("");return n.forEach(function(n){n.match(/^\d+$/)||i.push(d(e,t,r,o,n,!0))}),i}function d(e,t,r,o,n,i){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),R(o,n)||(a="["+n+"]"),s||(e.seen.indexOf(l.value)<0?(s=f(r)?c(e,l.value,null):c(e,l.value,r-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),b(a)){if(i&&n.match(/^\d+$/))return s;a=JSON.stringify(""+n),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,r){var o=0;return e.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function f(e){return null===e}function v(e){return null==e}function g(e){return"number"==typeof e}function _(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function b(e){return void 0===e}function x(e){return S(e)&&"[object RegExp]"===A(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===A(e)}function P(e){return S(e)&&("[object Error]"===A(e)||e instanceof Error)}function E(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var z=/%[sdj%]/g;o.format=function(e){if(!_(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(n(arguments[r]));return t.join(" ")}for(var r=1,o=arguments,i=o.length,a=String(e).replace(z,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(e){return"[Circular]"}default:return e}}),s=o[r];r<i;s=o[++r])f(s)||!S(s)?a+=" "+s:a+=" "+n(s);return a},o.deprecate=function(e,n){function i(){if(!a){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),a=!0}return e.apply(this,arguments)}if(b(r.process))return function(){return o.deprecate(e,n).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var O,j={};o.debuglog=function(e){if(b(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;j[e]=function(){var t=o.format.apply(o,arguments);console.error("%s %d: %s",e,r,t)}}else j[e]=function(){};return j[e]},o.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=m,o.isBoolean=y,o.isNull=f,o.isNullOrUndefined=v,o.isNumber=g,o.isString=_,o.isSymbol=w,o.isUndefined=b,o.isRegExp=x,o.isObject=S,o.isDate=k,o.isError=P,o.isFunction=E,o.isPrimitive=C,o.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];o.log=function(){console.log("%s - %s",M(),o.format.apply(o,arguments))},o.inherits=e("inherits"),o._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),o=r.length;o--;)e[r[o]]=t[r[o]];return e}}).call(this,e("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":35,_process:30,inherits:34}],37:[function(e,t,r){function o(e){var t=new h;return i(e,t),t.finish()}function n(e){var t={};for(var r in e)t[r]=new m(e[r].features),t[r].name=r;return o({layers:t})}function i(e,t){for(var r in e.layers)t.writeMessage(3,a,e.layers[r])}function a(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r,o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,s,o);var n=o.keys;for(r=0;r<n.length;r++)t.writeStringField(3,n[r]);var i=o.values;for(r=0;r<i.length;r++)t.writeMessage(4,d,i[r])}function s(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,c,e),t.writeVarintField(3,r.type),t.writeMessage(4,u,r)}function c(e,t){var r=e.feature,o=e.keys,n=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var c=i[s];void 0===c&&(o.push(s),c=o.length-1,i[s]=c),t.writeVarint(c);var l=r.properties[s],p=typeof l;"string"!==p&&"boolean"!==p&&"number"!==p&&(l=JSON.stringify(l));var u=p+":"+l,d=a[u];void 0===d&&(n.push(l),d=n.length-1,a[u]=d),t.writeVarint(d)}}function l(e,t){return(t<<3)+(7&e)}function p(e){return e<<1^e>>31}function u(e,t){for(var r=e.loadGeometry(),o=e.type,n=0,i=0,a=r.length,s=0;s<a;s++){var c=r[s],u=1;1===o&&(u=c.length),t.writeVarint(l(1,u));for(var d=0;d<c.length;d++){1===d&&1!==o&&t.writeVarint(l(2,c.length-1));var h=c[d].x-n,m=c[d].y-i;t.writeVarint(p(h)),t.writeVarint(p(m)),n+=h,i+=m}}}function d(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}var h=e("pbf"),m=e("./lib/geojson_wrapper");t.exports=o,t.exports.fromVectorTileJs=o,t.exports.fromGeojsonVt=n,t.exports.GeoJSONWrapper=m},{"./lib/geojson_wrapper":38,pbf:29}],38:[function(e,t,r){"use strict";function o(e){this.features=e,this.length=e.length}function n(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var i=e("@mapbox/point-geometry"),a=e("@mapbox/vector-tile").VectorTileFeature;t.exports=o,o.prototype.feature=function(e){return new n(this.features[e])},n.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],n=0;n<r.length;n++)o.push(new i(r[n][0],r[n][1]));this.geometry.push(o)}return this.geometry},n.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,n=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var c=a[s];t=Math.min(t,c.x),r=Math.max(r,c.x),o=Math.min(o,c.y),n=Math.max(n,c.y)}return[t,o,r,n]},n.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],39:[function(e,t,r){var o=arguments[3],n=arguments[4],i=arguments[5],a=JSON.stringify;t.exports=function(e,t){function r(e){f[e]=!0;for(var t in n[e][1]){var o=n[e][1][t];f[o]||r(o)}}for(var s,c=Object.keys(i),l=0,p=c.length;l<p;l++){var u=c[l],d=i[u].exports;if(d===e||d&&d.default===e){s=u;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},l=0,p=c.length;l<p;l++){var u=c[l];h[u]=u}n[s]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var m=Math.floor(Math.pow(16,8)*Math.random()).toString(16),y={};y[s]=s,n[m]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),y];var f={};r(m);var v="("+o+")({"+Object.keys(f).map(function(e){return a(e)+":["+n[e][0]+","+a(n[e][1])+"]"}).join(",")+"},{},["+a(m)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([v],{type:"text/javascript"});if(t&&t.bare)return _;var w=g.createObjectURL(_),b=new Worker(w);return b.objectURL=w,b}},{}],40:[function(e,t,r){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],41:[function(e,t,r){t.exports={version:"0.43.0"}},{}],42:[function(e,t,r){"use strict";var o=e("../util/struct_array"),n=o.StructArray,i=e("../util/struct_array"),a=i.Struct,s=e("../util/web_worker_transfer"),c=s.register,l=e("@mapbox/point-geometry"),p=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.int16[o+0]=e,this.int16[o+1]=t,r},t}(n);p.prototype.bytesPerElement=4,c("StructArrayLayout2i4",p);var u=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o){var n=this.length;this.resize(n+1);var i=4*n;return this.int16[i+0]=e,this.int16[i+1]=t,this.int16[i+2]=r,this.int16[i+3]=o,n},t}(n);u.prototype.bytesPerElement=8,c("StructArrayLayout4i8",u);var d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=n,this.int16[s+5]=i,a},t}(n);d.prototype.bytesPerElement=12,c("StructArrayLayout2i4i12",d);var h=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s){var c=this.length;this.resize(c+1);var l=6*c,p=12*c;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=r,this.int16[l+3]=o,this.uint8[p+8]=n,this.uint8[p+9]=i,this.uint8[p+10]=a,this.uint8[p+11]=s,c},t}(n);h.prototype.bytesPerElement=12,c("StructArrayLayout4i4ub12",h);var m=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s){var c=this.length;this.resize(c+1);var l=8*c;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=r,this.int16[l+3]=o,this.uint16[l+4]=n,this.uint16[l+5]=i,this.uint16[l+6]=a,this.uint16[l+7]=s,c},t}(n);m.prototype.bytesPerElement=16,c("StructArrayLayout4i4ui16",m);var y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.float32[n+0]=e,this.float32[n+1]=t,this.float32[n+2]=r,o},t}(n);y.prototype.bytesPerElement=12,c("StructArrayLayout3f12",y);var f=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var r=1*t;return this.uint32[r+0]=e,t},t}(n);f.prototype.bytesPerElement=4,c("StructArrayLayout1ul4",f);var v=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s,c,l,p){var u=this.length;this.resize(u+1);var d=12*u,h=6*u;return this.int16[d+0]=e,this.int16[d+1]=t,this.int16[d+2]=r,this.int16[d+3]=o,this.int16[d+4]=n,this.int16[d+5]=i,this.uint32[h+3]=a,this.uint16[d+8]=s,this.uint16[d+9]=c,this.int16[d+10]=l,this.int16[d+11]=p,u},t}(n);v.prototype.bytesPerElement=24,c("StructArrayLayout6i1ul2ui2i24",v);var g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=n,this.int16[s+5]=i,a},t}(n);g.prototype.bytesPerElement=12,c("StructArrayLayout2i2i2i12",g);var _=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=4*r;return this.uint8[o+0]=e,this.uint8[o+1]=t,r},t}(n);_.prototype.bytesPerElement=4,c("StructArrayLayout2ub4",_);var w=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h){var m=this.length;this.resize(m+1);var y=20*m,f=10*m,v=40*m;return this.int16[y+0]=e,this.int16[y+1]=t,this.uint16[y+2]=r,this.uint16[y+3]=o,this.uint32[f+2]=n,this.uint32[f+3]=i,this.uint32[f+4]=a,this.uint16[y+10]=s,this.uint16[y+11]=c,this.uint16[y+12]=l,this.float32[f+7]=p,this.float32[f+8]=u,this.uint8[v+36]=d,this.uint8[v+37]=h,m},t}(n);w.prototype.bytesPerElement=40,c("StructArrayLayout2i2ui3ul3ui2f2ub40",w);var b=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var r=1*t;return this.float32[r+0]=e,t},t}(n);b.prototype.bytesPerElement=4,c("StructArrayLayout1f4",b);var x=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.int16[n+0]=e,this.int16[n+1]=t,this.int16[n+2]=r,o},t}(n);x.prototype.bytesPerElement=6,c("StructArrayLayout3i6",x);var S=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=2*o,i=4*o;return this.uint32[n+0]=e,this.uint16[i+2]=t,this.uint16[i+3]=r,o},t}(n);S.prototype.bytesPerElement=8,c("StructArrayLayout1ul2ui8",S);var k=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.uint16[n+0]=e,this.uint16[n+1]=t,this.uint16[n+2]=r,o},t}(n);k.prototype.bytesPerElement=6,c("StructArrayLayout3ui6",k);var P=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.uint16[o+0]=e,this.uint16[o+1]=t,r},t}(n);P.prototype.bytesPerElement=4,c("StructArrayLayout2ui4",P);var E=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.float32[o+0]=e,this.float32[o+1]=t,r},t}(n);E.prototype.bytesPerElement=8,c("StructArrayLayout2f8",E);var C=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o){var n=this.length;this.resize(n+1);var i=4*n;return this.float32[i+0]=e,this.float32[i+1]=t,this.float32[i+2]=r,this.float32[i+3]=o,n},t}(n);C.prototype.bytesPerElement=16,c("StructArrayLayout4f16",C);var A=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new l(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(a);A.prototype.size=24;var T=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new A(this,e)},t}(v);c("CollisionBoxArray",T);var M=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},Object.defineProperties(t.prototype,r),t}(a);M.prototype.size=40;var R=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new M(this,e)},t}(w);c("PlacedSymbolArray",R);var z=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(a);z.prototype.size=4;var O=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new z(this,e)},t}(b);c("GlyphOffsetArray",O);var j=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{},y:{},tileUnitDistanceFromAnchor:{}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(a);j.prototype.size=6;var N=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new j(this,e)},t}(x);c("SymbolLineVertexArray",N);var F=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(a);F.prototype.size=8;var I=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new F(this,e)},t}(S);c("FeatureIndexArray",I),t.exports={StructArrayLayout2i4:p,StructArrayLayout4i8:u,StructArrayLayout2i4i12:d,StructArrayLayout4i4ub12:h,StructArrayLayout4i4ui16:m,StructArrayLayout3f12:y,StructArrayLayout1ul4:f,StructArrayLayout6i1ul2ui2i24:v,StructArrayLayout2i2i2i12:g,StructArrayLayout2ub4:_,StructArrayLayout2i2ui3ul3ui2f2ub40:w,StructArrayLayout1f4:b,StructArrayLayout3i6:x,StructArrayLayout1ul2ui8:S,StructArrayLayout3ui6:k,StructArrayLayout2ui4:P,StructArrayLayout2f8:E,StructArrayLayout4f16:C,PosArray:p,RasterBoundsArray:u,CircleLayoutArray:p,FillLayoutArray:p,FillExtrusionLayoutArray:d,HeatmapLayoutArray:p,LineLayoutArray:h,SymbolLayoutArray:m,SymbolDynamicLayoutArray:y,SymbolOpacityArray:f,CollisionBoxLayoutArray:g,CollisionCircleLayoutArray:g,CollisionVertexArray:_,TriangleIndexArray:k,LineIndexArray:P,CollisionBoxArray:T,PlacedSymbolArray:R,GlyphOffsetArray:O,SymbolLineVertexArray:N,FeatureIndexArray:I}},{"../util/struct_array":281,"../util/web_worker_transfer":288,"@mapbox/point-geometry":4}],43:[function(e,t,r){"use strict";t.exports={deserialize:function(e,t){var r={};if(!t)return r;for(var o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==a.length){i.layers=a;for(var s=0,c=a;s<c.length;s+=1)r[c[s].id]=i}}return r}}},{}],44:[function(e,t,r){"use strict";var o=e("../../util/struct_array"),n=o.createLayout;t.exports=n([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":281}],45:[function(e,t,r){"use strict";function o(e,t,r,o,n){e.emplaceBack(2*t+(o+1)/2,2*r+(n+1)/2)}var n=e("../array_types"),i=n.CircleLayoutArray,a=e("./circle_attributes").members,s=e("../segment"),c=s.SegmentVector,l=e("../program_configuration"),p=l.ProgramConfigurationSet,u=e("../index_array_type"),d=u.TriangleIndexArray,h=e("../load_geometry"),m=e("../extent"),y=e("../../util/web_worker_transfer"),f=y.register,v=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new d,this.segments=new c,this.programConfigurations=new p(a,e.layers,e.zoom)};v.prototype.populate=function(e,t){for(var r=this,o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.feature,s=i.index,c=i.sourceLayerIndex;if(r.layers[0]._featureFilter({zoom:r.zoom},a)){var l=h(a);r.addFeature(a,l),t.featureIndex.insert(a,l,s,c,r.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},v.prototype.addFeature=function(e,t){for(var r=this,n=0,i=t;n<i.length;n+=1)for(var a=i[n],s=0,c=a;s<c.length;s+=1){var l=c[s],p=l.x,u=l.y;if(!(p<0||p>=m||u<0||u>=m)){var d=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),h=d.vertexLength;o(r.layoutVertexArray,p,u,-1,-1),o(r.layoutVertexArray,p,u,1,-1),o(r.layoutVertexArray,p,u,1,1),o(r.layoutVertexArray,p,u,-1,1),r.indexArray.emplaceBack(h,h+1,h+2),r.indexArray.emplaceBack(h,h+3,h+2),d.vertexLength+=4,d.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},f("CircleBucket",v,{omit:["layers"]}),t.exports=v},{"../../util/web_worker_transfer":288,"../array_types":42,"../extent":56,"../index_array_type":58,"../load_geometry":59,"../program_configuration":61,"../segment":63,"./circle_attributes":44}],46:[function(e,t,r){arguments[4][44][0].apply(r,arguments)},{"../../util/struct_array":281,dup:44}],47:[function(e,t,r){"use strict";var o=e("../array_types"),n=o.FillLayoutArray,i=e("./fill_attributes").members,a=e("../segment"),s=a.SegmentVector,c=e("../program_configuration"),l=c.ProgramConfigurationSet,p=e("../index_array_type"),u=p.LineIndexArray,d=p.TriangleIndexArray,h=e("../load_geometry"),m=e("earcut"),y=e("../../util/classify_rings"),f=e("../../util/web_worker_transfer"),v=f.register,g=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new n,this.indexArray=new d,this.indexArray2=new u,this.programConfigurations=new l(i,e.layers,e.zoom),this.segments=new s,this.segments2=new s};g.prototype.populate=function(e,t){for(var r=this,o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.feature,s=i.index,c=i.sourceLayerIndex;if(r.layers[0]._featureFilter({zoom:r.zoom},a)){var l=h(a);r.addFeature(a,l),t.featureIndex.insert(a,l,s,c,r.index)}}},g.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},g.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,i),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(e)},g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},g.prototype.addFeature=function(e,t){for(var r=this,o=0,n=y(t,500);o<n.length;o+=1){for(var i=n[o],a=0,s=0,c=i;s<c.length;s+=1)a+=c[s].length;for(var l=r.segments.prepareSegment(a,r.layoutVertexArray,r.indexArray),p=l.vertexLength,u=[],d=[],h=0,f=i;h<f.length;h+=1){var v=f[h];if(0!==v.length){v!==i[0]&&d.push(u.length/2);var g=r.segments2.prepareSegment(v.length,r.layoutVertexArray,r.indexArray2),_=g.vertexLength;r.layoutVertexArray.emplaceBack(v[0].x,v[0].y),r.indexArray2.emplaceBack(_+v.length-1,_),u.push(v[0].x),u.push(v[0].y);for(var w=1;w<v.length;w++)r.layoutVertexArray.emplaceBack(v[w].x,v[w].y),r.indexArray2.emplaceBack(_+w-1,_+w),u.push(v[w].x),u.push(v[w].y);g.vertexLength+=v.length,g.primitiveLength+=v.length}}for(var b=m(u,d),x=0;x<b.length;x+=3)r.indexArray.emplaceBack(p+b[x],p+b[x+1],p+b[x+2]);l.vertexLength+=a,l.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},v("FillBucket",g,{omit:["layers"]}),t.exports=g},{"../../util/classify_rings":266,"../../util/web_worker_transfer":288,"../array_types":42,"../index_array_type":58,"../load_geometry":59,"../program_configuration":61,"../segment":63,"./fill_attributes":46,earcut:13}],48:[function(e,t,r){"use strict";var o=e("../../util/struct_array"),n=o.createLayout;t.exports=n([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":281}],49:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,a,s){e.emplaceBack(t,r,2*Math.floor(o*x)+a,n*x*2,i*x*2,Math.round(s))}function n(e,t){return e.x===t.x&&(e.x<0||e.x>v)||e.y===t.y&&(e.y<0||e.y>v)}function i(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>v})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>v})}var a=e("../array_types"),s=a.FillExtrusionLayoutArray,c=e("./fill_extrusion_attributes").members,l=e("../segment"),p=l.SegmentVector,u=l.MAX_VERTEX_ARRAY_LENGTH,d=e("../program_configuration"),h=d.ProgramConfigurationSet,m=e("../index_array_type"),y=m.TriangleIndexArray,f=e("../load_geometry"),v=e("../extent"),g=e("earcut"),_=e("../../util/classify_rings"),w=e("../../util/web_worker_transfer"),b=w.register,x=Math.pow(2,13),S=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new s,this.indexArray=new y,this.programConfigurations=new h(c,e.layers,e.zoom),this.segments=new p};S.prototype.populate=function(e,t){for(var r=this,o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.feature,s=i.index,c=i.sourceLayerIndex;if(r.layers[0]._featureFilter({zoom:r.zoom},a)){var l=f(a);r.addFeature(a,l),t.featureIndex.insert(a,l,s,c,r.index)}}},S.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},S.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,c),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},S.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},S.prototype.addFeature=function(e,t){for(var r=this,a=0,s=_(t,500);a<s.length;a+=1){for(var c=s[a],l=0,p=0,d=c;p<d.length;p+=1)l+=d[p].length;for(var h=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),m=0,y=c;m<y.length;m+=1){var f=y[m];if(0!==f.length&&!i(f))for(var v=0,w=0;w<f.length;w++){var b=f[w];if(w>=1){var x=f[w-1];if(!n(b,x)){h.vertexLength+4>u&&(h=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray));var S=b.sub(x)._perp()._unit(),k=x.dist(b);v+k>32768&&(v=0),o(r.layoutVertexArray,b.x,b.y,S.x,S.y,0,0,v),o(r.layoutVertexArray,b.x,b.y,S.x,S.y,0,1,v),v+=k,o(r.layoutVertexArray,x.x,x.y,S.x,S.y,0,0,v),o(r.layoutVertexArray,x.x,x.y,S.x,S.y,0,1,v);var P=h.vertexLength;r.indexArray.emplaceBack(P,P+1,P+2),r.indexArray.emplaceBack(P+1,P+2,P+3),h.vertexLength+=4,h.primitiveLength+=2}}}}h.vertexLength+l>u&&(h=r.segments.prepareSegment(l,r.layoutVertexArray,r.indexArray));for(var E=[],C=[],A=h.vertexLength,T=0,M=c;T<M.length;T+=1){var R=M[T];if(0!==R.length){R!==c[0]&&C.push(E.length/2);for(var z=0;z<R.length;z++){var O=R[z];o(r.layoutVertexArray,O.x,O.y,0,0,1,1,0),E.push(O.x),E.push(O.y)}}}for(var j=g(E,C),N=0;N<j.length;N+=3)r.indexArray.emplaceBack(A+j[N],A+j[N+1],A+j[N+2]);h.primitiveLength+=j.length/3,h.vertexLength+=l}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},b("FillExtrusionBucket",S,{omit:["layers"]}),t.exports=S},{"../../util/classify_rings":266,"../../util/web_worker_transfer":288,"../array_types":42,"../extent":56,"../index_array_type":58,"../load_geometry":59,"../program_configuration":61,"../segment":63,"./fill_extrusion_attributes":48,earcut:13}],50:[function(e,t,r){"use strict";var o=e("./circle_bucket"),n=e("../../util/web_worker_transfer"),i=n.register,a=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o);i("HeatmapBucket",a,{omit:["layers"]}),t.exports=a},{"../../util/web_worker_transfer":288,"./circle_bucket":45}],51:[function(e,t,r){"use strict";var o=e("../../util/struct_array"),n=o.createLayout;t.exports=n([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":281}],52:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,a){e.emplaceBack(t.x,t.y,o?1:0,n?1:-1,Math.round(g*r.x)+128,Math.round(g*r.y)+128,1+(0===i?0:i<0?-1:1)|(a*w&63)<<2,a*w>>6)}var n=e("../array_types"),i=n.LineLayoutArray,a=e("./line_attributes").members,s=e("../segment"),c=s.SegmentVector,l=e("../program_configuration"),p=l.ProgramConfigurationSet,u=e("../index_array_type"),d=u.TriangleIndexArray,h=e("../load_geometry"),m=e("../extent"),y=e("@mapbox/vector-tile").VectorTileFeature.types,f=e("../../util/web_worker_transfer"),v=f.register,g=63,_=Math.cos(Math.PI/180*37.5),w=.5,b=Math.pow(2,14)/w,x=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new d,this.programConfigurations=new p(a,e.layers,e.zoom),this.segments=new c};x.prototype.populate=function(e,t){for(var r=this,o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.feature,s=i.index,c=i.sourceLayerIndex;if(r.layers[0]._featureFilter({zoom:r.zoom},a)){var l=h(a);r.addFeature(a,l),t.featureIndex.insert(a,l,s,c,r.index)}}},x.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},x.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},x.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},x.prototype.addFeature=function(e,t){for(var r=this,o=this.layers[0].layout,n=o.get("line-join").evaluate(e),i=o.get("line-cap"),a=o.get("line-miter-limit"),s=o.get("line-round-limit"),c=0,l=t;c<l.length;c+=1){var p=l[c];r.addLine(p,e,n,i,a,s)}},x.prototype.addLine=function(e,t,r,o,n,i){for(var a=this,s="Polygon"===y[t.type],c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var l=0;l<c-1&&e[l].equals(e[l+1]);)l++;if(!(c<(s?3:2))){"bevel"===r&&(n=1.05);var p=m/(512*this.overscaling)*15,u=e[l],d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var h,f,v,g=o,w=s?"butt":o,b=!0,x=void 0,S=void 0,k=void 0,P=void 0;this.e1=this.e2=this.e3=-1,s&&(h=e[c-2],P=u.sub(h)._unit()._perp());for(var E=l;E<c;E++)if(!(S=s&&E===c-1?e[l+1]:e[E+1])||!e[E].equals(S)){P&&(k=P),h&&(x=h),h=e[E],P=S?S.sub(h)._unit()._perp():k,k=k||P;var C=k.add(P);0===C.x&&0===C.y||C._unit();var A=C.x*P.x+C.y*P.y,T=0!==A?1/A:1/0,M=A<_&&x&&S;if(M&&E>l){var R=h.dist(x);if(R>2*p){var z=h.sub(h.sub(x)._mult(p/R)._round());a.distance+=z.dist(x),a.addCurrentVertex(z,a.distance,k.mult(1),0,0,!1,d),x=z}}var O=x&&S,j=O?r:S?g:w;if(O&&"round"===j&&(T<i?j="miter":T<=2&&(j="fakeround")),"miter"===j&&T>n&&(j="bevel"),"bevel"===j&&(T>2&&(j="flipbevel"),T<n&&(j="miter")),x&&(a.distance+=h.dist(x)),"miter"===j)C._mult(T),a.addCurrentVertex(h,a.distance,C,0,0,!1,d);else if("flipbevel"===j){if(T>100)C=P.clone().mult(-1);else{var N=k.x*P.y-k.y*P.x>0?-1:1,F=T*k.add(P).mag()/k.sub(P).mag();C._perp()._mult(F*N)}a.addCurrentVertex(h,a.distance,C,0,0,!1,d),a.addCurrentVertex(h,a.distance,C.mult(-1),0,0,!1,d)}else if("bevel"===j||"fakeround"===j){var I=k.x*P.y-k.y*P.x>0,B=-Math.sqrt(T*T-1);if(I?(v=0,f=B):(f=0,v=B),b||a.addCurrentVertex(h,a.distance,k,f,v,!1,d),"fakeround"===j){for(var D=Math.floor(8*(.5-(A-.5))),L=void 0,q=0;q<D;q++)L=P.mult((q+1)/(D+1))._add(k)._unit(),a.addPieSliceVertex(h,a.distance,L,I,d);a.addPieSliceVertex(h,a.distance,C,I,d);for(var U=D-1;U>=0;U--)L=k.mult((U+1)/(D+1))._add(P)._unit(),a.addPieSliceVertex(h,a.distance,L,I,d)}S&&a.addCurrentVertex(h,a.distance,P,-f,-v,!1,d)}else"butt"===j?(b||a.addCurrentVertex(h,a.distance,k,0,0,!1,d),S&&a.addCurrentVertex(h,a.distance,P,0,0,!1,d)):"square"===j?(b||(a.addCurrentVertex(h,a.distance,k,1,1,!1,d),a.e1=a.e2=-1),S&&a.addCurrentVertex(h,a.distance,P,-1,-1,!1,d)):"round"===j&&(b||(a.addCurrentVertex(h,a.distance,k,0,0,!1,d),a.addCurrentVertex(h,a.distance,k,1,1,!0,d),a.e1=a.e2=-1),S&&(a.addCurrentVertex(h,a.distance,P,-1,-1,!0,d),a.addCurrentVertex(h,a.distance,P,0,0,!1,d)));if(M&&E<c-1){var W=h.dist(S);if(W>2*p){var V=h.add(S.sub(h)._mult(p/W)._round());a.distance+=V.dist(h),a.addCurrentVertex(V,a.distance,P.mult(1),0,0,!1,d),h=V}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}},x.prototype.addCurrentVertex=function(e,t,r,n,i,a,s){var c,l=this.layoutVertexArray,p=this.indexArray;c=r.clone(),n&&c._sub(r.perp()._mult(n)),o(l,e,c,a,!1,n,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,c=r.mult(-1),i&&c._sub(r.perp()._mult(i)),o(l,e,c,a,!0,-i,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>b/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,n,i,a,s))},x.prototype.addPieSliceVertex=function(e,t,r,n,i){r=r.mult(n?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o(a,e,r,!1,n,0,t),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},v("LineBucket",x,{omit:["layers"]}),t.exports=x},{"../../util/web_worker_transfer":288,"../array_types":42,"../extent":56,"../index_array_type":58,"../load_geometry":59,"../program_configuration":61,"../segment":63,"./line_attributes":51,"@mapbox/vector-tile":8}],53:[function(e,t,r){"use strict";var o=e("../../util/struct_array"),n=o.createLayout,i=n([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),a=n([{name:"a_projected_pos",components:3,type:"Float32"}],4),s=n([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),c=n([{name:"a_placed",components:2,type:"Uint8"}],4),l={symbolLayoutAttributes:i,dynamicLayoutAttributes:a,placementOpacityAttributes:s,collisionVertexAttributes:c,collisionBox:n([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:n([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:n([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:n([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:n([{type:"Float32",name:"offsetX"}]),lineVertex:n([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};t.exports=l},{"../../util/struct_array":281}],54:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,a,s){e.emplaceBack(t,r,Math.round(64*o),Math.round(64*n),i,a,s?s[0]:void 0,s?s[1]:void 0)}function n(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}var i=e("./symbol_attributes"),a=i.symbolLayoutAttributes,s=i.collisionVertexAttributes,c=i.collisionBoxLayout,l=i.collisionCircleLayout,p=i.dynamicLayoutAttributes,u=e("../array_types"),d=u.SymbolLayoutArray,h=u.SymbolDynamicLayoutArray,m=u.SymbolOpacityArray,y=u.CollisionBoxLayoutArray,f=u.CollisionCircleLayoutArray,v=u.CollisionVertexArray,g=u.PlacedSymbolArray,_=u.GlyphOffsetArray,w=u.SymbolLineVertexArray,b=e("@mapbox/point-geometry"),x=e("../segment"),S=x.SegmentVector,k=e("../program_configuration"),P=k.ProgramConfigurationSet,E=e("../index_array_type"),C=E.TriangleIndexArray,A=E.LineIndexArray,T=e("../../symbol/transform_text"),M=e("../../symbol/mergelines"),R=e("../../util/script_detection"),z=e("../load_geometry"),O=e("@mapbox/vector-tile").VectorTileFeature.types,j=e("../../util/verticalize_punctuation"),N=(e("../../symbol/anchor"),e("../../symbol/opacity_state"),e("../../symbol/symbol_size")),F=N.getSizeData,I=e("../../util/web_worker_transfer"),B=I.register,D=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],L={text:{LayoutArray:d,layoutAttributes:a.members,IndexArray:C,dynamicLayout:!0,opacity:!0,collision:!1},icon:{LayoutArray:d,layoutAttributes:a.members,IndexArray:C,dynamicLayout:!0,opacity:!0,collision:!1},collisionBox:{LayoutArray:y,layoutAttributes:c.members,IndexArray:A,dynamicLayout:!1,opacity:!1,collision:!0},collisionCircle:{LayoutArray:f,layoutAttributes:l.members,IndexArray:C,dynamicLayout:!1,opacity:!1,collision:!0}},q=function(e,t){this.layoutVertexArray=new e.LayoutArray,this.layoutAttributes=e.layoutAttributes,this.indexArray=new e.IndexArray,this.programConfigurations=t,this.segments=new S,e.dynamicLayout&&(this.dynamicLayoutVertexArray=new h),e.opacity&&(this.opacityVertexArray=new m),e.collision&&(this.collisionVertexArray=new v)};q.prototype.upload=function(e,t){void 0===t&&(t=!1),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.programConfigurations.upload(e),this.dynamicLayoutVertexArray&&(this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,p.members,!0)),this.opacityVertexArray&&(this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,D,!0),this.opacityVertexBuffer.itemSize=1),this.collisionVertexArray&&(this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,s.members,!0))},q.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer&&this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer&&this.opacityVertexBuffer.destroy(),this.collisionVertexBuffer&&this.collisionVertexBuffer.destroy())},B("SymbolBuffers",q);var U=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio;var t=this.layers[0],r=t._unevaluatedLayout._values;this.textSizeData=F(this.zoom,r["text-size"]),this.iconSizeData=F(this.zoom,r["icon-size"]);var o=this.layers[0].layout;this.sortFeaturesByY=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement")};U.prototype.createArrays=function(){this.text=new q(L.text,new P(a.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new q(L.icon,new P(a.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new q(L.collisionBox,new P(c.members,this.layers,this.zoom,function(){return!1})),this.collisionCircle=new q(L.collisionCircle,new P(l.members,this.layers,this.zoom,function(){return!1})),this.placedGlyphArray=new g,this.placedIconArray=new g,this.glyphOffsetArray=new _,this.lineVertexArray=new w},U.prototype.populate=function(e,t){var r=this,o=this.layers[0],n=o.layout,i=n.get("text-font"),a=n.get("text-field"),s=n.get("icon-image"),c=("constant"!==a.value.kind||a.value.value.length>0)&&("constant"!==i.value.kind||i.value.value.length>0),l="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],c||l){for(var p=t.iconDependencies,u=t.glyphDependencies,d={zoom:this.zoom},h=0,m=e;h<m.length;h+=1){var y=m[h],f=y.feature,v=y.index,g=y.sourceLayerIndex;if(o._featureFilter(d,f)){var _=void 0;c&&(_=o.getValueAndResolveTokens("text-field",f),_=T(_,o,f));var w=void 0;if(l&&(w=o.getValueAndResolveTokens("icon-image",f)),_||w){var b={text:_,icon:w,index:v,sourceLayerIndex:g,geometry:z(f),properties:f.properties,type:O[f.type]};if(void 0!==f.id&&(b.id=f.id),r.features.push(b),w&&(p[w]=!0),_)for(var x=i.evaluate(f).join(","),S=u[x]=u[x]||{},k="map"===n.get("text-rotation-alignment")&&"line"===n.get("symbol-placement"),P=R.allowsVerticalWritingMode(_),E=0;E<_.length;E++)if(S[_.charCodeAt(E)]=!0,k&&P){var C=j.lookup[_.charAt(E)];C&&(S[C.charCodeAt(0)]=!0)}}}}"line"===n.get("symbol-placement")&&(this.features=M(this.features))}},U.prototype.isEmpty=function(){return 0===this.symbolInstances.length},U.prototype.upload=function(e){this.text.upload(e,this.sortFeaturesByY),this.icon.upload(e,this.sortFeaturesByY),this.collisionBox.upload(e),this.collisionCircle.upload(e)},U.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},U.prototype.addToLineVertexArray=function(e,t){var r=this,o=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},s=e.segment+1;s<t.length;s++)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:n},s<t.length-1&&(n+=t[s+1].dist(t[s]));for(var c=e.segment||0;c>=0;c--)a[c]={x:t[c].x,y:t[c].y,tileUnitDistanceFromAnchor:i},c>0&&(i+=t[c-1].dist(t[c]));for(var l=0;l<t.length;l++){var p=a[l];r.lineVertexArray.emplaceBack(p.x,p.y,p.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}},U.prototype.addSymbols=function(e,t,r,i,a,s,c,l,p,u,d){for(var h=this,m=e.indexArray,y=e.layoutVertexArray,f=e.dynamicLayoutVertexArray,v=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray),g=this.glyphOffsetArray.length,_=v.vertexLength,w=0,b=t;w<b.length;w+=1){var x=b[w],S=x.tl,k=x.tr,P=x.bl,E=x.br,C=x.tex,A=v.vertexLength,T=x.glyphOffset[1];o(y,l.x,l.y,S.x,T+S.y,C.x,C.y,r),o(y,l.x,l.y,k.x,T+k.y,C.x+C.w,C.y,r),o(y,l.x,l.y,P.x,T+P.y,C.x,C.y+C.h,r),o(y,l.x,l.y,E.x,T+E.y,C.x+C.w,C.y+C.h,r),n(f,l,0),m.emplaceBack(A,A+1,A+2),m.emplaceBack(A+1,A+2,A+3),v.vertexLength+=4,v.primitiveLength+=2,h.glyphOffsetArray.emplaceBack(x.glyphOffset[0])}d.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,_,p,u,l.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],c,!1),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,s)},U.prototype._addCollisionDebugVertex=function(e,t,r,o,n){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,o.x,o.y,Math.round(n.x),Math.round(n.y))},U.prototype.addCollisionDebugVertices=function(e,t,r,o,n,i,a,s){var c=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=c.vertexLength,p=n.layoutVertexArray,u=n.collisionVertexArray;if(this._addCollisionDebugVertex(p,u,i,a.anchor,new b(e,t)),this._addCollisionDebugVertex(p,u,i,a.anchor,new b(r,t)),this._addCollisionDebugVertex(p,u,i,a.anchor,new b(r,o)),this._addCollisionDebugVertex(p,u,i,a.anchor,new b(e,o)),c.vertexLength+=4,s){var d=n.indexArray;d.emplaceBack(l,l+1,l+2),d.emplaceBack(l,l+2,l+3),c.primitiveLength+=2}else{var h=n.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),c.primitiveLength+=4}},U.prototype.generateCollisionDebugBuffers=function(){for(var e=this,t=0,r=e.symbolInstances;t<r.length;t+=1){var o=r[t];o.textCollisionFeature={boxStartIndex:o.textBoxStartIndex,boxEndIndex:o.textBoxEndIndex},o.iconCollisionFeature={boxStartIndex:o.iconBoxStartIndex,boxEndIndex:o.iconBoxEndIndex};for(var n=0;n<2;n++){var i=o[0===n?"textCollisionFeature":"iconCollisionFeature"];if(i)for(var a=i.boxStartIndex;a<i.boxEndIndex;a++){var s=e.collisionBoxArray.get(a),c=s.x1,l=s.y1,p=s.x2,u=s.y2,d=s.radius>0;e.addCollisionDebugVertices(c,l,p,u,d?e.collisionCircle:e.collisionBox,s.anchorPoint,o,d)}}}},U.prototype.deserializeCollisionBoxes=function(e,t,r,o,n){for(var i={},a=t;a<r;a++){var s=e.get(a);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}i.textCircles||(i.textCircles=[]),i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var c=o;c<n;c++){var l=e.get(c);if(0===l.radius){i.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY};break}}return i},U.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var r=[],o=0;o<this.symbolInstances.length;o++)r.push(o);var n=Math.sin(e),i=Math.cos(e);r.sort(function(e,r){var o=t.symbolInstances[e],a=t.symbolInstances[r];return(n*o.anchor.x+i*o.anchor.y|0)-(n*a.anchor.x+i*a.anchor.y|0)||a.featureIndex-o.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=r;a<s.length;a+=1){for(var c=s[a],l=t.symbolInstances[c],p=0,u=l.placedTextSymbolIndices;p<u.length;p+=1)for(var d=u[p],h=t.placedGlyphArray.get(d),m=h.vertexStartIndex+4*h.numGlyphs,y=h.vertexStartIndex;y<m;y+=4)t.text.indexArray.emplaceBack(y,y+1,y+2),t.text.indexArray.emplaceBack(y+1,y+2,y+3);var f=t.placedIconArray.get(c);if(f.numGlyphs){var v=f.vertexStartIndex;t.icon.indexArray.emplaceBack(v,v+1,v+2),t.icon.indexArray.emplaceBack(v+1,v+2,v+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},B("SymbolBucket",U,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),U.MAX_GLYPHS=65535,U.addDynamicAttributes=n,t.exports=U},{"../../symbol/anchor":224,"../../symbol/mergelines":232,"../../symbol/opacity_state":233,"../../symbol/symbol_size":239,"../../symbol/transform_text":240,"../../util/script_detection":279,"../../util/verticalize_punctuation":287,"../../util/web_worker_transfer":288,"../array_types":42,"../index_array_type":58,"../load_geometry":59,"../program_configuration":61,"../segment":63,"./symbol_attributes":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],55:[function(e,t,r){"use strict";var o=e("../util/image"),n=o.RGBAImage,i=e("../util/util"),a=e("../util/web_worker_transfer"),s=a.register,c=function(e,t,r){if(e<=0)throw new RangeError("Level must have positive dimension");this.dim=e,this.border=t,this.stride=this.dim+2*this.border,this.data=r||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};c.prototype.set=function(e,t,r){this.data[this._idx(e,t)]=r+65536},c.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},c.prototype._idx=function(e,t){if(e<-this.border||e>=this.dim+this.border||t<-this.border||t>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(t+this.border)*this.stride+(e+this.border)},s("Level",c);var l=function(e,t,r){this.uid=e,this.scale=t||1,this.level=r||new c(256,512),this.loaded=!!r};l.prototype.loadFromImage=function(e){var t=this;if(e.height!==e.width)throw new RangeError("DEM tiles must be square");for(var r=this.level=new c(e.width,e.width/2),o=e.data,n=0;n<r.dim;n++)for(var i=0;i<r.dim;i++){var a=n*r.dim+i,s=4*a;r.set(i,n,t.scale*((256*o[s]*256+256*o[s+1]+o[s+2])/10-1e4))}for(var l=0;l<r.dim;l++)r.set(-1,l,r.get(0,l)),r.set(r.dim,l,r.get(r.dim-1,l)),r.set(l,-1,r.get(l,0)),r.set(l,r.dim,r.get(l,r.dim-1));r.set(-1,-1,r.get(0,0)),r.set(r.dim,-1,r.get(r.dim-1,0)),r.set(-1,r.dim,r.get(0,r.dim-1)),r.set(r.dim,r.dim,r.get(r.dim-1,r.dim-1)),this.loaded=!0},l.prototype.getPixels=function(){return new n({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},l.prototype.backfillBorder=function(e,t,r){var o=this.level,n=e.level;if(o.dim!==n.dim)throw new Error("level mismatch (dem dimension)");var a=t*o.dim,s=t*o.dim+o.dim,c=r*o.dim,l=r*o.dim+o.dim;switch(t){case-1:a=s-1;break;case 1:s=a+1}switch(r){case-1:c=l-1;break;case 1:l=c+1}for(var p=i.clamp(a,-o.border,o.dim+o.border),u=i.clamp(s,-o.border,o.dim+o.border),d=i.clamp(c,-o.border,o.dim+o.border),h=i.clamp(l,-o.border,o.dim+o.border),m=-t*o.dim,y=-r*o.dim,f=d;f<h;f++)for(var v=p;v<u;v++)o.set(v,f,n.get(v+m,f+y))},s("DEMData",l),t.exports={DEMData:l,Level:c}},{"../util/image":274,"../util/util":285,"../util/web_worker_transfer":288}],56:[function(e,t,r){"use strict";t.exports=8192},{}],57:[function(e,t,r){"use strict";function o(e,t){return t-e}var n=(e("@mapbox/point-geometry"),e("./load_geometry")),i=e("./extent"),a=e("../style-spec/feature_filter"),s=e("grid-index"),c=e("../util/dictionary_coder"),l=e("@mapbox/vector-tile"),p=e("pbf"),u=e("../util/vectortile_to_geojson"),d=e("../util/util").arraysIntersect,h=e("../source/tile_id"),m=(h.OverscaledTileID,e("../util/web_worker_transfer")),y=m.register,f=e("./array_types"),v=f.FeatureIndexArray,g=function(e,t,r,o){this.tileID=e,this.overscaling=t,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=r||new s(i,16,0),this.featureIndexArray=o||new v};g.prototype.insert=function(e,t,r,o,n){var i=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,o,n);for(var s=0;s<t.length;s++){for(var c=t[s],l=[1/0,1/0,-1/0,-1/0],p=0;p<c.length;p++){var u=c[p];l[0]=Math.min(l[0],u.x),l[1]=Math.min(l[1],u.y),l[2]=Math.max(l[2],u.x),l[3]=Math.max(l[3],u.y)}i.grid.insert(a,l[0],l[1],l[2],l[3])}},g.prototype.setCollisionIndex=function(e){this.collisionIndex=e},g.prototype.query=function(e,t){this.vtLayers||(this.vtLayers=new l.VectorTile(new p(this.rawTileData)).layers,this.sourceLayerCoder=new c(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var r={},n=e.params||{},s=i/e.tileSize/e.scale,u=a(n.filter),d=e.queryGeometry,h=e.additionalRadius*s,m=1/0,y=1/0,f=-1/0,v=-1/0,g=0;g<d.length;g++)for(var _=d[g],w=0;w<_.length;w++){var b=_[w];m=Math.min(m,b.x),y=Math.min(y,b.y),f=Math.max(f,b.x),v=Math.max(v,b.y)}var x=this.grid.query(m-h,y-h,f+h,v+h);x.sort(o),this.filterMatching(r,x,this.featureIndexArray,d,u,n.layers,t,e.bearing,s);var S=this.collisionIndex?this.collisionIndex.queryRenderedSymbols(d,this.tileID,i/e.tileSize,e.collisionBoxArray,e.sourceID):[];return S.sort(),this.filterMatching(r,S,e.collisionBoxArray,d,u,n.layers,t,e.bearing,s),r},g.prototype.filterMatching=function(e,t,r,o,i,a,s,c,l){for(var p,h=this,m=0;m<t.length;m++){var y=t[m];if(y!==p){p=y;var f=r.get(y),v=h.bucketLayerIDs[f.bucketIndex];if(!a||d(a,v)){var g=h.sourceLayerCoder.decode(f.sourceLayerIndex),_=h.vtLayers[g],w=_.feature(f.featureIndex);if(i({zoom:h.tileID.overscaledZ},w))for(var b=null,x=0;x<v.length;x++){var S=v[x];if(!(a&&a.indexOf(S)<0)){var k=s[S];if(k&&("symbol"===k.type||(b||(b=n(w)),k.queryIntersectsFeature(o,w,b,h.z,c,l)))){var P=new u(w,h.z,h.x,h.y);P.layer=k.serialize();var E=e[S];void 0===E&&(E=e[S]=[]),E.push({featureIndex:y,feature:P})}}}}}}},g.prototype.hasLayer=function(e){for(var t=this,r=0,o=t.bucketLayerIDs;r<o.length;r+=1)for(var n=o[r],i=0,a=n;i<a.length;i+=1){var s=a[i];if(e===s)return!0}return!1},y("FeatureIndex",g,{omit:["rawTileData","sourceLayerCoder","collisionIndex"]}),t.exports=g},{"../source/tile_id":117,"../style-spec/feature_filter":151,"../util/dictionary_coder":268,"../util/util":285,"../util/vectortile_to_geojson":286,"../util/web_worker_transfer":288,"./array_types":42,"./extent":56,"./load_geometry":59,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":23,pbf:29}],58:[function(e,t,r){"use strict";t.exports={LineIndexArray:e("./array_types").LineIndexArray,TriangleIndexArray:e("./array_types").TriangleIndexArray}},{"./array_types":42}],59:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("./extent"),i=function(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}(16);t.exports=function(e){for(var t=n/e.extent,r=e.loadGeometry(),a=0;a<r.length;a++)for(var s=r[a],c=0;c<s.length;c++){var l=s[c];l.x=Math.round(l.x*t),l.y=Math.round(l.y*t),(l.x<i.min||l.x>i.max||l.y<i.min||l.y>i.max)&&o.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}},{"../util/util":285,"./extent":56}],60:[function(e,t,r){"use strict";var o=e("../util/struct_array"),n=o.createLayout;t.exports=n([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":281}],61:[function(e,t,r){"use strict";function o(e){return[i(255*e.r,255*e.g),i(255*e.b,255*e.a)]}function n(e,t){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[e]||e.replace(t+"-","").replace(/-/g,"_")}var i=e("../shaders/encode_attribute").packUint8ToFloat,a=e("../style-spec/util/color"),s=e("../util/web_worker_transfer"),c=s.register,l=e("../style/properties"),p=l.PossiblyEvaluatedPropertyValue,u=e("./array_types"),d=u.StructArrayLayout1f4,h=u.StructArrayLayout2f8,m=u.StructArrayLayout4f16,y=function(e,t,r){this.value=e,this.name=t,this.type=r,this.statistics={max:-1/0}};y.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},y.prototype.populatePaintArray=function(){},y.prototype.upload=function(){},y.prototype.destroy=function(){},y.prototype.setUniforms=function(e,t,r,o){var n=o.constantOr(this.value),i=e.gl;"color"===this.type?i.uniform4f(t.uniforms["u_"+this.name],n.r,n.g,n.b,n.a):i.uniform1f(t.uniforms["u_"+this.name],n)};var f=function(e,t,r){this.expression=e,this.name=t,this.type=r,this.statistics={max:-1/0};var o="color"===r?h:d;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===r?2:1,offset:0}],this.paintVertexArray=new o};f.prototype.defines=function(){return[]},f.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var i=this.expression.evaluate({zoom:0},t);if("color"===this.type)for(var a=o(i),s=n;s<e;s++)r.emplaceBack(a[0],a[1]);else{for(var c=n;c<e;c++)r.emplaceBack(i);this.statistics.max=Math.max(this.statistics.max,i)}},f.prototype.upload=function(e){this.paintVertexArray&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},f.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},f.prototype.setUniforms=function(e,t){e.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],0)};var v=function(e,t,r,o,n){this.expression=e,this.name=t,this.type=r,this.useIntegerZoom=o,this.zoom=n,this.statistics={max:-1/0};var i="color"===r?m:h;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===r?4:2,offset:0}],this.paintVertexArray=new i};v.prototype.defines=function(){return[]},v.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var i=this.expression.evaluate({zoom:this.zoom},t),a=this.expression.evaluate({zoom:this.zoom+1},t);if("color"===this.type)for(var s=o(i),c=o(a),l=n;l<e;l++)r.emplaceBack(s[0],s[1],c[0],c[1]);else{for(var p=n;p<e;p++)r.emplaceBack(i,a);this.statistics.max=Math.max(this.statistics.max,i,a)}},v.prototype.upload=function(e){this.paintVertexArray&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},v.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},v.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},v.prototype.setUniforms=function(e,t,r){e.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],this.interpolationFactor(r.zoom))};var g=function(){this.binders={},this.cacheKey="",this._buffers=[]};g.createDynamic=function(e,t,r){var o=new g,i=[];for(var a in e.paint._values)if(r(a)){var s=e.paint.get(a);if(s instanceof p&&s.property.specification["property-function"]){var c=n(a,e.type),l=s.property.specification.type,u=s.property.useIntegerZoom;"constant"===s.value.kind?(o.binders[a]=new y(s.value,c,l),i.push("/u_"+c)):"source"===s.value.kind?(o.binders[a]=new f(s.value,c,l),i.push("/a_"+c)):(o.binders[a]=new v(s.value,c,l,u,t),i.push("/z_"+c))}}return o.cacheKey=i.sort().join(""),o},g.forBackgroundColor=function(e,t){var r=new g;return r.binders["background-color"]=new y(e,"color","color"),r.cacheKey+="/u_color",r.binders["background-opacity"]=new y(t,"opacity","number"),r.cacheKey+="/u_opacity",r},g.forBackgroundPattern=function(e){var t=new g;return t.binders["background-opacity"]=new y(e,"opacity","number"),t.cacheKey+="/u_opacity",t},g.forTileClippingMask=function(){return g.forBackgroundColor(a.black,1)},g.prototype.populatePaintArrays=function(e,t){var r=this;for(var o in r.binders)r.binders[o].populatePaintArray(e,t)},g.prototype.defines=function(){var e=this,t=[];for(var r in e.binders)t.push.apply(t,e.binders[r].defines());return t},g.prototype.setUniforms=function(e,t,r,o){var n=this;for(var i in n.binders)n.binders[i].setUniforms(e,t,o,r.get(i))},g.prototype.getPaintVertexBuffers=function(){return this._buffers},g.prototype.upload=function(e){var t=this;for(var r in t.binders)t.binders[r].upload(e);var o=[];for(var n in t.binders){var i=t.binders[n];(i instanceof f||i instanceof v)&&i.paintVertexBuffer&&o.push(i.paintVertexBuffer)}this._buffers=o},g.prototype.destroy=function(){var e=this;for(var t in e.binders)e.binders[t].destroy()};var _=function(e,t,r,o){var n=this;void 0===o&&(o=function(){return!0}),this.programConfigurations={};for(var i=0,a=t;i<a.length;i+=1){var s=a[i];n.programConfigurations[s.id]=g.createDynamic(s,r,o),n.programConfigurations[s.id].layoutAttributes=e}};_.prototype.populatePaintArrays=function(e,t){var r=this;for(var o in r.programConfigurations)r.programConfigurations[o].populatePaintArrays(e,t)},_.prototype.get=function(e){return this.programConfigurations[e]},_.prototype.upload=function(e){var t=this;for(var r in t.programConfigurations)t.programConfigurations[r].upload(e)},_.prototype.destroy=function(){var e=this;for(var t in e.programConfigurations)e.programConfigurations[t].destroy()},c("ConstantBinder",y),c("SourceExpressionBinder",f),c("CompositeExpressionBinder",v),c("ProgramConfiguration",g,{omit:["_buffers"]}),c("ProgramConfigurationSet",_),t.exports={ProgramConfiguration:g,ProgramConfigurationSet:_}},{"../shaders/encode_attribute":99,"../style-spec/util/color":165,"../style/properties":199,"../util/web_worker_transfer":288,"./array_types":42}],62:[function(e,t,r){"use strict";var o=e("../util/struct_array"),n=o.createLayout;t.exports=n([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":281}],63:[function(e,t,r){"use strict";var o=e("../util/util"),n=o.warnOnce,i=e("../util/web_worker_transfer"),a=i.register,s=Math.pow(2,16)-1,c=function(e){void 0===e&&(e=[]),this.segments=e};c.prototype.prepareSegment=function(e,r,o){var i=this.segments[this.segments.length-1];return e>s&&n("Max vertices per segment is "+s+": bucket requested "+e),(!i||i.vertexLength+e>t.exports.MAX_VERTEX_ARRAY_LENGTH)&&(i={vertexOffset:r.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},this.segments.push(i)),i},c.prototype.get=function(){return this.segments},c.prototype.destroy=function(){for(var e=this,t=0,r=e.segments;t<r.length;t+=1){var o=r[t];for(var n in o.vaos)o.vaos[n].destroy()}},a("SegmentVector",c),t.exports={SegmentVector:c,MAX_VERTEX_ARRAY_LENGTH:s}},{"../util/util":285,"../util/web_worker_transfer":288}],64:[function(e,t,r){"use strict";var o=function(e,t,r){this.column=e,this.row=t,this.zoom=r};o.prototype.clone=function(){return new o(this.column,this.row,this.zoom)},o.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},o.prototype.sub=function(e){return this.clone()._sub(e)},o.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},o.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this},t.exports=o},{}],65:[function(e,t,r){"use strict";var o=e("../util/util").wrap,n=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};n.prototype.wrap=function(){return new n(o(this.lng,-180,180),this.lat)},n.prototype.toArray=function(){return[this.lng,this.lat]},n.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},n.prototype.toBounds=function(t){var r=360*t/40075017,o=r/Math.cos(Math.PI/180*this.lat);return new(e("./lng_lat_bounds"))(new n(this.lng-o,this.lat-r),new n(this.lng+o,this.lat+r))},n.convert=function(e){if(e instanceof n)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new n(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new n(Number(e.lng),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=n},{"../util/util":285,"./lng_lat_bounds":66}],66:[function(e,t,r){"use strict";var o=e("./lng_lat"),n=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};n.prototype.setNorthEast=function(e){return this._ne=e instanceof o?new o(e.lng,e.lat):o.convert(e),this},n.prototype.setSouthWest=function(e){return this._sw=e instanceof o?new o(e.lng,e.lat):o.convert(e),this},n.prototype.extend=function(e){var t,r,i=this._sw,a=this._ne;if(e instanceof o)t=e,r=e;else{if(!(e instanceof n))return Array.isArray(e)?e.every(Array.isArray)?this.extend(n.convert(e)):this.extend(o.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return i||a?(i.lng=Math.min(t.lng,i.lng),i.lat=Math.min(t.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new o(t.lng,t.lat),this._ne=new o(r.lng,r.lat)),this},n.prototype.getCenter=function(){return new o((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},n.prototype.getSouthWest=function(){return this._sw},n.prototype.getNorthEast=function(){return this._ne},n.prototype.getNorthWest=function(){return new o(this.getWest(),this.getNorth())},n.prototype.getSouthEast=function(){return new o(this.getEast(),this.getSouth())},n.prototype.getWest=function(){return this._sw.lng},n.prototype.getSouth=function(){return this._sw.lat},n.prototype.getEast=function(){return this._ne.lng},n.prototype.getNorth=function(){return this._ne.lat},n.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},n.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},n.convert=function(e){return!e||e instanceof n?e:new n(e)},t.exports=n},{"./lng_lat":65}],67:[function(e,t,r){"use strict";var o=e("./lng_lat"),n=e("@mapbox/point-geometry"),i=e("./coordinate"),a=e("../util/util"),s=e("../style-spec/util/interpolate").number,c=e("../util/tile_cover"),l=e("../source/tile_id"),p=(l.CanonicalTileID,l.UnwrappedTileID),u=e("../data/extent"),d=e("@mapbox/gl-matrix"),h=d.vec4,m=d.mat4,y=d.mat2,f=function(e,t,r){this.tileSize=512,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new o(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};f.prototype.clone=function(){var e=new f(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new n(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(e){var t=-a.wrap(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=y.create(),y.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(e){var t=a.clamp(e,0,60)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},f.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},f.prototype.getVisibleUnwrappedCoordinates=function(e){for(var t=this.pointCoordinate(new n(0,0),0),r=this.pointCoordinate(new n(this.width,0),0),o=Math.floor(t.column),i=Math.floor(r.column),a=[new p(0,e)],s=o;s<=i;s++)0!==s&&a.push(new p(s,e));return a},f.prototype.coveringTiles=function(e){var t=this.coveringZoomLevel(e),r=t;if(void 0!==e.minzoom&&t<e.minzoom)return[];void 0!==e.maxzoom&&t>e.maxzoom&&(t=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,t),i=new n(o.column-.5,o.row-.5),a=[this.pointCoordinate(new n(0,0),t),this.pointCoordinate(new n(this.width,0),t),this.pointCoordinate(new n(this.width,this.height),t),this.pointCoordinate(new n(0,this.height),t)];return c(t,a,e.reparseOverscaled?r:t,this._renderWorldCopies).sort(function(e,t){return i.dist(e.canonical)-i.dist(t.canonical)})},f.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},f.prototype.zoomScale=function(e){return Math.pow(2,e)},f.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},f.prototype.project=function(e){return new n(this.lngX(e.lng),this.latY(e.lat))},f.prototype.unproject=function(e){return new o(this.xLng(e.x),this.yLat(e.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new n(this.x,this.y)},f.prototype.lngX=function(e){return(180+e)*this.worldSize/360},f.prototype.latY=function(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*this.worldSize/360},f.prototype.xLng=function(e){return 360*e/this.worldSize-180},f.prototype.yLat=function(e){var t=180-360*e/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90},f.prototype.setLocationAtPoint=function(e,t){var r=this.pointCoordinate(t)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(e)._sub(r)),this._renderWorldCopies&&(this.center=this.center.wrap())},f.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},f.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},f.prototype.locationCoordinate=function(e){return new i(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},f.prototype.coordinateLocation=function(e){var t=e.zoomTo(this.zoom);return new o(this.xLng(t.column*this.tileSize),this.yLat(t.row*this.tileSize))},f.prototype.pointCoordinate=function(e,t){void 0===t&&(t=this.tileZoom);var r=[e.x,e.y,0,1],o=[e.x,e.y,1,1];h.transformMat4(r,r,this.pixelMatrixInverse),h.transformMat4(o,o,this.pixelMatrixInverse);var n=r[3],a=o[3],c=r[0]/n,l=o[0]/a,p=r[1]/n,u=o[1]/a,d=r[2]/n,m=o[2]/a,y=d===m?0:(0-d)/(m-d);return new i(s(c,l,y)/this.tileSize,s(p,u,y)/this.tileSize,this.zoom)._zoomTo(t)},f.prototype.coordinatePoint=function(e){var t=e.zoomTo(this.zoom),r=[t.column*this.tileSize,t.row*this.tileSize,0,1];return h.transformMat4(r,r,this.pixelMatrix),new n(r[0]/r[3],r[1]/r[3])},f.prototype.calculatePosMatrix=function(e){var t=e.key;if(this._posMatrixCache[t])return this._posMatrixCache[t];var r=e.canonical,o=this.worldSize/this.zoomScale(r.z),n=r.x+Math.pow(2,r.z)*e.wrap,i=m.identity(new Float64Array(16));return m.translate(i,i,[n*o,r.y*o,0]),m.scale(i,i,[o/u,o/u,1]),m.multiply(i,this.projMatrix,i),this._posMatrixCache[t]=new Float32Array(i),this._posMatrixCache[t]},f.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,r,o,i=-90,a=90,s=-180,c=180,l=this.size,p=this._unmodified;if(this.latRange){var u=this.latRange;i=this.latY(u[1]),a=this.latY(u[0]),e=a-i<l.y?l.y/(a-i):0}if(this.lngRange){var d=this.lngRange;s=this.lngX(d[0]),c=this.lngX(d[1]),t=c-s<l.x?l.x/(c-s):0}var h=Math.max(t||0,e||0);if(h)return this.center=this.unproject(new n(t?(c+s)/2:this.x,e?(a+i)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=p,void(this._constraining=!1);if(this.latRange){var m=this.y,y=l.y/2;m-y<i&&(o=i+y),m+y>a&&(o=a-y)}if(this.lngRange){var f=this.x,v=l.x/2;f-v<s&&(r=s+v),f+v>c&&(r=c-v)}void 0===r&&void 0===o||(this.center=this.unproject(new n(void 0!==r?r:this.x,void 0!==o?o:this.y))),this._unmodified=p,this._constraining=!1}},f.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,t=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-t-e),o=Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance,n=1.01*o,i=new Float64Array(16);m.perspective(i,this._fov,this.width/this.height,1,n),m.scale(i,i,[1,-1,1]),m.translate(i,i,[0,0,-this.cameraToCenterDistance]),m.rotateX(i,i,this._pitch),m.rotateZ(i,i,this.angle),m.translate(i,i,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(m.scale(i,i,[1,1,a,1]),this.projMatrix=i,i=m.create(),m.scale(i,i,[this.width/2,-this.height/2,1]),m.translate(i,i,[1,-1,0]),this.pixelMatrix=m.multiply(new Float64Array(16),i,this.projMatrix),!(i=m.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=i,this._posMatrixCache={}}},Object.defineProperties(f.prototype,v),t.exports=f},{"../data/extent":56,"../source/tile_id":117,"../style-spec/util/interpolate":169,"../util/tile_cover":283,"../util/util":285,"./coordinate":64,"./lng_lat":65,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],68:[function(e,t,r){"use strict";var o=e("../style-spec/util/color"),n=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};n.Replace=[1,0],n.disabled=new n(n.Replace,o.transparent,[!1,!1,!1,!1]),n.unblended=new n(n.Replace,o.transparent,[!0,!0,!0,!0]),n.alphaBlended=new n([1,771],o.transparent,[!0,!0,!0,!0]),t.exports=n},{"../style-spec/util/color":165}],69:[function(e,t,r){"use strict";var o=e("./index_buffer"),n=e("./vertex_buffer"),i=e("./framebuffer"),a=(e("./depth_mode"),e("./stencil_mode"),e("./color_mode")),s=e("../util/util"),c=e("./value"),l=c.ClearColor,p=c.ClearDepth,u=c.ClearStencil,d=c.ColorMask,h=c.DepthMask,m=c.StencilMask,y=c.StencilFunc,f=c.StencilOp,v=c.StencilTest,g=c.DepthRange,_=c.DepthTest,w=c.DepthFunc,b=c.Blend,x=c.BlendFunc,S=c.BlendColor,k=c.Program,P=c.LineWidth,E=c.ActiveTextureUnit,C=c.Viewport,A=c.BindFramebuffer,T=c.BindRenderbuffer,M=c.BindTexture,R=c.BindVertexBuffer,z=c.BindElementBuffer,O=c.BindVertexArrayOES,j=c.PixelStoreUnpack,N=c.PixelStoreUnpackPremultiplyAlpha,F=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new l(this),this.clearDepth=new p(this),this.clearStencil=new u(this),this.colorMask=new d(this),this.depthMask=new h(this),this.stencilMask=new m(this),this.stencilFunc=new y(this),this.stencilOp=new f(this),this.stencilTest=new v(this),this.depthRange=new g(this),this.depthTest=new _(this),this.depthFunc=new w(this),this.blend=new b(this),this.blendFunc=new x(this),this.blendColor=new S(this),this.program=new k(this),this.lineWidth=new P(this),this.activeTexture=new E(this),this.viewport=new C(this),this.bindFramebuffer=new A(this),this.bindRenderbuffer=new T(this),this.bindTexture=new M(this),this.bindVertexBuffer=new R(this),this.bindElementBuffer=new z(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new O(this),this.pixelStoreUnpack=new j(this),this.pixelStoreUnpackPremultiplyAlpha=new N(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};F.prototype.createIndexBuffer=function(e,t){return new o(this,e,t)},F.prototype.createVertexBuffer=function(e,t,r){return new n(this,e,t,r)},F.prototype.createRenderbuffer=function(e,t,r){var o=this.gl,n=o.createRenderbuffer();return this.bindRenderbuffer.set(n),o.renderbufferStorage(o.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),n},F.prototype.createFramebuffer=function(e,t){return new i(this,e,t)},F.prototype.clear=function(e){var t=e.color,r=e.depth,o=this.gl,n=0;t&&(n|=o.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(n|=o.DEPTH_BUFFER_BIT,this.clearDepth.set(r),this.depthMask.set(!0)),o.clear(n)},F.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},F.prototype.setStencilMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},F.prototype.setColorMode=function(e){s.deepEqual(e.blendFunction,a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},t.exports=F},{"../util/util":285,"./color_mode":68,"./depth_mode":70,"./framebuffer":71,"./index_buffer":72,"./stencil_mode":73,"./value":74,"./vertex_buffer":75}],70:[function(e,t,r){"use strict";var o=function(e,t,r){this.func=e,this.mask=t,this.range=r};o.ReadOnly=!1,o.ReadWrite=!0,o.disabled=new o(519,o.ReadOnly,[0,1]),t.exports=o},{}],71:[function(e,t,r){"use strict";var o=e("./value"),n=o.ColorAttachment,i=o.DepthAttachment,a=function(e,t,r){this.context=e,this.width=t,this.height=r;var o=e.gl,a=this.framebuffer=o.createFramebuffer();this.colorAttachment=new n(e,a),this.depthAttachment=new i(e,a)};a.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)},t.exports=a},{"./value":74}],72:[function(e,t,r){"use strict";var o=function(e,t,r){this.context=e;var o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(r),this.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};o.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},o.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},o.prototype.updateData=function(e){var t=this.context.gl;this.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},o.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)},t.exports=o},{}],73:[function(e,t,r){"use strict";var o=function(e,t,r,o,n,i){this.test=e,this.ref=t,this.mask=r,this.fail=o,this.depthFail=n,this.pass=i};o.disabled=new o({func:519,mask:0},0,0,7680,7680,7680),t.exports=o},{}],74:[function(e,t,r){"use strict";var o=e("../style-spec/util/color"),n=e("../util/util"),i=function(e){this.context=e,this.current=o.transparent};i.prototype.get=function(){return this.current},i.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e)};var a=function(e){this.context=e,this.current=1};a.prototype.get=function(){return this.current},a.prototype.set=function(e){this.current!==e&&(this.context.gl.clearDepth(e),this.current=e)};var s=function(e){this.context=e,this.current=0};s.prototype.get=function(){return this.current},s.prototype.set=function(e){this.current!==e&&(this.context.gl.clearStencil(e),this.current=e)};var c=function(e){this.context=e,this.current=[!0,!0,!0,!0]};c.prototype.get=function(){return this.current},c.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e)};var l=function(e){this.context=e,this.current=!0};l.prototype.get=function(){return this.current},l.prototype.set=function(e){this.current!==e&&(this.context.gl.depthMask(e),this.current=e)};var p=function(e){this.context=e,this.current=255};p.prototype.get=function(){return this.current},p.prototype.set=function(e){this.current!==e&&(this.context.gl.stencilMask(e),this.current=e)};var u=function(e){this.context=e,this.current={func:e.gl.ALWAYS,ref:0,mask:255}};u.prototype.get=function(){return this.current},u.prototype.set=function(e){var t=this.current;e.func===t.func&&e.ref===t.ref&&e.mask===t.mask||(this.context.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e)};var d=function(e){this.context=e;var t=this.context.gl;this.current=[t.KEEP,t.KEEP,t.KEEP]};d.prototype.get=function(){return this.current},d.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]||(this.context.gl.stencilOp(e[0],e[1],e[2]),this.current=e)};var h=function(e){this.context=e,this.current=!1};h.prototype.get=function(){return this.current},h.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e}};var m=function(e){this.context=e,this.current=[0,1]};m.prototype.get=function(){return this.current},m.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.depthRange(e[0],e[1]),this.current=e)};var y=function(e){this.context=e,this.current=!1};y.prototype.get=function(){return this.current},y.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e}};var f=function(e){this.context=e,this.current=e.gl.LESS};f.prototype.get=function(){return this.current},f.prototype.set=function(e){this.current!==e&&(this.context.gl.depthFunc(e),this.current=e)};var v=function(e){this.context=e,this.current=!1};v.prototype.get=function(){return this.current},v.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e}};var g=function(e){this.context=e;var t=this.context.gl;this.current=[t.ONE,t.ZERO]};g.prototype.get=function(){return this.current},g.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.blendFunc(e[0],e[1]),this.current=e)};var _=function(e){this.context=e,this.current=o.transparent};_.prototype.get=function(){return this.current},_.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e)};var w=function(e){this.context=e,this.current=null};w.prototype.get=function(){return this.current},w.prototype.set=function(e){this.current!==e&&(this.context.gl.useProgram(e),this.current=e)};var b=function(e){this.context=e,this.current=1};b.prototype.get=function(){return this.current},b.prototype.set=function(e){var t=this.context.lineWidthRange,r=n.clamp(e,t[0],t[1]);this.current!==r&&(this.context.gl.lineWidth(r),this.current=e)};var x=function(e){this.context=e,this.current=e.gl.TEXTURE0};x.prototype.get=function(){return this.current},x.prototype.set=function(e){this.current!==e&&(this.context.gl.activeTexture(e),this.current=e)};var S=function(e){this.context=e;var t=this.context.gl;this.current=[0,0,t.drawingBufferWidth,t.drawingBufferHeight]};S.prototype.get=function(){return this.current},S.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e)};var k=function(e){this.context=e,this.current=null};k.prototype.get=function(){return this.current},k.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e}};var P=function(e){this.context=e,this.current=null};P.prototype.get=function(){return this.current},P.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e}};var E=function(e){this.context=e,this.current=null};E.prototype.get=function(){return this.current},E.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e}};var C=function(e){this.context=e,this.current=null};C.prototype.get=function(){return this.current},C.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e}};var A=function(e){this.context=e,this.current=null};A.prototype.get=function(){return this.current},A.prototype.set=function(e){var t=this.context.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e};var T=function(e){this.context=e,this.current=null};T.prototype.get=function(){return this.current},T.prototype.set=function(e){this.current!==e&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(e),this.current=e)};var M=function(e){this.context=e,this.current=4};M.prototype.get=function(){return this.current},M.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e}};var R=function(e){this.context=e,this.current=!1};R.prototype.get=function(){return this.current},R.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e}};var z=function(e,t){this.context=e,this.current=null,this.parent=t};z.prototype.get=function(){return this.current};var O=function(e){function t(t,r){e.call(this,t,r),this.dirty=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.dirty||this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t.prototype.setDirty=function(){this.dirty=!0},t}(z),j=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e}},t}(z);t.exports={ClearColor:i,ClearDepth:a,ClearStencil:s,ColorMask:c,DepthMask:l,StencilMask:p,StencilFunc:u,StencilOp:d,StencilTest:h,DepthRange:m,DepthTest:y,DepthFunc:f,Blend:v,BlendFunc:g,BlendColor:_,Program:w,LineWidth:b,ActiveTextureUnit:x,Viewport:S,BindFramebuffer:k,BindRenderbuffer:P,BindTexture:E,BindVertexBuffer:C,BindElementBuffer:A,BindVertexArrayOES:T,PixelStoreUnpack:M,PixelStoreUnpackPremultiplyAlpha:R,ColorAttachment:O,DepthAttachment:j}},{"../style-spec/util/color":165,"../util/util":285}],75:[function(e,t,r){"use strict";var o={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},n=function(e,t,r,o){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;var n=e.gl;this.buffer=n.createBuffer(),e.bindVertexBuffer.set(this.buffer),n.bufferData(n.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};n.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},n.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},n.prototype.enableAttributes=function(e,t){for(var r=this,o=0;o<this.attributes.length;o++){var n=r.attributes[o],i=t.attributes[n.name];void 0!==i&&e.enableVertexAttribArray(i)}},n.prototype.setVertexAttribPointers=function(e,t,r){for(var n=this,i=0;i<this.attributes.length;i++){var a=n.attributes[i],s=t.attributes[a.name];void 0!==s&&e.vertexAttribPointer(s,a.components,e[o[a.type]],!1,n.itemSize,a.offset+n.itemSize*(r||0))}},n.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)},t.exports=n},{}],76:[function(e,t,r){"use strict";var o=e("@mapbox/mapbox-gl-supported"),n=e("./util/browser"),i=e("../package.json").version,a=e("./ui/map"),s=e("./ui/control/navigation_control"),c=e("./ui/control/geolocate_control"),l=e("./ui/control/attribution_control"),p=e("./ui/control/scale_control"),u=e("./ui/control/fullscreen_control"),d=e("./ui/popup"),h=e("./ui/marker"),m=e("./style/style"),y=e("./geo/lng_lat"),f=e("./geo/lng_lat_bounds"),v=e("@mapbox/point-geometry"),g=e("./util/evented"),_=e("./util/config"),w=e("./source/rtl_text_plugin");t.exports={version:i,supported:o,workerCount:Math.max(Math.floor(n.hardwareConcurrency/2),1),setRTLTextPlugin:w.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:c,AttributionControl:l,ScaleControl:p,FullscreenControl:u,Popup:d,Marker:h,Style:m,LngLat:y,LngLatBounds:f,Point:v,Evented:g,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(e){_.ACCESS_TOKEN=e}}},{"../package.json":41,"./geo/lng_lat":65,"./geo/lng_lat_bounds":66,"./source/rtl_text_plugin":112,"./style/style":201,"./ui/control/attribution_control":243,"./ui/control/fullscreen_control":244,"./ui/control/geolocate_control":245,"./ui/control/navigation_control":247,"./ui/control/scale_control":248,"./ui/map":258,"./ui/marker":259,"./ui/popup":260,"./util/browser":263,"./util/config":267,"./util/evented":271,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],77:[function(e,t,r){"use strict";function o(e,t,r){var o=r.paint.get("background-color"),i=r.paint.get("background-opacity");if(0!==i){var s=e.context,h=s.gl,m=e.transform,y=m.tileSize,f=r.paint.get("background-pattern"),v={zoom:m.zoom},g=f||1!==o.a||1!==i?"translucent":"opaque";if(e.renderPass===g){s.setStencilMode(u.disabled),s.setDepthMode(e.depthModeForSublayer(0,"opaque"===g?d.ReadWrite:d.ReadOnly)),s.setColorMode(e.colorModeForRenderPass());var _=new c(p);_._values["background-color"]=new l(p.properties["fill-color"],{kind:"constant",value:o},v),_._values["background-opacity"]=new l(p.properties["fill-opacity"],{kind:"constant",value:i},v);var w;if(f){if(n.isPatternMissing(f,e))return;var b=a.forBackgroundPattern(i);w=e.useProgram("fillPattern",b),b.setUniforms(s,w,_,v),n.prepare(f,e,w),e.tileExtentPatternVAO.bind(s,w,e.tileExtentBuffer,[])}else{var x=a.forBackgroundColor(o,i);w=e.useProgram("fill",x),x.setUniforms(s,w,_,v),e.tileExtentVAO.bind(s,w,e.tileExtentBuffer,[])}for(var S=m.coveringTiles({tileSize:y}),k=0,P=S;k<P.length;k+=1){var E=P[k];f&&n.setTile({tileID:E,tileSize:y},e,w),h.uniformMatrix4fv(w.uniforms.u_matrix,!1,e.transform.calculatePosMatrix(E.toUnwrapped())),h.drawArrays(h.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}}var n=e("./pattern"),i=e("../data/program_configuration"),a=i.ProgramConfiguration,s=e("../style/properties"),c=s.PossiblyEvaluated,l=s.PossiblyEvaluatedPropertyValue,p=e("../style/style_layer/fill_style_layer_properties").paint,u=e("../gl/stencil_mode"),d=e("../gl/depth_mode");t.exports=o},{"../data/program_configuration":61,"../gl/depth_mode":70,"../gl/stencil_mode":73,"../style/properties":199,"../style/style_layer/fill_style_layer_properties":210,"./pattern":94}],78:[function(e,t,r){"use strict";function o(e,t,r,o){if("translucent"===e.renderPass){var s=r.paint.get("circle-opacity"),c=r.paint.get("circle-stroke-width"),l=r.paint.get("circle-stroke-opacity");if(0!==s.constantOr(1)||0!==c.constantOr(1)&&0!==l.constantOr(1)){var p=e.context,u=p.gl;p.setDepthMode(e.depthModeForSublayer(0,a.ReadOnly)),p.setStencilMode(i.disabled),p.setColorMode(e.colorModeForRenderPass());for(var d=!0,h=0;h<o.length;h++){var m=o[h],y=t.getTile(m),f=y.getBucket(r);if(f){var v=e.context.program.get(),g=f.programConfigurations.get(r.id),_=e.useProgram("circle",g);if((d||_.program!==v)&&(g.setUniforms(p,_,r.paint,{zoom:e.transform.zoom}),d=!1),u.uniform1f(_.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance),u.uniform1i(_.uniforms.u_scale_with_map,"map"===r.paint.get("circle-pitch-scale")?1:0),"map"===r.paint.get("circle-pitch-alignment")){u.uniform1i(_.uniforms.u_pitch_with_map,1);var w=n(y,1,e.transform.zoom);u.uniform2f(_.uniforms.u_extrude_scale,w,w)}else u.uniform1i(_.uniforms.u_pitch_with_map,0),u.uniform2fv(_.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits);u.uniformMatrix4fv(_.uniforms.u_matrix,!1,e.translatePosMatrix(m.posMatrix,y,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor"))),_.draw(p,u.TRIANGLES,r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,g)}}}}}var n=e("../source/pixels_to_tile_units"),i=e("../gl/stencil_mode"),a=e("../gl/depth_mode");t.exports=o},{"../gl/depth_mode":70,"../gl/stencil_mode":73,"../source/pixels_to_tile_units":107}],79:[function(e,t,r){"use strict";function o(e,t,r,o,n){var c=e.context,l=c.gl,p=n?e.useProgram("collisionCircle"):e.useProgram("collisionBox");c.setDepthMode(a.disabled),c.setStencilMode(s.disabled),c.setColorMode(e.colorModeForRenderPass());for(var u=0;u<o.length;u++){var d=o[u],h=t.getTile(d),m=h.getBucket(r);if(m){var y=n?m.collisionCircle:m.collisionBox;if(y){l.uniformMatrix4fv(p.uniforms.u_matrix,!1,d.posMatrix),n||c.lineWidth.set(1),l.uniform1f(p.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance);var f=i(h,1,e.transform.zoom),v=Math.pow(2,e.transform.zoom-h.tileID.overscaledZ);l.uniform1f(p.uniforms.u_pixels_to_tile_units,f),l.uniform2f(p.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits[0]/(f*v),e.transform.pixelsToGLUnits[1]/(f*v)),p.draw(c,n?l.TRIANGLES:l.LINES,r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,y.collisionVertexBuffer,null)}}}}function n(e,t,r,n){o(e,t,r,n,!1),o(e,t,r,n,!0)}var i=e("../source/pixels_to_tile_units"),a=e("../gl/depth_mode"),s=e("../gl/stencil_mode");t.exports=n},{"../gl/depth_mode":70,"../gl/stencil_mode":73,"../source/pixels_to_tile_units":107}],80:[function(e,t,r){"use strict";function o(e,t,r){for(var o=0;o<r.length;o++)n(e,t,r[o])}function n(e,t,r){var o=e.context,n=o.gl;o.lineWidth.set(1*a.devicePixelRatio);var p=r.posMatrix,y=e.useProgram("debug");o.setDepthMode(h.disabled),o.setStencilMode(m.disabled),o.setColorMode(e.colorModeForRenderPass()),n.uniformMatrix4fv(y.uniforms.u_matrix,!1,p),n.uniform4f(y.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,y,e.debugBuffer,[]),n.drawArrays(n.LINE_STRIP,0,e.debugBuffer.length);for(var f=i(r.toString(),50,200,5),v=new u,g=0;g<f.length;g+=2)v.emplaceBack(f[g],f[g+1]);var _=o.createVertexBuffer(v,d.members);(new l).bind(o,y,_,[]),n.uniform4f(y.uniforms.u_color,1,1,1,1);for(var w=t.getTile(r).tileSize,b=c/(Math.pow(2,e.transform.zoom-r.overscaledZ)*w),x=[[-1,-1],[-1,1],[1,-1],[1,1]],S=0;S<x.length;S++){var k=x[S];n.uniformMatrix4fv(y.uniforms.u_matrix,!1,s.translate([],p,[b*k[0],b*k[1],0])),n.drawArrays(n.LINES,0,_.length)}n.uniform4f(y.uniforms.u_color,0,0,0,1),n.uniformMatrix4fv(y.uniforms.u_matrix,!1,p),n.drawArrays(n.LINES,0,_.length)}function i(e,t,r,o){o=o||1;var n,i,a,s,c,l,p,u,d=[];for(n=0,i=e.length;n<i;n++)if(c=y[e[n]]){for(u=null,a=0,s=c[1].length;a<s;a+=2)-1===c[1][a]&&-1===c[1][a+1]?u=null:(l=t+c[1][a]*o,p=r-c[1][a+1]*o,u&&d.push(u.x,u.y,l,p),u={x:l,y:p});t+=c[0]*o}return d}var a=e("../util/browser"),s=e("@mapbox/gl-matrix").mat4,c=e("../data/extent"),l=e("./vertex_array_object"),p=e("../data/array_types"),u=p.PosArray,d=e("../data/pos_attributes"),h=e("../gl/depth_mode"),m=e("../gl/stencil_mode");t.exports=o;var y={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":42,"../data/extent":56,"../data/pos_attributes":60,"../gl/depth_mode":70,"../gl/stencil_mode":73,"../util/browser":263,"./vertex_array_object":98,"@mapbox/gl-matrix":2}],81:[function(e,t,r){"use strict";function o(e,t,r,o){var s=r.paint.get("fill-color"),c=r.paint.get("fill-opacity");if(0!==c.constantOr(1)){var u=e.context;u.setColorMode(e.colorModeForRenderPass());var d=r.paint.get("fill-pattern")||1!==s.constantOr(l.transparent).a||1!==c.constantOr(0)?"translucent":"opaque";e.renderPass===d&&(u.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?p.ReadWrite:p.ReadOnly)),n(e,t,r,o,i)),"translucent"===e.renderPass&&r.paint.get("fill-antialias")&&(u.lineWidth.set(2),u.setDepthMode(e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,p.ReadOnly)),n(e,t,r,o,a))}}function n(e,t,r,o,n){if(!c.isPatternMissing(r.paint.get("fill-pattern"),e))for(var i=!0,a=0,s=o;a<s.length;a+=1){var l=s[a],p=t.getTile(l),u=p.getBucket(r);u&&(e.context.setStencilMode(e.stencilModeForClipping(l)),n(e,t,r,p,l,u,i),i=!1)}}function i(e,t,r,o,n,i,a){var c=e.context.gl,l=i.programConfigurations.get(r.id);s("fill",r.paint.get("fill-pattern"),e,l,r,o,n,a).draw(e.context,c.TRIANGLES,r.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,l)}function a(e,t,r,o,n,i,a){var c=e.context.gl,l=i.programConfigurations.get(r.id),p=r.getPaintProperty("fill-outline-color")?null:r.paint.get("fill-pattern"),u=s("fillOutline",p,e,l,r,o,n,a);c.uniform2f(u.uniforms.u_world,c.drawingBufferWidth,c.drawingBufferHeight),u.draw(e.context,c.LINES,r.id,i.layoutVertexBuffer,i.indexBuffer2,i.segments2,l)}function s(e,t,r,o,n,i,a,s){var l,p=r.context.program.get();return t?(l=r.useProgram(e+"Pattern",o),(s||l.program!==p)&&(o.setUniforms(r.context,l,n.paint,{zoom:r.transform.zoom}),c.prepare(t,r,l)),c.setTile(i,r,l)):(l=r.useProgram(e,o),(s||l.program!==p)&&o.setUniforms(r.context,l,n.paint,{zoom:r.transform.zoom})),r.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,r.translatePosMatrix(a.posMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"))),l}var c=e("./pattern"),l=e("../style-spec/util/color"),p=e("../gl/depth_mode");t.exports=o},{"../gl/depth_mode":70,"../style-spec/util/color":165,"./pattern":94}],82:[function(e,t,r){"use strict";function o(e,t,r,o){if(0!==r.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){n(e,r);for(var s=!0,c=0,l=o;c<l.length;c+=1){var p=l[c],u=t.getTile(p),d=u.getBucket(r);d&&(a(e,t,r,u,p,d,s),s=!1)}}else"translucent"===e.renderPass&&i(e,r)}function n(e,t){var r=e.context,o=r.gl,n=t.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!n){var i=new p(r,{width:e.width,height:e.height,data:null},o.RGBA);i.bind(o.LINEAR,o.CLAMP_TO_EDGE),n=t.viewportFrame=r.createFramebuffer(e.width,e.height),n.colorAttachment.set(i.texture)}r.bindFramebuffer.set(n.framebuffer),n.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(r.clear({depth:1}),e.depthRboNeedsClear=!1),r.clear({color:u.transparent}),r.setStencilMode(f.disabled),r.setDepthMode(new d(o.LEQUAL,d.ReadWrite,[0,1])),r.setColorMode(e.colorModeForRenderPass())}function i(e,t){var r=t.viewportFrame;if(r){var o=e.context,n=o.gl,i=e.useProgram("extrusionTexture");o.setStencilMode(f.disabled),o.setDepthMode(d.disabled),o.setColorMode(e.colorModeForRenderPass()),o.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),n.uniform1f(i.uniforms.u_opacity,t.paint.get("fill-extrusion-opacity")),n.uniform1i(i.uniforms.u_image,0);var a=m.create();m.ortho(a,0,e.width,e.height,0,0,1),n.uniformMatrix4fv(i.uniforms.u_matrix,!1,a),n.uniform2f(i.uniforms.u_world,n.drawingBufferWidth,n.drawingBufferHeight),e.viewportVAO.bind(o,i,e.viewportBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}function a(e,t,r,o,n,i,a){var c=e.context,p=c.gl,u=r.paint.get("fill-extrusion-pattern"),d=e.context.program.get(),h=i.programConfigurations.get(r.id),m=e.useProgram(u?"fillExtrusionPattern":"fillExtrusion",h);if((a||m.program!==d)&&h.setUniforms(c,m,r.paint,{zoom:e.transform.zoom}),u){if(l.isPatternMissing(u,e))return;l.prepare(u,e,m),l.setTile(o,e,m),p.uniform1f(m.uniforms.u_height_factor,-Math.pow(2,n.overscaledZ)/o.tileSize/8)}e.context.gl.uniformMatrix4fv(m.uniforms.u_matrix,!1,e.translatePosMatrix(n.posMatrix,o,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor"))),s(m,e),m.draw(c,p.TRIANGLES,r.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,h)}function s(e,t){var r=t.context.gl,o=t.style.light,n=o.properties.get("position"),i=[n.x,n.y,n.z],a=h.create();"viewport"===o.properties.get("anchor")&&h.fromRotation(a,-t.transform.angle),y.transformMat3(i,i,a);var s=o.properties.get("color");r.uniform3fv(e.uniforms.u_lightpos,i),r.uniform1f(e.uniforms.u_lightintensity,o.properties.get("intensity")),r.uniform3f(e.uniforms.u_lightcolor,s.r,s.g,s.b)}var c=e("@mapbox/gl-matrix"),l=e("./pattern"),p=e("./texture"),u=e("../style-spec/util/color"),d=e("../gl/depth_mode"),h=c.mat3,m=c.mat4,y=c.vec3,f=e("../gl/stencil_mode");t.exports=o},{"../gl/depth_mode":70,"../gl/stencil_mode":73,"../style-spec/util/color":165,"./pattern":94,"./texture":96,"@mapbox/gl-matrix":2}],83:[function(e,t,r){"use strict";function o(e,t,r,o){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var i=e.context,s=i.gl;i.setDepthMode(e.depthModeForSublayer(0,u.ReadOnly)),i.setStencilMode(d.disabled),n(i,e,r),i.clear({color:p.transparent}),i.setColorMode(new h([s.ONE,s.ONE],p.transparent,[!0,!0,!0,!0]));for(var c=!0,m=0;m<o.length;m++){var y=o[m];if(!t.hasRenderableParent(y)){var f=t.getTile(y),v=f.getBucket(r);if(v){var g=e.context.program.get(),_=v.programConfigurations.get(r.id),w=e.useProgram("heatmap",_),b=e.transform,x=b.zoom;(c||w.program!==g)&&(_.setUniforms(e.context,w,r.paint,{zoom:x}),c=!1),s.uniform1f(w.uniforms.u_extrude_scale,l(f,1,x)),s.uniform1f(w.uniforms.u_intensity,r.paint.get("heatmap-intensity")),s.uniformMatrix4fv(w.uniforms.u_matrix,!1,y.posMatrix),w.draw(i,s.TRIANGLES,r.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,_)}}}i.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),a(e,r))}function n(e,t,r){var o=e.gl;e.activeTexture.set(o.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var n=r.heatmapFbo;if(n)o.bindTexture(o.TEXTURE_2D,n.colorAttachment.get()),e.bindFramebuffer.set(n.framebuffer);else{var a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),i(e,t,a,n)}}function i(e,t,r,o){var n=e.gl;n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t.width/4,t.height/4,0,n.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:n.UNSIGNED_BYTE,null),o.colorAttachment.set(r),e.extTextureHalfFloat&&n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),i(e,t,r,o))}function a(e,t){var r=e.context,o=r.gl,n=t.heatmapFbo;if(n){r.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,n.colorAttachment.get()),r.activeTexture.set(o.TEXTURE1);var i=t.colorRampTexture;i||(i=t.colorRampTexture=new c(r,t.colorRamp,o.RGBA)),i.bind(o.LINEAR,o.CLAMP_TO_EDGE),r.setDepthMode(u.disabled);var a=e.useProgram("heatmapTexture"),l=t.paint.get("heatmap-opacity");o.uniform1f(a.uniforms.u_opacity,l),o.uniform1i(a.uniforms.u_image,0),o.uniform1i(a.uniforms.u_color_ramp,1);var p=s.create();s.ortho(p,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(a.uniforms.u_matrix,!1,p),o.uniform2f(a.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,a,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}var s=e("@mapbox/gl-matrix").mat4,c=e("./texture"),l=e("../source/pixels_to_tile_units"),p=e("../style-spec/util/color"),u=e("../gl/depth_mode"),d=e("../gl/stencil_mode"),h=e("../gl/color_mode");t.exports=o},{"../gl/color_mode":68,"../gl/depth_mode":70,"../gl/stencil_mode":73,"../source/pixels_to_tile_units":107,"../style-spec/util/color":165,"./texture":96,"@mapbox/gl-matrix":2}],84:[function(e,t,r){"use strict";function o(e,t,r,o){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var n=e.context;n.setDepthMode(e.depthModeForSublayer(0,h.ReadOnly)),n.setStencilMode(d.disabled),n.setColorMode(e.colorModeForRenderPass());for(var i=0,c=o;i<c.length;i+=1){var l=c[i],p=t.getTile(l);p.needsHillshadePrepare&&"offscreen"===e.renderPass?s(e,p):"translucent"===e.renderPass&&a(e,p,r)}n.viewport.set([0,0,e.width,e.height])}}function n(e,t,r){var o=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(o-=t.transform.angle),t.context.gl.uniform2f(e.uniforms.u_light,r.paint.get("hillshade-exaggeration"),o)}function i(e,t){var r=t.toCoordinate(),o=new c(r.column,r.row+1,r.zoom);return[e.transform.coordinateLocation(r).lat,e.transform.coordinateLocation(o).lat]}function a(e,t,r){var o=e.context,a=o.gl,s=t.fbo;if(s){var c=e.useProgram("hillshade"),l=e.transform.calculatePosMatrix(t.tileID.toUnwrapped());n(c,e,r);var p=i(e,t.tileID);o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.colorAttachment.get()),a.uniformMatrix4fv(c.uniforms.u_matrix,!1,l),a.uniform2fv(c.uniforms.u_latrange,p),a.uniform1i(c.uniforms.u_image,0);var u=r.paint.get("hillshade-shadow-color");a.uniform4f(c.uniforms.u_shadow,u.r,u.g,u.b,u.a);var d=r.paint.get("hillshade-highlight-color");a.uniform4f(c.uniforms.u_highlight,d.r,d.g,d.b,d.a);var h=r.paint.get("hillshade-accent-color");if(a.uniform4f(c.uniforms.u_accent,h.r,h.g,h.b,h.a),t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments)c.draw(o,a.TRIANGLES,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments);else{var m=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,c,m,[]),a.drawArrays(a.TRIANGLE_STRIP,0,m.length)}}}function s(e,t){var r=e.context,o=r.gl;if(t.dem&&t.dem.level){var n=t.dem.level.dim,i=t.dem.getPixels();if(r.activeTexture.set(o.TEXTURE1),r.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||e.getTileTexture(t.tileSize),t.demTexture){var a=t.demTexture;a.update(i,!1),a.bind(o.NEAREST,o.CLAMP_TO_EDGE)}else t.demTexture=new l(r,i,o.RGBA,!1),t.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE);r.activeTexture.set(o.TEXTURE0);var s=t.fbo;if(!s){var c=new l(r,{width:n,height:n,data:null},o.RGBA);c.bind(o.LINEAR,o.CLAMP_TO_EDGE),s=t.fbo=r.createFramebuffer(n,n),s.colorAttachment.set(c.texture)}r.bindFramebuffer.set(s.framebuffer),r.viewport.set([0,0,n,n]);var d=u.create();u.ortho(d,0,p,-p,0,0,1),u.translate(d,d,[0,-p,0]);var h=e.useProgram("hillshadePrepare");o.uniformMatrix4fv(h.uniforms.u_matrix,!1,d),o.uniform1f(h.uniforms.u_zoom,t.tileID.overscaledZ),o.uniform2fv(h.uniforms.u_dimension,[2*n,2*n]),o.uniform1i(h.uniforms.u_image,1);var m=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(r,h,m,[]),o.drawArrays(o.TRIANGLE_STRIP,0,m.length),t.needsHillshadePrepare=!1}}var c=e("../geo/coordinate"),l=e("./texture"),p=e("../data/extent"),u=e("@mapbox/gl-matrix").mat4,d=e("../gl/stencil_mode"),h=e("../gl/depth_mode");t.exports=o},{"../data/extent":56,"../geo/coordinate":64,"../gl/depth_mode":70,"../gl/stencil_mode":73,"./texture":96,"@mapbox/gl-matrix":2}],85:[function(e,t,r){"use strict";function o(e,t,r,o,a,s,c,l,p){var u,d,h,m,y=t.context,f=y.gl,v=a.paint.get("line-dasharray"),g=a.paint.get("line-pattern");if(l||p){var _=1/i(r,1,t.transform.tileZoom);if(v){u=t.lineAtlas.getDash(v.from,"round"===a.layout.get("line-cap")),d=t.lineAtlas.getDash(v.to,"round"===a.layout.get("line-cap"));var w=u.width*v.fromScale,b=d.width*v.toScale;f.uniform2f(e.uniforms.u_patternscale_a,_/w,-u.height/2),f.uniform2f(e.uniforms.u_patternscale_b,_/b,-d.height/2),f.uniform1f(e.uniforms.u_sdfgamma,t.lineAtlas.width/(256*Math.min(w,b)*n.devicePixelRatio)/2)}else if(g){if(h=t.imageManager.getPattern(g.from),m=t.imageManager.getPattern(g.to),!h||!m)return;f.uniform2f(e.uniforms.u_pattern_size_a,h.displaySize[0]*g.fromScale/_,m.displaySize[1]),f.uniform2f(e.uniforms.u_pattern_size_b,m.displaySize[0]*g.toScale/_,m.displaySize[1]);var x=t.imageManager.getPixelSize(),S=x.width,k=x.height;f.uniform2fv(e.uniforms.u_texsize,[S,k])}f.uniform2f(e.uniforms.u_gl_units_to_pixels,1/t.transform.pixelsToGLUnits[0],1/t.transform.pixelsToGLUnits[1])}l&&(v?(f.uniform1i(e.uniforms.u_image,0),y.activeTexture.set(f.TEXTURE0),t.lineAtlas.bind(y),f.uniform1f(e.uniforms.u_tex_y_a,u.y),f.uniform1f(e.uniforms.u_tex_y_b,d.y),f.uniform1f(e.uniforms.u_mix,v.t)):g&&(f.uniform1i(e.uniforms.u_image,0),y.activeTexture.set(f.TEXTURE0),t.imageManager.bind(y),f.uniform2fv(e.uniforms.u_pattern_tl_a,h.tl),f.uniform2fv(e.uniforms.u_pattern_br_a,h.br),f.uniform2fv(e.uniforms.u_pattern_tl_b,m.tl),f.uniform2fv(e.uniforms.u_pattern_br_b,m.br),f.uniform1f(e.uniforms.u_fade,g.t))),y.setStencilMode(t.stencilModeForClipping(s));var P=t.translatePosMatrix(s.posMatrix,r,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));f.uniformMatrix4fv(e.uniforms.u_matrix,!1,P),f.uniform1f(e.uniforms.u_ratio,1/i(r,1,t.transform.zoom)),e.draw(y,f.TRIANGLES,a.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,c)}var n=e("../util/browser"),i=e("../source/pixels_to_tile_units"),a=e("../gl/depth_mode");t.exports=function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("line-opacity").constantOr(1)){var i=e.context;i.setDepthMode(e.depthModeForSublayer(0,a.ReadOnly)),i.setColorMode(e.colorModeForRenderPass());for(var s,c=r.paint.get("line-dasharray")?"lineSDF":r.paint.get("line-pattern")?"linePattern":"line",l=!0,p=0,u=n;p<u.length;p+=1){var d=u[p],h=t.getTile(d),m=h.getBucket(r);if(m){var y=m.programConfigurations.get(r.id),f=e.context.program.get(),v=e.useProgram(c,y),g=l||v.program!==f,_=s!==h.tileID.overscaledZ;g&&y.setUniforms(e.context,v,r.paint,{zoom:e.transform.zoom}),o(v,e,h,m,r,d,y,g,_),s=h.tileID.overscaledZ,l=!1}}}}},{"../gl/depth_mode":70,"../source/pixels_to_tile_units":107,"../util/browser":263}],86:[function(e,t,r){"use strict";function o(e,t,r,o){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity")){var c=e.context,p=c.gl,h=t.getSource(),m=e.useProgram("raster");c.setStencilMode(u.disabled),c.setColorMode(e.colorModeForRenderPass()),p.uniform1f(m.uniforms.u_brightness_low,r.paint.get("raster-brightness-min")),p.uniform1f(m.uniforms.u_brightness_high,r.paint.get("raster-brightness-max")),p.uniform1f(m.uniforms.u_saturation_factor,a(r.paint.get("raster-saturation"))),p.uniform1f(m.uniforms.u_contrast_factor,i(r.paint.get("raster-contrast"))),p.uniform3fv(m.uniforms.u_spin_weights,n(r.paint.get("raster-hue-rotate"))),p.uniform1f(m.uniforms.u_buffer_scale,1),p.uniform1i(m.uniforms.u_image0,0),p.uniform1i(m.uniforms.u_image1,1);for(var y=o.length&&o[0].overscaledZ,f=0,v=o;f<v.length;f+=1){var g=v[f];c.setDepthMode(e.depthModeForSublayer(g.overscaledZ-y,1===r.paint.get("raster-opacity")?d.ReadWrite:d.ReadOnly,p.LESS));var _=t.getTile(g),w=e.transform.calculatePosMatrix(g.toUnwrapped());_.registerFadeDuration(r.paint.get("raster-fade-duration")),p.uniformMatrix4fv(m.uniforms.u_matrix,!1,w);var b=t.findLoadedParent(g,0,{}),x=s(_,b,t,r,e.transform),S=void 0,k=void 0;if(c.activeTexture.set(p.TEXTURE0),_.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),c.activeTexture.set(p.TEXTURE1),b?(b.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),S=Math.pow(2,b.tileID.overscaledZ-_.tileID.overscaledZ),k=[_.tileID.canonical.x*S%1,_.tileID.canonical.y*S%1]):_.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),p.uniform2fv(m.uniforms.u_tl_parent,k||[0,0]),p.uniform1f(m.uniforms.u_scale_parent,S||1),p.uniform1f(m.uniforms.u_fade_t,x.mix),p.uniform1f(m.uniforms.u_opacity,x.opacity*r.paint.get("raster-opacity")),h instanceof l){var P=h.boundsBuffer;h.boundsVAO.bind(c,m,P,[]),p.drawArrays(p.TRIANGLE_STRIP,0,P.length)}else if(_.maskedBoundsBuffer&&_.maskedIndexBuffer&&_.segments)m.draw(c,p.TRIANGLES,r.id,_.maskedBoundsBuffer,_.maskedIndexBuffer,_.segments);else{var E=e.rasterBoundsBuffer,C=e.rasterBoundsVAO;C.bind(c,m,E,[]),p.drawArrays(p.TRIANGLE_STRIP,0,E.length)}}}}function n(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}function i(e){return e>0?1/(1-e):1+e}function a(e){return e>0?1-1/(1.001-e):-e}function s(e,t,r,o,n){var i=o.paint.get("raster-fade-duration");if(i>0){var a=p.now(),s=(a-e.timeAdded)/i,l=t?(a-t.timeAdded)/i:-1,u=r.getSource(),d=n.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!t||Math.abs(t.tileID.overscaledZ-d)>Math.abs(e.tileID.overscaledZ-d),m=h&&e.refreshedUponExpiration?1:c.clamp(h?s:1-l,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-m}:{opacity:m,mix:0}}return{opacity:1,mix:0}}var c=e("../util/util"),l=e("../source/image_source"),p=e("../util/browser"),u=e("../gl/stencil_mode"),d=e("../gl/depth_mode");t.exports=o},{"../gl/depth_mode":70,"../gl/stencil_mode":73,"../source/image_source":105,"../util/browser":263,"../util/util":285}],87:[function(e,t,r){"use strict";function o(e,t,r,o){if("translucent"===e.renderPass){var i=e.context;i.setStencilMode(f.disabled),i.setColorMode(e.colorModeForRenderPass()),0!==r.paint.get("icon-opacity").constantOr(1)&&n(e,t,r,o,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright")),0!==r.paint.get("text-opacity").constantOr(1)&&n(e,t,r,o,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright")),t.map.showCollisionBoxes&&c(e,t,r,o)}}function n(e,t,r,o,n,s,c,u,d,m){var f=e.context,g=f.gl,_=e.transform,w="map"===u,b="map"===d,x=w&&"line"===r.layout.get("symbol-placement"),S=w&&!b&&!x,k=b;f.setDepthMode(k?e.depthModeForSublayer(0,v.ReadOnly):v.disabled);for(var P,E=0,C=o;E<C.length;E+=1){var A=C[E],T=t.getTile(A),M=T.getBucket(r);if(M){var R=n?M.text:M.icon;if(R&&R.segments.get().length){var z=R.programConfigurations.get(r.id),O=n||M.sdfIcons,j=n?M.textSizeData:M.iconSizeData;if(P||(P=e.useProgram(O?"symbolSDF":"symbolIcon",z),z.setUniforms(e.context,P,r.paint,{zoom:e.transform.zoom}),i(P,e,r,n,S,b,j)),f.activeTexture.set(g.TEXTURE0),g.uniform1i(P.uniforms.u_texture,0),n)T.glyphAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.uniform2fv(P.uniforms.u_texsize,T.glyphAtlasTexture.size);else{var N=1!==r.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear,F=b||0!==_.pitch;T.iconAtlasTexture.bind(O||e.options.rotating||e.options.zooming||N||F?g.LINEAR:g.NEAREST,g.CLAMP_TO_EDGE),g.uniform2fv(P.uniforms.u_texsize,T.iconAtlasTexture.size)}g.uniformMatrix4fv(P.uniforms.u_matrix,!1,e.translatePosMatrix(A.posMatrix,T,s,c));var I=l(T,1,e.transform.zoom),B=p.getLabelPlaneMatrix(A.posMatrix,b,w,e.transform,I),D=p.getGlCoordMatrix(A.posMatrix,b,w,e.transform,I);g.uniformMatrix4fv(P.uniforms.u_gl_coord_matrix,!1,e.translatePosMatrix(D,T,s,c,!0)),x?(g.uniformMatrix4fv(P.uniforms.u_label_plane_matrix,!1,h),p.updateLineLabels(M,A.posMatrix,e,n,B,D,b,m)):g.uniformMatrix4fv(P.uniforms.u_label_plane_matrix,!1,B),g.uniform1f(P.uniforms.u_fade_change,e.options.fadeDuration?(y.now()-M.fadeStartTime)/e.options.fadeDuration:1),a(P,z,e,r,T,R,n,O,b)}}}}function i(e,t,r,o,n,i,a){var s=t.context.gl,c=t.transform;s.uniform1i(e.uniforms.u_pitch_with_map,i?1:0),s.uniform1f(e.uniforms.u_is_text,o?1:0),s.uniform1f(e.uniforms.u_pitch,c.pitch/360*2*Math.PI);var l="constant"===a.functionType||"source"===a.functionType,p="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(e.uniforms.u_is_size_zoom_constant,l?1:0),s.uniform1i(e.uniforms.u_is_size_feature_constant,p?1:0),s.uniform1f(e.uniforms.u_camera_to_center_distance,c.cameraToCenterDistance);var d=u.evaluateSizeForZoom(a,c.zoom,m.properties[o?"text-size":"icon-size"]);void 0!==d.uSizeT&&s.uniform1f(e.uniforms.u_size_t,d.uSizeT),void 0!==d.uSize&&s.uniform1f(e.uniforms.u_size,d.uSize),s.uniform1f(e.uniforms.u_aspect_ratio,c.width/c.height),s.uniform1i(e.uniforms.u_rotate_symbol,n?1:0)}function a(e,t,r,o,n,i,a,c,l){var p=r.context,u=p.gl,d=r.transform;if(c){var h=0!==o.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),m=l?Math.cos(d._pitch)*d.cameraToCenterDistance:1;u.uniform1f(e.uniforms.u_gamma_scale,m),h&&(u.uniform1f(e.uniforms.u_is_halo,1),s(i,o,p,e)),u.uniform1f(e.uniforms.u_is_halo,0)}s(i,o,p,e)}function s(e,t,r,o){o.draw(r,r.gl.TRIANGLES,t.id,e.layoutVertexBuffer,e.indexBuffer,e.segments,e.programConfigurations.get(t.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}var c=e("./draw_collision_debug"),l=e("../source/pixels_to_tile_units"),p=e("../symbol/projection"),u=e("../symbol/symbol_size"),d=e("@mapbox/gl-matrix").mat4,h=d.identity(new Float32Array(16)),m=e("../style/style_layer/symbol_style_layer_properties").layout,y=e("../util/browser"),f=e("../gl/stencil_mode"),v=e("../gl/depth_mode");t.exports=o},{"../gl/depth_mode":70,"../gl/stencil_mode":73,"../source/pixels_to_tile_units":107,"../style/style_layer/symbol_style_layer_properties":220,"../symbol/projection":234,"../symbol/symbol_size":239,"../util/browser":263,"./draw_collision_debug":79,"@mapbox/gl-matrix":2}],88:[function(e,t,r){"use strict";function o(e){var t=new a({width:0,height:0}),r={},o=new n(0,0,{autoResize:!0});for(var i in e){var c=e[i],l=r[i]={};for(var p in c){var u=c[+p];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var d=o.packOne(u.bitmap.width+2*s,u.bitmap.height+2*s);t.resize({width:o.w,height:o.h}),a.copy(u.bitmap,t,{x:0,y:0},{x:d.x+s,y:d.y+s},u.bitmap),l[p]={rect:d,metrics:u.metrics}}}}return o.shrink(),t.resize({width:o.w,height:o.h}),{image:t,positions:r}}var n=e("@mapbox/shelf-pack"),i=e("../util/image"),a=i.AlphaImage,s=1;t.exports={makeGlyphAtlas:o}},{"../util/image":274,"@mapbox/shelf-pack":5}],89:[function(e,t,r){"use strict";var o=e("../style/load_glyph_range"),n=e("@mapbox/tiny-sdf"),i=e("../util/is_char_in_unicode_block"),a=e("../util/util"),s=a.asyncAll,c=e("../util/image"),l=c.AlphaImage,p=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};p.prototype.setURL=function(e){this.url=e},p.prototype.getGlyphs=function(e,t){var r=this,n=[];for(var i in e)for(var a=0,c=e[i];a<c.length;a+=1){var l=c[a];n.push({stack:i,id:l})}s(n,function(e,t){var n=e.stack,i=e.id,a=r.entries[n];a||(a=r.entries[n]={glyphs:{},requests:{}});var s=a.glyphs[i];if(void 0!==s)return void t(null,{stack:n,id:i,glyph:s});if(s=r._tinySDF(a,n,i))return void t(null,{stack:n,id:i,glyph:s});var c=Math.floor(i/256);if(256*c>65535)return void t(new Error("glyphs > 65535 not supported"));var l=a.requests[c];l||(l=a.requests[c]=[],o(n,c,r.url,r.requestTransform,function(e,t){if(t)for(var r in t)a.glyphs[+r]=t[+r];for(var o=0,n=l;o<n.length;o+=1)(0,n[o])(e,t);delete a.requests[c]})),l.push(function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})})},function(e,r){if(e)t(e);else if(r){for(var o={},n=0,i=r;n<i.length;n+=1){var a=i[n],s=a.stack,c=a.id,l=a.glyph;(o[s]||(o[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}t(null,o)}})},p.prototype._tinySDF=function(e,t,r){var o=this.localIdeographFontFamily;if(o&&(i["CJK Unified Ideographs"](r)||i["Hangul Syllables"](r))){var a=e.tinySDF;if(!a){var s="400";/bold/i.test(t)?s="900":/medium/i.test(t)?s="500":/light/i.test(t)&&(s="200"),a=e.tinySDF=new n(24,3,8,.25,o,s)}return{id:r,bitmap:new l({width:30,height:30},a.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},t.exports=p},{"../style/load_glyph_range":195,"../util/image":274,"../util/is_char_in_unicode_block":276,"../util/util":285,"@mapbox/tiny-sdf":6}],90:[function(e,t,r){"use strict";function o(e,t){var r=t.pixelRatio,o={x:e.x+c,y:e.y+c,w:e.w-2*c,h:e.h-2*c};return{pixelRatio:r,textureRect:o,tl:[o.x,o.y],br:[o.x+o.w,o.y+o.h],displaySize:[o.w/r,o.h/r]}}function n(e){var t=new s({width:0,height:0}),r={},n=new i(0,0,{autoResize:!0});for(var a in e){var l=e[a],p=n.packOne(l.data.width+2*c,l.data.height+2*c);t.resize({width:n.w,height:n.h}),s.copy(l.data,t,{x:0,y:0},{x:p.x+c,y:p.y+c},l.data),r[a]=o(p,l)}return n.shrink(),t.resize({width:n.w,height:n.h}),{image:t,positions:r}}var i=e("@mapbox/shelf-pack"),a=e("../util/image"),s=a.RGBAImage,c=1;t.exports={imagePosition:o,makeImageAtlas:n}},{"../util/image":274,"@mapbox/shelf-pack":5}],91:[function(e,t,r){"use strict";var o=e("@mapbox/shelf-pack"),n=e("../util/image"),i=n.RGBAImage,a=e("./image_atlas"),s=a.imagePosition,c=e("./texture"),l=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new o(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new i({width:64,height:64}),this.dirty=!0};l.prototype.isLoaded=function(){return this.loaded},l.prototype.setLoaded=function(e){var t=this;if(this.loaded!==e&&(this.loaded=e,e)){for(var r=0,o=t.requestors;r<o.length;r+=1){var n=o[r],i=n.ids,a=n.callback;t._notify(i,a)}this.requestors=[]}},l.prototype.getImage=function(e){return this.images[e]},l.prototype.addImage=function(e,t){this.images[e]=t},l.prototype.removeImage=function(e){delete this.images[e];var t=this.patterns[e];t&&(this.shelfPack.unref(t.bin),delete this.patterns[e])},l.prototype.getImages=function(e,t){var r=this,o=!0;if(!this.isLoaded())for(var n=0,i=e;n<i.length;n+=1){var a=i[n];r.images[a]||(o=!1)}this.isLoaded()||o?this._notify(e,t):this.requestors.push({ids:e,callback:t})},l.prototype._notify=function(e,t){for(var r=this,o={},n=0,i=e;n<i.length;n+=1){var a=i[n],s=r.images[a];s&&(o[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf})}t(null,o)},l.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},l.prototype.getPattern=function(e){var t=this.patterns[e];if(t)return t.position;var r=this.getImage(e);if(!r)return null;var o=r.data.width+2,n=r.data.height+2,a=this.shelfPack.packOne(o,n);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var c=r.data,l=this.atlasImage,p=a.x+1,u=a.y+1,d=c.width,h=c.height;i.copy(c,l,{x:0,y:0},{x:p,y:u},{width:d,height:h}),i.copy(c,l,{x:0,y:h-1},{x:p,y:u-1},{width:d,height:1}),i.copy(c,l,{x:0,y:0},{x:p,y:u+h},{width:d,height:1}),i.copy(c,l,{x:d-1,y:0},{x:p-1,y:u},{width:1,height:h}),i.copy(c,l,{x:0,y:0},{x:p+d,y:u},{width:1,height:h}),this.dirty=!0;var m=s(a,r);return this.patterns[e]={bin:a,position:m},m},l.prototype.bind=function(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new c(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},t.exports=l},{"../util/image":274,"./image_atlas":90,"./texture":96,"@mapbox/shelf-pack":5}],92:[function(e,t,r){"use strict";var o=e("../util/util"),n=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};n.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},n.prototype.addDash=function(e,t){var r=this,n=t?7:0,i=2*n+1;if(this.nextRow+i>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<e.length;s++)a+=e[s];for(var c=this.width/a,l=c/2,p=e.length%2==1,u=-n;u<=n;u++)for(var d=r.nextRow+n+u,h=r.width*d,m=p?-e[e.length-1]:0,y=e[0],f=1,v=0;v<this.width;v++){for(;y<v/c;)m=y,y+=e[f],p&&f===e.length-1&&(y+=e[0]),f++;var g=Math.abs(v-m*c),_=Math.abs(v-y*c),w=Math.min(g,_),b=f%2==1,x=void 0;if(t){var S=n?u/n*(l+1):0;if(b){var k=l-Math.abs(S);x=Math.sqrt(w*w+k*k)}else x=l-Math.sqrt(w*w+S*S)}else x=(b?1:-1)*w;r.data[3+4*(h+v)]=Math.max(0,Math.min(255,x+128))}var P={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=i,this.dirty=!0,P},n.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},t.exports=n},{"../util/util":285}],93:[function(e,t,r){"use strict";var o=e("../util/browser"),n=e("@mapbox/gl-matrix").mat4,i=e("../source/source_cache"),a=e("../data/extent"),s=e("../source/pixels_to_tile_units"),c=e("../util/util"),l=e("./vertex_array_object"),p=e("../data/array_types"),u=p.RasterBoundsArray,d=p.PosArray,h=e("../data/raster_bounds_attributes"),m=e("../data/pos_attributes"),y=e("../data/program_configuration"),f=y.ProgramConfiguration,v=e("../symbol/cross_tile_symbol_index"),g=e("../shaders"),_=e("./program"),w=e("../gl/context"),b=e("../gl/depth_mode"),x=e("../gl/stencil_mode"),S=e("../gl/color_mode"),k=(e("./texture"),e("./tile_mask")),P=e("../style-spec/util/color"),E={symbol:e("./draw_symbol"),circle:e("./draw_circle"),heatmap:e("./draw_heatmap"),line:e("./draw_line"),fill:e("./draw_fill"),"fill-extrusion":e("./draw_fill_extrusion"),hillshade:e("./draw_hillshade"),raster:e("./draw_raster"),background:e("./draw_background"),debug:e("./draw_debug")},C=function(e,t){this.context=new w(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=i.maxUnderzooming+i.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new f,this.crossTileSymbolIndex=new v};C.prototype.resize=function(e,t){var r=this,n=this.context.gl;if(this.width=e*o.devicePixelRatio,this.height=t*o.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,a=r.style._order;i<a.length;i+=1){var s=a[i];r.style._layers[s].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},C.prototype.setup=function(){var e=this.context,t=new d;t.emplaceBack(0,0),t.emplaceBack(a,0),t.emplaceBack(0,a),t.emplaceBack(a,a),this.tileExtentBuffer=e.createVertexBuffer(t,m.members),this.tileExtentVAO=new l,this.tileExtentPatternVAO=new l;var r=new d;r.emplaceBack(0,0),r.emplaceBack(a,0),r.emplaceBack(a,a),r.emplaceBack(0,a),r.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(r,m.members),this.debugVAO=new l;var o=new u;o.emplaceBack(0,0,0,0),o.emplaceBack(a,0,a,0),o.emplaceBack(0,a,0,a),o.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=e.createVertexBuffer(o,h.members),this.rasterBoundsVAO=new l;var n=new d;n.emplaceBack(0,0),n.emplaceBack(1,0),n.emplaceBack(0,1),n.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(n,m.members),this.viewportVAO=new l},C.prototype.clearStencil=function(){var e=this.context,t=e.gl;e.setColorMode(S.disabled),e.setDepthMode(b.disabled),e.setStencilMode(new x({func:t.ALWAYS,mask:0},0,255,t.ZERO,t.ZERO,t.ZERO));var r=n.create();n.ortho(r,0,this.width,this.height,0,0,1),n.scale(r,r,[t.drawingBufferWidth,t.drawingBufferHeight,0]);var o=this.useProgram("fill",f.forTileClippingMask());t.uniformMatrix4fv(o.uniforms.u_matrix,!1,r),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),t.drawArrays(t.TRIANGLE_STRIP,0,4)},C.prototype._renderTileClippingMasks=function(e){var t=this,r=this.context,o=r.gl;r.setColorMode(S.disabled),r.setDepthMode(b.disabled);var n=1;this._tileClippingMaskIDs={};for(var i=f.forTileClippingMask(),a=0,s=e;a<s.length;a+=1){var c=s[a],l=t._tileClippingMaskIDs[c.key]=n++;r.setStencilMode(new x({func:o.ALWAYS,mask:0},l,255,o.KEEP,o.KEEP,o.REPLACE));var p=t.useProgram("fill",i);o.uniformMatrix4fv(p.uniforms.u_matrix,!1,c.posMatrix),t.tileExtentVAO.bind(t.context,p,t.tileExtentBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}},C.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new x({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},C.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new S([e.CONSTANT_COLOR,e.ONE],new P(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?S.unblended:S.alphaBlended},C.prototype.depthModeForSublayer=function(e,t,r){var o=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=o-1+this.depthRange;return new b(r||this.context.gl.LEQUAL,t,[n,o])},C.prototype.render=function(e,t){var r=this;this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager;for(var o in e.sourceCaches){var n=r.style.sourceCaches[o];n.used&&n.prepare(r.context)}var i=this.style._order,a=c.filterObject(this.style.sourceCaches,function(e){return"raster"===e.getSource().type||"raster-dem"===e.getSource().type});for(var s in a)!function(e){var t=a[e],o=t.getVisibleCoordinates(),n=o.map(function(e){return t.getTile(e)});k(n,r.context)}(s);this.renderPass="offscreen";var l,p=[];this.depthRboNeedsClear=!0;for(var u=0;u<i.length;u++){var d=r.style._layers[i[u]];d.hasOffscreenPass()&&!d.isHidden(r.transform.zoom)&&(d.source!==(l&&l.id)&&(l=r.style.sourceCaches[d.source],p=[],l&&(p=l.getVisibleCoordinates(),p.reverse())),p.length&&r.renderLayer(r,l,d,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:t.showOverdrawInspector?P.black:P.transparent,depth:1}),this._showOverdrawInspector=t.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var h,m=[];for(this.currentLayer=i.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var y=r.style._layers[i[r.currentLayer]];y.source!==(h&&h.id)&&(h=r.style.sourceCaches[y.source],m=[],h&&(r.clearStencil(),m=h.getVisibleCoordinates(),h.getSource().isTileClipped&&r._renderTileClippingMasks(m))),r.renderLayer(r,h,y,m)}this.renderPass="translucent";var f,v=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<i.length;this.currentLayer++){var g=r.style._layers[i[r.currentLayer]];g.source!==(f&&f.id)&&(f=r.style.sourceCaches[g.source],v=[],f&&(r.clearStencil(),v=f.getVisibleCoordinates(),f.getSource().isTileClipped&&r._renderTileClippingMasks(v)),v.reverse()),r.renderLayer(r,f,g,v)}if(this.options.showTileBoundaries){var _=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];_&&E.debug(this,_,_.getVisibleCoordinates())}},C.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},C.prototype.renderLayer=function(e,t,r,o){r.isHidden(this.transform.zoom)||("background"===r.type||o.length)&&(this.id=r.id,E[r.type](e,t,r,o))},C.prototype.translatePosMatrix=function(e,t,r,o,i){if(!r[0]&&!r[1])return e;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var c=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*c,r[0]*c+r[1]*l]}var p=[i?r[0]:s(t,r[0],this.transform.zoom),i?r[1]:s(t,r[1],this.transform.zoom),0],u=new Float32Array(16);return n.translate(u,e,p),u},C.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},C.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},C.prototype._createProgramCached=function(e,t){this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new _(this.context,g[e],t,this._showOverdrawInspector)),this.cache[r]},C.prototype.useProgram=function(e,t){var r=this._createProgramCached(e,t||this.emptyProgramConfiguration);return this.context.program.set(r.program),r},t.exports=C},{"../data/array_types":42,"../data/extent":56,"../data/pos_attributes":60,"../data/program_configuration":61,"../data/raster_bounds_attributes":62,"../gl/color_mode":68,"../gl/context":69,"../gl/depth_mode":70,"../gl/stencil_mode":73,"../shaders":100,"../source/pixels_to_tile_units":107,"../source/source_cache":114,"../style-spec/util/color":165,"../symbol/cross_tile_symbol_index":229,"../util/browser":263,"../util/util":285,"./draw_background":77,"./draw_circle":78,"./draw_debug":80,"./draw_fill":81,"./draw_fill_extrusion":82,"./draw_heatmap":83,"./draw_hillshade":84,"./draw_line":85,"./draw_raster":86,"./draw_symbol":87,"./program":95,"./texture":96,"./tile_mask":97,"./vertex_array_object":98,"@mapbox/gl-matrix":2}],94:[function(e,t,r){"use strict";var o=e("../source/pixels_to_tile_units");r.isPatternMissing=function(e,t){if(!e)return!1;var r=t.imageManager.getPattern(e.from),o=t.imageManager.getPattern(e.to);return!r||!o},r.prepare=function(e,t,r){var o=t.context,n=o.gl,i=t.imageManager.getPattern(e.from),a=t.imageManager.getPattern(e.to);n.uniform1i(r.uniforms.u_image,0),n.uniform2fv(r.uniforms.u_pattern_tl_a,i.tl),n.uniform2fv(r.uniforms.u_pattern_br_a,i.br),n.uniform2fv(r.uniforms.u_pattern_tl_b,a.tl),n.uniform2fv(r.uniforms.u_pattern_br_b,a.br);var s=t.imageManager.getPixelSize(),c=s.width,l=s.height;n.uniform2fv(r.uniforms.u_texsize,[c,l]),n.uniform1f(r.uniforms.u_mix,e.t),n.uniform2fv(r.uniforms.u_pattern_size_a,i.displaySize),n.uniform2fv(r.uniforms.u_pattern_size_b,a.displaySize),n.uniform1f(r.uniforms.u_scale_a,e.fromScale),n.uniform1f(r.uniforms.u_scale_b,e.toScale),o.activeTexture.set(n.TEXTURE0),t.imageManager.bind(t.context)},r.setTile=function(e,t,r){var n=t.context.gl;n.uniform1f(r.uniforms.u_tile_units_to_pixels,1/o(e,1,t.transform.tileZoom));var i=Math.pow(2,e.tileID.overscaledZ),a=e.tileSize*Math.pow(2,t.transform.tileZoom)/i,s=a*(e.tileID.canonical.x+e.tileID.wrap*i),c=a*e.tileID.canonical.y;n.uniform2f(r.uniforms.u_pixel_coord_upper,s>>16,c>>16),n.uniform2f(r.uniforms.u_pixel_coord_lower,65535&s,65535&c)}},{"../source/pixels_to_tile_units":107}],95:[function(e,t,r){"use strict";var o=e("../util/browser"),n=e("../shaders"),i=e("../data/program_configuration"),a=(i.ProgramConfiguration,e("./vertex_array_object")),s=(e("../gl/context"),function(e,t,r,i){var a=this,s=e.gl;this.program=s.createProgram();var c=r.defines().concat("#define DEVICE_PIXEL_RATIO "+o.devicePixelRatio.toFixed(1));i&&c.push("#define OVERDRAW_INSPECTOR;");var l=c.concat(n.prelude.fragmentSource,t.fragmentSource).join("\n"),p=c.concat(n.prelude.vertexSource,t.vertexSource).join("\n"),u=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(u,l),s.compileShader(u),s.attachShader(this.program,u);var d=s.createShader(s.VERTEX_SHADER);s.shaderSource(d,p),s.compileShader(d),s.attachShader(this.program,d);for(var h=r.layoutAttributes||[],m=0;m<h.length;m++)s.bindAttribLocation(a.program,m,h[m].name);s.linkProgram(this.program),this.numAttributes=s.getProgramParameter(this.program,s.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var y=0;y<this.numAttributes;y++){var f=s.getActiveAttrib(a.program,y);f&&(a.attributes[f.name]=s.getAttribLocation(a.program,f.name))}for(var v=s.getProgramParameter(this.program,s.ACTIVE_UNIFORMS),g=0;g<v;g++){var _=s.getActiveUniform(a.program,g);_&&(a.uniforms[_.name]=s.getUniformLocation(a.program,_.name))}});s.prototype.draw=function(e,t,r,o,n,i,s,c,l){for(var p,u=this,d=e.gl,h=(p={},p[d.LINES]=2,p[d.TRIANGLES]=3,p)[t],m=0,y=i.get();m<y.length;m+=1){var f=y[m],v=f.vaos||(f.vaos={});(v[r]||(v[r]=new a)).bind(e,u,o,s?s.getPaintVertexBuffers():[],n,f.vertexOffset,c,l),d.drawElements(t,f.primitiveLength*h,d.UNSIGNED_SHORT,f.primitiveOffset*h*2)}},t.exports=s},{"../data/program_configuration":61,"../gl/context":69,"../shaders":100,"../util/browser":263,"./vertex_array_object":98}],96:[function(e,t,r){"use strict";var o=e("../util/window"),n=o.HTMLImageElement,i=o.HTMLCanvasElement,a=o.HTMLVideoElement,s=o.ImageData,c=function(e,t,r,o){this.context=e;var n=t.width,i=t.height;this.size=[n,i],this.format=r,this.texture=e.gl.createTexture(),this.update(t,o)};c.prototype.update=function(e,t){var r=e.width,o=e.height;this.size=[r,o];var c=this,l=c.context,p=l.gl;p.bindTexture(p.TEXTURE_2D,this.texture),l.pixelStoreUnpack.set(1),this.format===p.RGBA&&!1!==t&&l.pixelStoreUnpackPremultiplyAlpha.set(!0),e instanceof n||e instanceof i||e instanceof a||e instanceof s?p.texImage2D(p.TEXTURE_2D,0,this.format,this.format,p.UNSIGNED_BYTE,e):p.texImage2D(p.TEXTURE_2D,0,this.format,r,o,0,this.format,p.UNSIGNED_BYTE,e.data)},c.prototype.bind=function(e,t,r){var o=this,n=o.context,i=n.gl;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)},c.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},t.exports=c},{"../util/window":265}],97:[function(e,t,r){"use strict";function o(e,t,r,n,i){for(var s=0;s<r.length;s++){var c=r[s];if(n.isLessThan(c.tileID))break;if(t.key===c.tileID.key)return;if(c.tileID.isChildOf(t)){for(var l=t.children(1/0),p=0;p<l.length;p++)o(e,l[p],r.slice(s),n,i);return}}var u=t.overscaledZ-e.overscaledZ,d=new a(u,t.canonical.x-(e.canonical.x<<u),t.canonical.y-(e.canonical.y<<u));i[d.key]=i[d.key]||d}var n=e("../source/tile_id"),i=n.OverscaledTileID,a=n.CanonicalTileID;t.exports=function(e,t){for(var r=e.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),n=0;n<r.length;n++){var a={},s=r[n],c=r.slice(n+1);o(s.tileID.wrapped(),s.tileID,c,new i(0,s.tileID.wrap+1,0,0,0),a),s.setMask(a,t)}}},{"../source/tile_id":117}],98:[function(e,t,r){"use strict";var o=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};o.prototype.bind=function(e,t,r,o,n,i,a,s){var c=this;this.context=e;for(var l=this.boundPaintVertexBuffers.length!==o.length,p=0;!l&&p<o.length;p++)c.boundPaintVertexBuffers[p]!==o[p]&&(l=!0);var u=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||l||this.boundIndexBuffer!==n||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||u?this.freshBind(t,r,o,n,i,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),n&&n.dynamicDraw&&n.bind(),s&&s.bind())},o.prototype.freshBind=function(e,t,r,o,n,i,a){var s,c=e.numAttributes,l=this.context,p=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=o,this.boundVertexOffset=n,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var u=c;u<s;u++)p.disableVertexAttribArray(u)}t.enableAttributes(p,e);for(var d=0,h=r;d<h.length;d+=1)h[d].enableAttributes(p,e);i&&i.enableAttributes(p,e),a&&a.enableAttributes(p,e),t.bind(),t.setVertexAttribPointers(p,e,n);for(var m=0,y=r;m<y.length;m+=1){var f=y[m];f.bind(),f.setVertexAttribPointers(p,e,n)}i&&(i.bind(),i.setVertexAttribPointers(p,e,n)),o&&o.bind(),a&&(a.bind(),a.setVertexAttribPointers(p,e,n)),l.currentNumAttributes=c},o.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},t.exports=o},{}],99:[function(e,t,r){"use strict";var o=e("../util/util");r.packUint8ToFloat=function(e,t){return e=o.clamp(Math.floor(e),0,255),t=o.clamp(Math.floor(t),0,255),256*e+t}},{"../util/util":285}],100:[function(e,t,r){"use strict";var o={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 3.0;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (camera_to_anchor_distance / u_camera_to_center_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w / collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance / collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var i in o)!function(e){var t=o[e],r={};t.fragmentSource=t.fragmentSource.replace(n,function(e,t,o,n,i){return r[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+o+" "+n+" "+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n"}),t.vertexSource=t.vertexSource.replace(n,function(e,t,o,n,i){var a="float"===n?"vec2":"vec4";return r[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+o+" "+a+" a_"+i+";\nvarying "+o+" "+n+" "+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+o+" "+a+" a_"+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+o+" "+n+" "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n"})}(i);t.exports=o},{}],101:[function(e,t,r){"use strict";var o=e("./image_source"),n=e("../util/window"),i=e("../data/raster_bounds_attributes"),a=e("../render/vertex_array_object"),s=e("../render/texture"),c=function(e){function t(t,r,o,n){e.call(this,t,r,o,n),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){if(this.canvas=this.canvas||n.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading()},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},t.prototype.onRemove=function(){this.pause()},t.prototype.prepare=function(){var e=this,t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,o=r.gl;this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,i.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.canvas)):(this.texture=new s(r,this.canvas,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(var n in e.tiles){var c=e.tiles[n];"loaded"!==c.state&&(c.state="loaded",c.texture=e.texture)}}},t.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this._playing},t.prototype._hasInvalidDimensions=function(){for(var e=this,t=0,r=[e.canvas.width,e.canvas.height];t<r.length;t+=1){var o=r[t];if(isNaN(o)||o<=0)return!0}return!1},t}(o);t.exports=c},{"../data/raster_bounds_attributes":62,"../render/texture":96,"../render/vertex_array_object":98,"../util/window":265,"./image_source":105}],102:[function(e,t,r){"use strict";function o(e){var t=a.document.createElement("a");return t.href=e,t.href}var n=e("../util/evented"),i=e("../util/util"),a=e("../util/window"),s=e("../data/extent"),c=e("../util/ajax").ResourceType,l=e("../util/browser"),p=function(e){function t(t,r,o,n){e.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=o,this.setEventedParent(n),this._data=r.data,this._options=i.extend({},r),void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type);var a=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(r.clusterRadius||50)*a,log:!1}},r.workerOptions)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return void e.fire("error",{error:t});e.fire("data",{dataType:"source",sourceDataType:"metadata"})})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return t.fire("error",{error:e});t.fire("data",{dataType:"source",sourceDataType:"content"})}),this},t.prototype._updateWorkerData=function(e){var t=this,r=i.extend({},this.workerOptions),n=this._data;"string"==typeof n?r.request=this.map._transformRequest(o(n),c.Source):r.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",r,function(r){t._loaded=!0,e(r)},this.workerID)},t.prototype.loadTile=function(e,t){var r=this,o=void 0===e.workerID||"expired"===e.state?"loadTile":"reloadTile",n={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:l.devicePixelRatio,overscaling:e.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(o,n,function(o,n){return e.unloadVectorData(),e.aborted?t(null):o?t(o):(e.loadVectorData(n,r.map.painter),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},t.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},t.prototype.hasTransition=function(){return!1},t}(n);t.exports=p},{"../data/extent":56,"../util/ajax":262,"../util/browser":263,"../util/evented":271,"../util/util":285,"../util/window":265}],103:[function(e,t,r){"use strict";function o(e,t){var r=e.source,o=e.tileID.canonical;if(!this._geoJSONIndexes[r])return t(null,null);var n=this._geoJSONIndexes[r].getTile(o.z,o.x,o.y);if(!n)return t(null,null);var i=new a(n.features),c=s(i);0===c.byteOffset&&c.byteLength===c.buffer.byteLength||(c=new Uint8Array(c)),t(null,{vectorTile:i,rawData:c.buffer})}var n=e("../util/ajax"),i=e("geojson-rewind"),a=e("./geojson_wrapper"),s=e("vt-pbf"),c=e("supercluster"),l=e("geojson-vt"),p=e("./vector_tile_worker_source"),u=function(e){function t(t,r,n){e.call(this,t,r,o),n&&(this.loadGeoJSON=n),this._geoJSONIndexes={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadData=function(e,t){var r=this;this.loadGeoJSON(e,function(o,n){if(o||!n)return t(o);if("object"!=typeof n)return t(new Error("Input data is not a valid GeoJSON object."));i(n,!0);try{r._geoJSONIndexes[e.source]=e.cluster?c(e.superclusterOptions).load(n.features):l(n,e.geojsonVtOptions)}catch(o){return t(o)}r.loaded[e.source]={},t(null)})},t.prototype.reloadTile=function(t,r){var o=this.loaded[t.source],n=t.uid;return o&&o[n]?e.prototype.reloadTile.call(this,t,r):this.loadTile(t,r)},t.prototype.loadGeoJSON=function(e,t){if(e.request)n.getJSON(e.request,t);else{if("string"!=typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(e,t){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source],t()},t}(p);t.exports=u},{"../util/ajax":262,"./geojson_wrapper":104,"./vector_tile_worker_source":119,"geojson-rewind":14,"geojson-vt":18,supercluster:32,"vt-pbf":37}],104:[function(e,t,r){"use strict";var o=e("@mapbox/point-geometry"),n=e("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,i=e("../data/extent"),a=function(e){this._feature=e,this.extent=i,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};a.prototype.loadGeometry=function(){var e=this;if(1===this._feature.type){for(var t=[],r=0,n=e._feature.geometry;r<n.length;r+=1){var i=n[r];t.push([new o(i[0],i[1])])}return t}for(var a=[],s=0,c=e._feature.geometry;s<c.length;s+=1){for(var l=c[s],p=[],u=0,d=l;u<d.length;u+=1){var h=d[u];p.push(new o(h[0],h[1]))}a.push(p)}return a},a.prototype.toGeoJSON=function(e,t,r){return n.call(this,e,t,r)};var s=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i,this.length=e.length,this._features=e};s.prototype.feature=function(e){return new a(this._features[e])},t.exports=s},{"../data/extent":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],105:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("./tile_id"),i=n.CanonicalTileID,a=e("../geo/lng_lat"),s=e("@mapbox/point-geometry"),c=e("../util/evented"),l=e("../util/ajax"),p=e("../util/browser"),u=e("../data/extent"),d=e("../data/array_types"),h=d.RasterBoundsArray,m=e("../data/raster_bounds_attributes"),y=e("../render/vertex_array_object"),f=e("../render/texture"),v=function(e){function t(t,r,o,n){e.call(this),this.id=t,this.dispatcher=o,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(n),this.options=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.map._transformRequest(this.url,l.ResourceType.Image),function(t,r){t?e.fire("error",{error:t}):r&&(e.image=p.getImageData(r),e._finishLoading())})},t.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.setCoordinates=function(e){this.coordinates=e;var t=this.map,r=e.map(function(e){return t.transform.locationCoordinate(a.convert(e)).zoomTo(0)}),n=this.centerCoord=o.getCoordinatesCenter(r);n.column=Math.floor(n.column),n.row=Math.floor(n.row),this.tileID=new i(n.zoom,n.column,n.row),this.minzoom=this.maxzoom=n.zoom;var c=r.map(function(e){var t=e.zoomTo(n.zoom);return new s(Math.round((t.column-n.column)*u),Math.round((t.row-n.row)*u))});return this._boundsArray=new h,this._boundsArray.emplaceBack(c[0].x,c[0].y,0,0),this._boundsArray.emplaceBack(c[1].x,c[1].y,u,0),this._boundsArray.emplaceBack(c[3].x,c[3].y,0,u),this._boundsArray.emplaceBack(c[2].x,c[2].y,u,u),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},t.prototype.prepare=function(){var e=this;if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,m.members)),this.boundsVAO||(this.boundsVAO=new y),this.texture||(this.texture=new f(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));for(var o in e.tiles){var n=e.tiles[o];"loaded"!==n.state&&(n.state="loaded",n.texture=e.texture)}}},t.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},t.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return!1},t}(c);t.exports=v},{"../data/array_types":42,"../data/extent":56,"../data/raster_bounds_attributes":62,"../geo/lng_lat":65,"../render/texture":96,"../render/vertex_array_object":98,"../util/ajax":262,"../util/browser":263,"../util/evented":271,"../util/util":285,"./tile_id":117,"@mapbox/point-geometry":4}],106:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../util/ajax"),i=e("../util/browser"),a=e("../util/mapbox").normalizeSourceURL;t.exports=function(e,t,r){var s=function(e,t){if(e)return r(e);if(t){var n=o.pick(t,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);t.vector_layers&&(n.vectorLayers=t.vector_layers,n.vectorLayerIds=n.vectorLayers.map(function(e){return e.id})),r(null,n)}};e.url?n.getJSON(t(a(e.url),n.ResourceType.Source),s):i.frame(function(){return s(null,e)})}},{"../util/ajax":262,"../util/browser":263,"../util/mapbox":278,"../util/util":285}],107:[function(e,t,r){"use strict";var o=e("../data/extent");t.exports=function(e,t,r){return t*(o/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}},{"../data/extent":56}],108:[function(e,t,r){"use strict";function o(e,t){var r=e.tileID,o=t.tileID;return r.overscaledZ-o.overscaledZ||r.canonical.y-o.canonical.y||r.wrap-o.wrap||r.canonical.x-o.canonical.x}function n(e){for(var t={},r={},o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.queryResults,s=i.wrappedTileID,c=r[s]=r[s]||{};for(var l in a)for(var p=a[l],u=c[l]=c[l]||{},d=t[l]=t[l]||[],h=0,m=p;h<m.length;h+=1){var y=m[h];u[y.featureIndex]||(u[y.featureIndex]=!0,d.push(y.feature))}}return t}r.rendered=function(e,t,r,i,a,s){var c=e.tilesIn(r);c.sort(o);for(var l=[],p=0,u=c;p<u.length;p+=1){var d=u[p];l.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,d.queryGeometry,d.scale,i,s,e.id)})}return n(l)},r.source=function(e,t){for(var r=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),o=[],n={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;n[s]||(n[s]=!0,a.querySourceFeatures(o,t))}return o}},{}],109:[function(e,t,r){"use strict";var o=e("../util/ajax"),n=e("../util/util"),i=(e("../util/evented"),e("../util/mapbox").normalizeTileURL),a=e("../util/browser"),s=e("./tile_id"),c=s.OverscaledTileID,l=e("./raster_tile_source"),p=function(e){function t(t,r,o,i){e.call(this,t,r,o,i),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({},r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},t.prototype.loadTile=function(e,t){function r(r,o){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(r)e.state="errored",t(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var i=a.getImageData(o),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:i};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",s,n.bind(this)))}}function n(r,o){r&&(e.state="errored",t(r)),o&&(e.dem=o,e.needsHillshadePrepare=!0,e.state="loaded",t(null))}var s=i(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=o.getImage(this.map._transformRequest(s,o.ResourceType.Tile),r.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},t.prototype._getNeighboringTiles=function(e){var t=e.canonical,r=Math.pow(2,t.z),o=(t.x-1+r)%r,n=0===t.x?e.wrap-1:e.wrap,i=(t.x+1+r)%r,a=t.x+1===r?e.wrap+1:e.wrap,s={};return s[new c(e.overscaledZ,n,t.z,o,t.y).key]={backfilled:!1},s[new c(e.overscaledZ,a,t.z,i,t.y).key]={backfilled:!1},t.y>0&&(s[new c(e.overscaledZ,n,t.z,o,t.y-1).key]={backfilled:!1},s[new c(e.overscaledZ,e.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},s[new c(e.overscaledZ,a,t.z,i,t.y-1).key]={backfilled:!1}),t.y+1<r&&(s[new c(e.overscaledZ,n,t.z,o,t.y+1).key]={backfilled:!1},s[new c(e.overscaledZ,e.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},s[new c(e.overscaledZ,a,t.z,i,t.y+1).key]={backfilled:!1}),s},t.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},t}(l);t.exports=p},{"../util/ajax":262,"../util/browser":263,"../util/evented":271,"../util/mapbox":278,"../util/util":285,"./raster_tile_source":111,"./tile_id":117}],110:[function(e,t,r){"use strict";var o=e("../data/dem_data"),n=o.DEMData,i=function(){this.loading={},this.loaded={}};i.prototype.loadTile=function(e,t){var r=e.source,o=e.uid;this.loading[r]||(this.loading[r]={});var i=new n(o);this.loading[r][o]=i,i.loadFromImage(e.rawImageData),delete this.loading[r][o],this.loaded[r]=this.loaded[r]||{},this.loaded[r][o]=i,t(null,i)},i.prototype.removeTile=function(e){var t=this.loaded[e.source],r=e.uid;t&&t[r]&&delete t[r]},t.exports=i},{"../data/dem_data":55}],111:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../util/ajax"),i=e("../util/evented"),a=e("./load_tilejson"),s=e("../util/mapbox").normalizeTileURL,c=e("./tile_bounds"),l=e("../render/texture"),p=function(e){function t(t,r,n,i){e.call(this),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({},r),o.extend(this,o.pick(r,["url","scheme","tileSize"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(t,r){t?e.fire("error",t):r&&(o.extend(e,r),r.bounds&&(e.tileBounds=new c(r.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return o.extend({},this._options)},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.loadTile=function(e,t){var r=this,o=s(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=n.getImage(this.map._transformRequest(o,n.ResourceType.Tile),function(o,n){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(o)e.state="errored",t(o);else if(n){r.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var i=r.map.painter.context,a=i.gl;e.texture=r.map.painter.getTileTexture(n.width),e.texture?(e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,n)):(e.texture=new l(i,n,a.RGBA),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",t(null)}})},t.prototype.abortTile=function(e,t){e.request&&(e.request.abort(),delete e.request),t()},t.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},t.prototype.hasTransition=function(){return!1},t}(i);t.exports=p},{"../render/texture":96,"../util/ajax":262,"../util/evented":271,"../util/mapbox":278,"../util/util":285,"./load_tilejson":106,"./tile_bounds":116}],112:[function(e,t,r){"use strict";var o=e("../util/ajax"),n=e("../util/evented"),i=e("../util/window"),a=!1,s=null;t.exports.evented=new n,t.exports.registerForPluginAvailability=function(e){return s?e({pluginBlobURL:s,errorCallback:t.exports.errorCallback}):t.exports.evented.once("pluginAvailable",e),e},t.exports.createBlobURL=function(e){return i.URL.createObjectURL(new i.Blob([e.data],{type:"text/javascript"}))},t.exports.clearRTLTextPlugin=function(){a=!1,s=null},t.exports.setRTLTextPlugin=function(e,r){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,t.exports.errorCallback=r,o.getArrayBuffer({url:e},function(e,o){e?r(e):o&&(s=t.exports.createBlobURL(o),t.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:r}))})},t.exports.applyArabicShaping=null,t.exports.processBidirectionalText=null},{"../util/ajax":262,"../util/evented":271,"../util/window":265}],113:[function(e,t,r){"use strict";var o=e("../util/util"),n={vector:e("../source/vector_tile_source"),raster:e("../source/raster_tile_source"),"raster-dem":e("../source/raster_dem_tile_source"),geojson:e("../source/geojson_source"),video:e("../source/video_source"),image:e("../source/image_source"),canvas:e("../source/canvas_source")};r.create=function(e,t,r,i){var a=new n[t.type](e,t,r,i);if(a.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+a.id);return o.bindAll(["load","abort","unload","serialize","prepare"],a),a},r.getType=function(e){return n[e]},r.setType=function(e,t){n[e]=t}},{"../source/canvas_source":101,"../source/geojson_source":102,"../source/image_source":105,"../source/raster_dem_tile_source":109,"../source/raster_tile_source":111,"../source/vector_tile_source":118,"../source/video_source":120,"../util/util":285}],114:[function(e,t,r){"use strict";function o(e,t){var r=t.zoomTo(e.canonical.z);return new d((r.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*u,(r.row-e.canonical.y)*u)}function n(e){return"raster"===e||"image"===e||"video"===e}var i=e("./source").create,a=e("./tile"),s=e("../util/evented"),c=e("../util/lru_cache"),l=e("../geo/coordinate"),p=e("../util/util"),u=e("../data/extent"),d=(e("../gl/context"),e("@mapbox/point-geometry")),h=e("../util/browser"),m=e("./tile_id"),y=m.OverscaledTileID,f=function(e){function t(t,r,o){var n=this;e.call(this),this.id=t,this.dispatcher=o,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(n._sourceLoaded=!0),n._sourceLoaded&&!n._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(n.reload(),n.transform&&n.update(n.transform))}),this.on("error",function(){n._sourceErrored=!0}),this._source=i(t,r,o,this),this._tiles={},this._cache=new c(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){var e=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in e._tiles){var r=e._tiles[t];if("loaded"!==r.state&&"errored"!==r.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.pause=function(){this._paused=!0},t.prototype.getNeedsFullPlacement=function(){return this._needsFullPlacement},t.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},t.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},t.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(e){var t=this;this._source.prepare&&this._source.prepare();for(var r in t._tiles)t._tiles[r].upload(e)},t.prototype.getIds=function(){var e=this,t=function(t,r){var o=e._tiles[t].tileID,n=e._tiles[r].tileID,i=new d(o.canonical.x,o.canonical.y).rotate(e.transform.angle),a=new d(n.canonical.x,n.canonical.y).rotate(e.transform.angle);return o.overscaledZ-n.overscaledZ||a.y-i.y||a.x-i.x};return Object.keys(this._tiles).map(Number).sort(t)},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0,{});return!!t&&this._isIdRenderable(t.tileID.key)},t.prototype._isIdRenderable=function(e){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){var e=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._cache.reset();for(var t in e._tiles)e._reloadTile(t,"reloading")},t.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},t.prototype._tileLoaded=function(e,t,r,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire("error",{tile:e,error:o}):this.update(this.transform));e.timeAdded=h.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire("data",{dataType:"source",tile:e,coord:e.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null),this._updatePlacement(),this.map&&this.getTileByID(t)&&e.added(this.map.painter.crossTileSymbolIndex)},t.prototype._backfillDEM=function(e){function t(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,o=t.tileID.canonical.y-e.tileID.canonical.y,n=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===o||Math.abs(o)>1||(Math.abs(r)>1&&(1===Math.abs(r+n)?r+=n:1===Math.abs(r-n)&&(r-=n)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,o),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}for(var r=this,o=this.getRenderableIds(),n=0;n<o.length;n++){var i=o[n];if(e.neighboringTiles&&e.neighboringTiles[i]){var a=r.getTileByID(i);t(e,a),t(a,e)}}},t.prototype.getTile=function(e){return this.getTileByID(e.key)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype._findLoadedChildren=function(e,t,r){var o=this,n=!1;for(var i in o._tiles){var a=o._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=e.overscaledZ||a.tileID.overscaledZ>t)){var s=Math.pow(2,a.tileID.canonical.z-e.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===e.canonical.x&&Math.floor(a.tileID.canonical.y/s)===e.canonical.y)for(r[i]=a.tileID,n=!0;a&&a.tileID.overscaledZ-1>e.overscaledZ;){var c=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!c)break;(a=o._tiles[c.key])&&a.hasData()&&(delete r[i],r[c.key]=c)}}}return n},t.prototype.findLoadedParent=function(e,t,r){for(var o=this,n=e.overscaledZ-1;n>=t;n--){var i=e.scaledTo(n);if(!i)return;var a=String(i.key),s=o._tiles[a];if(s&&s.hasData())return r[a]=i,s;if(o._cache.has(a))return r[a]=i,o._cache.get(a)}},t.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,o=t*r,n=Math.floor(5*o),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},t.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){this.updateCacheSize(e),this._coveredTiles={};var o;this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new y(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(e){return r._source.hasTile(e)}))):o=[];var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(i-t.maxOverzooming,this._source.minzoom),s=Math.max(i+t.maxUnderzooming,this._source.minzoom),c=this._updateRetainedTiles(o,i),l={};if(n(this._source.type))for(var u=Object.keys(c),d=0;d<u.length;d++){var m=u[d],f=c[m],v=r._tiles[m];if(v&&(void 0===v.fadeEndTime||v.fadeEndTime>=h.now())){r._findLoadedChildren(f,s,c)&&(c[m]=f);var g=r.findLoadedParent(f,a,l);g&&r._addTile(g.tileID)}}var _;for(_ in l)c[_]||(r._coveredTiles[_]=!0);for(_ in l)c[_]=l[_];for(var w=p.keysDifference(this._tiles,c),b=0;b<w.length;b++)r._removeTile(w[b])}},t.prototype._updateRetainedTiles=function(e,r){for(var o=this,n={},i={},a=Math.max(r-t.maxOverzooming,this._source.minzoom),s=Math.max(r+t.maxUnderzooming,this._source.minzoom),c=0;c<e.length;c++){var l=e[c],p=o._addTile(l),u=!1;if(p.hasData())n[l.key]=l;else{u=p.wasRequested(),n[l.key]=l;var d=!0;if(r+1>o._source.maxzoom){var h=l.children(o._source.maxzoom)[0],m=o.getTile(h);m&&m.hasData()?n[h.key]=h:d=!1}else{o._findLoadedChildren(l,s,n);for(var y=l.children(o._source.maxzoom),f=0;f<y.length;f++)if(!n[y[f].key]){d=!1;break}}if(!d)for(var v=l.overscaledZ-1;v>=a;--v){var g=l.scaledTo(v);if(i[g.key])break;if(i[g.key]=!0,p=o.getTile(g),!p&&u&&(p=o._addTile(g)),p&&(n[g.key]=g,u=p.wasRequested(),p.hasData()))break}}}return n},t.prototype._addTile=function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e.key))&&(this._updatePlacement(),this.map&&t.added(this.map.painter.crossTileSymbolIndex),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var r=Boolean(t);return r||(t=new a(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,r||this._source.fire("dataloading",{tile:t,coord:t.tileID,dataType:"source"}),t):null},t.prototype._setTileReloadTimer=function(e,t){var r=this,o=t.getExpiryTimeout();o&&(this._timers[e]=setTimeout(function(){r._reloadTile(e,"expired"),delete r._timers[e]},o))},t.prototype._setCacheInvalidationTimer=function(e,t){var r=this,o=t.getExpiryTimeout();o&&(this._cacheTimers[e]=setTimeout(function(){r._cache.remove(e),delete r._cacheTimers[e]},o))},t.prototype._removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),!(t.uses>0)))if(this._updatePlacement(),this.map&&t.removed(this.map.painter.crossTileSymbolIndex),t.hasData()){t.tileID=t.tileID.wrapped();var r=t.tileID.key;this._cache.add(r,t),this._setCacheInvalidationTimer(r,t)}else t.aborted=!0,this._abortTile(t),this._unloadTile(t)},t.prototype._updatePlacement=function(){this._needsFullPlacement=!0},t.prototype.clearTiles=function(){var e=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var t in e._tiles)e._removeTile(t);this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=this,r=[],n=this.getIds(),i=1/0,a=1/0,s=-1/0,c=-1/0,p=e[0].zoom,d=0;d<e.length;d++){var h=e[d];i=Math.min(i,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),c=Math.max(c,h.row)}for(var m=0;m<n.length;m++){var y=t._tiles[n[m]],f=y.tileID,v=[o(f,new l(i,a,p)),o(f,new l(s,c,p))];if(v[0].x<u&&v[0].y<u&&v[1].x>=0&&v[1].y>=0){for(var g=[],_=0;_<e.length;_++)g.push(o(f,e[_]));r.push({tile:y,tileID:f,queryGeometry:[g],scale:Math.pow(2,t.transform.zoom-y.tileID.overscaledZ)})}}return r},t.prototype.commitPlacement=function(e,t){var r=this;this._needsFullPlacement=!1;for(var o=this.getIds(),n=0;n<o.length;n++)r.getTileByID(o[n]).commitPlacement(e,t,r.transform.angle)},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(function(t){return e._tiles[t].tileID}),r=0,o=t;r<o.length;r+=1){var n=o[r];n.posMatrix=e.transform.calculatePosMatrix(n.toUnwrapped())}return t},t.prototype.hasTransition=function(){var e=this;if(this._source.hasTransition())return!0;if(n(this._source.type))for(var t in e._tiles){var r=e._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=h.now())return!0}return!1},t}(s);f.maxOverzooming=10,f.maxUnderzooming=3,t.exports=f},{"../data/extent":56,"../geo/coordinate":64,"../gl/context":69,"../util/browser":263,"../util/evented":271,"../util/lru_cache":277,"../util/util":285,"./source":113,"./tile":115,"./tile_id":117,"@mapbox/point-geometry":4}],115:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../data/bucket").deserialize,i=e("../data/bucket/symbol_bucket"),a=(e("../data/feature_index"),e("@mapbox/vector-tile")),s=e("pbf"),c=e("../util/vectortile_to_geojson"),l=e("../style-spec/feature_filter"),p=(e("../symbol/collision_index"),e("../data/array_types")),u=p.RasterBoundsArray,d=p.CollisionBoxArray,h=e("../data/raster_bounds_attributes"),m=e("../data/extent"),y=e("@mapbox/point-geometry"),f=e("../render/texture"),v=e("../data/segment"),g=v.SegmentVector,_=e("../data/index_array_type"),w=_.TriangleIndexArray,b=e("../symbol/projection"),x=e("../symbol/symbol_placement"),S=x.performSymbolPlacement,k=x.updateOpacities,P=e("../source/pixels_to_tile_units"),E=e("../util/browser"),C=function(e,t){this.tileID=e,this.uid=o.uniqueId(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};C.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<E.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},C.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},C.prototype.loadVectorData=function(e,t){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!e)return void(this.collisionBoxArray=new d);e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=n(e.buckets,t.style),e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)},C.prototype.unloadVectorData=function(){var e=this;"reloading"===this.state&&(this.justReloaded=!0);for(var t in e.buckets)e.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},C.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},C.prototype.added=function(e){var t=this;for(var r in t.buckets){var o=t.buckets[r];o instanceof i&&e.addTileLayer(r,t.tileID,o.symbolInstances)}},C.prototype.removed=function(e){var t=this;for(var r in t.buckets)t.buckets[r]instanceof i&&e.removeTileLayer(r,t.tileID)},C.prototype.placeLayer=function(e,t,r,o){var n=this.getBucket(r),a=this.collisionBoxArray;if(n&&n instanceof i&&a){var s=t.transform.calculatePosMatrix(this.tileID.toUnwrapped()),c="map"===n.layers[0].layout.get("text-pitch-alignment"),l=m/this.tileSize,p=P(this,1,t.transform.zoom),u=b.getLabelPlaneMatrix(s,c,!0,t.transform,p);S(n,t,e,t.transform.zoom,l,s,u,this.tileID.key,o,a)}},C.prototype.commitPlacement=function(e,t,r){var o=this;for(var n in o.buckets){var a=o.buckets[n];a instanceof i&&(k(a,t,o.justReloaded),a.sortFeatures(r))}this.featureIndex&&this.featureIndex.setCollisionIndex(e),this.justReloaded=!1},C.prototype.getBucket=function(e){return this.buckets[e.id]},C.prototype.upload=function(e){var t=this;for(var r in t.buckets){var o=t.buckets[r];o.uploaded||(o.upload(e),o.uploaded=!0)}var n=e.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new f(e,this.iconAtlasImage,n.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new f(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},C.prototype.queryRenderedFeatures=function(e,t,r,o,n,i){var a=this;if(!this.featureIndex||!this.collisionBoxArray)return{};var s=0;for(var c in e){var l=a.getBucket(e[c]);l&&(s=Math.max(s,e[c].queryRadius(l)))}return this.featureIndex.query({queryGeometry:t,scale:r,tileSize:this.tileSize,bearing:n,params:o,additionalRadius:s,collisionBoxArray:this.collisionBoxArray,sourceID:i},e)},C.prototype.querySourceFeatures=function(e,t){var r=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new a.VectorTile(new s(this.rawTileData)).layers);var o=t?t.sourceLayer:"",n=this.vtLayers._geojsonTileLayer||this.vtLayers[o];if(n)for(var i=l(t&&t.filter),p={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},u=0;u<n.length;u++){var d=n.feature(u);if(i({zoom:r.tileID.overscaledZ},d)){var h=new c(d,p.z,p.x,p.y);h.tile=p,e.push(h)}}}},C.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},C.prototype.setMask=function(e,t){var r=this;if(!o.deepEqual(this.mask,e)&&(this.mask=e,this.clearMask(),!o.deepEqual(e,{0:!0}))){var n=new u,i=new w;this.segments=new g,this.segments.prepareSegment(0,n,i);for(var a=Object.keys(e),s=0;s<a.length;s++){var c=e[a[s]],l=m>>c.z,p=new y(c.x*l,c.y*l),d=new y(p.x+l,p.y+l),f=r.segments.prepareSegment(4,n,i);n.emplaceBack(p.x,p.y,p.x,p.y),n.emplaceBack(d.x,p.y,d.x,p.y),n.emplaceBack(p.x,d.y,p.x,d.y),n.emplaceBack(d.x,d.y,d.x,d.y);var v=f.vertexLength;i.emplaceBack(v,v+1,v+2),i.emplaceBack(v+1,v+2,v+3),f.vertexLength+=4,f.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(n,h.members),this.maskedIndexBuffer=t.createIndexBuffer(i)}},C.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},C.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=o.parseCacheControl(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=n+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},C.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},t.exports=C},{"../data/array_types":42,"../data/bucket":43,"../data/bucket/symbol_bucket":54,"../data/extent":56,"../data/feature_index":57,"../data/index_array_type":58,"../data/raster_bounds_attributes":62,"../data/segment":63,"../render/texture":96,"../source/pixels_to_tile_units":107,"../style-spec/feature_filter":151,"../symbol/collision_index":228,"../symbol/projection":234,"../symbol/symbol_placement":238,"../util/browser":263,"../util/util":285,"../util/vectortile_to_geojson":286,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:29}],116:[function(e,t,r){"use strict";var o=e("../geo/lng_lat_bounds"),n=e("../util/util").clamp,i=function(e,t,r){this.bounds=o.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=r||24};i.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},i.prototype.contains=function(e){var t={minX:Math.floor(this.lngX(this.bounds.getWest(),e.z)),minY:Math.floor(this.latY(this.bounds.getNorth(),e.z)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),e.z)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),e.z))};return e.x>=t.minX&&e.x<t.maxX&&e.y>=t.minY&&e.y<t.maxY},i.prototype.lngX=function(e,t){return(e+180)*(Math.pow(2,t)/360)},i.prototype.latY=function(e,t){var r=n(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,t)/(2*Math.PI);return Math.pow(2,t-1)+.5*Math.log((1+r)/(1-r))*-o},t.exports=i},{"../geo/lng_lat_bounds":66,"../util/util":285}],117:[function(e,t,r){"use strict";function o(e,t,r,o){(e*=2)<0&&(e=-1*e-1);var n=1<<t;return 32*(n*n*e+n*o+r)+t}function n(e,t,r){for(var o,n="",i=e;i>0;i--)o=1<<i-1,n+=(t&o?1:0)+(r&o?2:0);return n}var i=e("@mapbox/whoots-js"),a=e("../util/web_worker_transfer"),s=a.register,c=e("../geo/coordinate"),l=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=o(0,e,t,r)};l.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},l.prototype.url=function(e,t){var r=i.getTileBBox(this.x,this.y,this.z),o=n(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)};var p=function(e,t){this.wrap=e,this.canonical=t,this.key=o(e,t.z,t.x,t.y)},u=function(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new l(r,+n,+i),this.key=o(t,e,n,i)};u.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new u(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new u(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},u.prototype.isChildOf=function(e){var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},u.prototype.children=function(e){if(this.overscaledZ>=e)return[new u(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,o=2*this.canonical.y;return[new u(t,this.wrap,t,r,o),new u(t,this.wrap,t,r+1,o),new u(t,this.wrap,t,r,o+1),new u(t,this.wrap,t,r+1,o+1)]},u.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},u.prototype.wrapped=function(){return new u(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},u.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},u.prototype.toUnwrapped=function(){return new p(this.wrap,this.canonical)},u.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},u.prototype.toCoordinate=function(){return new c(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},s("CanonicalTileID",l),s("OverscaledTileID",u,{omit:["posMatrix"]}),t.exports={CanonicalTileID:l,OverscaledTileID:u,UnwrappedTileID:p}},{"../geo/coordinate":64,"../util/web_worker_transfer":288,"@mapbox/whoots-js":12}],118:[function(e,t,r){"use strict";var o=e("../util/evented"),n=e("../util/util"),i=e("./load_tilejson"),a=e("../util/mapbox").normalizeTileURL,s=e("./tile_bounds"),c=e("../util/ajax").ResourceType,l=e("../util/browser"),p=function(e){function t(t,r,o,i){if(e.call(this),this.id=t,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,n.extend(this,n.pick(r,["url","scheme","tileSize"])),this._options=n.extend({type:"vector"},r),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),i(this._options,this.map._transformRequest,function(t,r){t?e.fire("error",t):r&&(n.extend(e,r),r.bounds&&(e.tileBounds=new s(r.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return n.extend({},this._options)},t.prototype.loadTile=function(e,t){function r(r,o){return e.aborted?t(null):r?t(r):(this.map._refreshExpiredTiles&&e.setExpiryData(o),e.loadVectorData(o,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}var o=e.tileID.overscaleFactor(),n=a(e.tileID.canonical.url(this.tiles,this.scheme),this.url),i={request:this.map._transformRequest(n,c.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*o,type:this.type,source:this.id,pixelRatio:l.devicePixelRatio,overscaling:o,showCollisionBoxes:this.map.showCollisionBoxes};void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",i,r.bind(this)):"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",i,r.bind(this),e.workerID)},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.hasTransition=function(){return!1},t}(o);t.exports=p},{"../util/ajax":262,"../util/browser":263,"../util/evented":271,"../util/mapbox":278,"../util/util":285,"./load_tilejson":106,"./tile_bounds":116}],119:[function(e,t,r){"use strict";function o(e,t){var r=n.getArrayBuffer(e.request,function(e,r){e?t(e):r&&t(null,{vectorTile:new i.VectorTile(new a(r.data)),rawData:r.data,cacheControl:r.cacheControl,expires:r.expires})});return function(){r.abort(),t()}}var n=e("../util/ajax"),i=e("@mapbox/vector-tile"),a=e("pbf"),s=e("./worker_tile"),c=e("../util/util"),l=function(e,t,r){this.actor=e,this.layerIndex=t,this.loadVectorData=r||o,this.loading={},this.loaded={}};l.prototype.loadTile=function(e,t){var r=this,o=e.source,n=e.uid;this.loading[o]||(this.loading[o]={});var i=this.loading[o][n]=new s(e);i.abort=this.loadVectorData(e,function(e,a){if(delete r.loading[o][n],e||!a)return t(e);var s=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl),i.vectorTile=a.vectorTile,i.parse(a.vectorTile,r.layerIndex,r.actor,function(e,r){if(e||!r)return t(e);t(null,c.extend({rawTileData:s.slice(0)},r,l))}),r.loaded[o]=r.loaded[o]||{},r.loaded[o][n]=i})},l.prototype.reloadTile=function(e,t){function r(e,r){if(this.reloadCallback){var o=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,o)}t(e,r)}var o=this.loaded[e.source],n=e.uid,i=this;if(o&&o[n]){var a=o[n];a.showCollisionBoxes=e.showCollisionBoxes,"parsing"===a.status?a.reloadCallback=t:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,r.bind(a))}},l.prototype.abortTile=function(e,t){var r=this.loading[e.source],o=e.uid;r&&r[o]&&r[o].abort&&(r[o].abort(),delete r[o]),t()},l.prototype.removeTile=function(e,t){var r=this.loaded[e.source],o=e.uid;r&&r[o]&&delete r[o],t()},t.exports=l},{"../util/ajax":262,"../util/util":285,"./worker_tile":122,"@mapbox/vector-tile":8,pbf:29}],120:[function(e,t,r){"use strict";var o=e("../util/ajax"),n=e("./image_source"),i=e("../data/raster_bounds_attributes"),a=e("../render/vertex_array_object"),s=e("../render/texture"),c=function(e){function t(t,r,o,n){e.call(this,t,r,o,n),this.roundZoom=!0,this.type="video",this.options=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this,t=this.options;this.urls=t.urls,o.getVideo(t.urls,function(t,r){t?e.fire("error",{error:t}):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){var e=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,i.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new s(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));for(var o in e.tiles){var n=e.tiles[o];"loaded"!==n.state&&(n.state="loaded",n.texture=e.texture)}}},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this.video&&!this.video.paused},t}(n);t.exports=c},{"../data/raster_bounds_attributes":62,"../render/texture":96,"../render/vertex_array_object":98,"../util/ajax":262,"./image_source":105}],121:[function(e,t,r){"use strict";var o=e("../util/actor"),n=e("../style/style_layer_index"),i=e("./vector_tile_worker_source"),a=e("./raster_dem_tile_worker_source"),s=e("./geojson_worker_source"),c=e("./rtl_text_plugin"),l=function(e){var t=this;this.self=e,this.actor=new o(e,this),this.layerIndexes={},this.workerSourceTypes={vector:i,geojson:s},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,r){if(t.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');t.workerSourceTypes[e]=r},this.self.registerRTLTextPlugin=function(e){if(c.applyArabicShaping||c.processBidirectionalText)throw new Error("RTL text plugin already registered.");c.applyArabicShaping=e.applyArabicShaping,c.processBidirectionalText=e.processBidirectionalText}};l.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},l.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},l.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type).loadTile(t,r)},l.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e).loadTile(t,r)},l.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type).reloadTile(t,r)},l.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type).abortTile(t,r)},l.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type).removeTile(t,r)},l.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e).removeTile(t)},l.prototype.removeSource=function(e,t,r){var o=this.getWorkerSource(e,t.type);void 0!==o.removeSource?o.removeSource(t,r):r()},l.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e)}},l.prototype.loadRTLTextPlugin=function(e,t,r){try{c.applyArabicShaping||c.processBidirectionalText||(this.self.importScripts(t),c.applyArabicShaping&&c.processBidirectionalText||r(new Error("RTL Text Plugin failed to import scripts from "+t)))}catch(e){r(e)}},l.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},l.prototype.getWorkerSource=function(e,t){var r=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][t]){var o={send:function(t,o,n){r.actor.send(t,o,n,e)}};this.workerSources[e][t]=new this.workerSourceTypes[t](o,this.getLayerIndex(e))}return this.workerSources[e][t]},l.prototype.getDEMWorkerSource=function(e){return this.demWorkerSources[e]||(this.demWorkerSources[e]=new a),this.demWorkerSources[e]},t.exports=function(e){return new l(e)}},{"../style/style_layer_index":221,"../util/actor":261,"./geojson_worker_source":103,"./raster_dem_tile_worker_source":110,"./rtl_text_plugin":112,"./vector_tile_worker_source":119}],122:[function(e,t,r){"use strict";function o(e,t){for(var r=new f(t),o=0,n=e;o<n.length;o+=1)n[o].recalculate(r)}var n=e("../data/feature_index"),i=e("../symbol/symbol_layout"),a=i.performSymbolLayout,s=e("../data/array_types"),c=s.CollisionBoxArray,l=e("../util/dictionary_coder"),p=e("../data/bucket/symbol_bucket"),u=e("../util/util"),d=e("../render/image_atlas"),h=d.makeImageAtlas,m=e("../render/glyph_atlas"),y=m.makeGlyphAtlas,f=e("../style/evaluation_parameters"),v=e("./tile_id"),g=v.OverscaledTileID,_=function(e){this.tileID=new g(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.showCollisionBoxes=e.showCollisionBoxes};_.prototype.parse=function(e,t,r,i){function s(){var e=this;if(M)return i(M);if(R&&z){var t=y(R),r=h(z);for(var n in v){var s=v[n];s instanceof p&&(o(s.layers,e.zoom),a(s,R,t.positions,z,r.positions,e.showCollisionBoxes))}this.status="done",i(null,{buckets:u.values(v).filter(function(e){return!e.isEmpty()}),featureIndex:f,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,iconAtlasImage:r.image})}}var d=this;this.status="parsing",this.data=e,this.collisionBoxArray=new c;var m=new l(Object.keys(e.layers).sort()),f=new n(this.tileID,this.overscaling);f.bucketLayerIDs=[];var v={},g={featureIndex:f,iconDependencies:{},glyphDependencies:{}},_=t.familiesBySource[this.source];for(var w in _){var b=e.layers[w];if(b){1===b.version&&u.warnOnce('Vector tile source "'+d.source+'" layer "'+w+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=m.encode(w),S=[],k=0;k<b.length;k++){var P=b.feature(k);S.push({feature:P,index:k,sourceLayerIndex:x})}for(var E=0,C=_[w];E<C.length;E+=1){var A=C[E],T=A[0];T.minzoom&&d.zoom<Math.floor(T.minzoom)||T.maxzoom&&d.zoom>=T.maxzoom||"none"===T.visibility||(o(A,d.zoom),(v[T.id]=T.createBucket({index:f.bucketLayerIDs.length,layers:A,zoom:d.zoom,pixelRatio:d.pixelRatio,overscaling:d.overscaling,collisionBoxArray:d.collisionBoxArray})).populate(S,g),f.bucketLayerIDs.push(A.map(function(e){return e.id})))}}}var M,R,z,O=u.mapObject(g.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(O).length?r.send("getGlyphs",{uid:this.uid,stacks:O},function(e,t){M||(M=e,R=t,s.call(d))}):R={};var j=Object.keys(g.iconDependencies);j.length?r.send("getImages",{icons:j},function(e,t){M||(M=e,z=t,s.call(d))}):z={},s.call(this)},t.exports=_},{"../data/array_types":42,"../data/bucket/symbol_bucket":54,"../data/feature_index":57,"../render/glyph_atlas":88,"../render/image_atlas":90,"../style/evaluation_parameters":193,"../symbol/symbol_layout":237,"../util/dictionary_coder":268,"../util/util":285,"./tile_id":117}],123:[function(e,t,r){"use strict";function o(e,t){var r={};for(var o in e)"ref"!==o&&(r[o]=e[o]);return i.forEach(function(e){e in t&&(r[e]=t[e])}),r}function n(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=o(e[n],t[e[n].ref]));return e}var i=e("./util/ref_properties");t.exports=n},{"./util/ref_properties":170}],124:[function(e,t,r){"use strict";function o(e,t,r){r.push({command:m.addSource,args:[e,t[e]]})}function n(e,t,r){t.push({command:m.removeSource,args:[e]}),r[e]=!0}function i(e,t,r,i){n(e,r,i),o(e,t,r)}function a(e,t,r){var o;for(o in e[r])if(e[r].hasOwnProperty(o)&&"data"!==o&&!h(e[r][o],t[r][o]))return!1;for(o in t[r])if(t[r].hasOwnProperty(o)&&"data"!==o&&!h(e[r][o],t[r][o]))return!1;return!0}function s(e,t,r,s){e=e||{},t=t||{};var c;for(c in e)e.hasOwnProperty(c)&&(t.hasOwnProperty(c)||n(c,r,s));for(c in t)t.hasOwnProperty(c)&&(e.hasOwnProperty(c)?h(e[c],t[c])||("geojson"===e[c].type&&"geojson"===t[c].type&&a(e,t,c)?r.push({command:m.setGeoJSONSourceData,args:[c,t[c].data]}):i(c,t,r,s)):o(c,t,r))}function c(e,t,r,o,n,i){e=e||{},t=t||{};var a;for(a in e)e.hasOwnProperty(a)&&(h(e[a],t[a])||r.push({command:i,args:[o,a,t[a],n]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(h(e[a],t[a])||r.push({command:i,args:[o,a,t[a],n]}))}function l(e){return e.id}function p(e,t){return e[t.id]=t,e}function u(e,t,r){e=e||[],t=t||[];var o,n,i,a,s,u,d,y=e.map(l),f=t.map(l),v=e.reduce(p,{}),g=t.reduce(p,{}),_=y.slice(),w=Object.create(null);for(o=0,n=0;o<y.length;o++)i=y[o],g.hasOwnProperty(i)?n++:(r.push({command:m.removeLayer,args:[i]}),_.splice(_.indexOf(i,n),1));for(o=0,n=0;o<f.length;o++)i=f[f.length-1-o],_[_.length-1-o]!==i&&(v.hasOwnProperty(i)?(r.push({command:m.removeLayer,args:[i]}),_.splice(_.lastIndexOf(i,_.length-n),1)):n++,u=_[_.length-o],r.push({command:m.addLayer,args:[g[i],u]}),_.splice(_.length-o,0,i),w[i]=!0);for(o=0;o<f.length;o++)if(i=f[o],a=v[i],s=g[i],!w[i]&&!h(a,s))if(h(a.source,s.source)&&h(a["source-layer"],s["source-layer"])&&h(a.type,s.type)){c(a.layout,s.layout,r,i,null,m.setLayoutProperty),c(a.paint,s.paint,r,i,null,m.setPaintProperty),h(a.filter,s.filter)||r.push({command:m.setFilter,args:[i,s.filter]}),h(a.minzoom,s.minzoom)&&h(a.maxzoom,s.maxzoom)||r.push({command:m.setLayerZoomRange,args:[i,s.minzoom,s.maxzoom]});for(d in a)a.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?c(a[d],s[d],r,i,d.slice(6),m.setPaintProperty):h(a[d],s[d])||r.push({command:m.setLayerProperty,args:[i,d,s[d]]}));for(d in s)s.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?c(a[d],s[d],r,i,d.slice(6),m.setPaintProperty):h(a[d],s[d])||r.push({command:m.setLayerProperty,args:[i,d,s[d]]}))}else r.push({command:m.removeLayer,args:[i]}),u=_[_.lastIndexOf(i)+1],r.push({command:m.addLayer,args:[s,u]})}function d(e,t){if(!e)return[{command:m.setStyle,args:[t]}];var r=[];try{if(!h(e.version,t.version))return[{command:m.setStyle,args:[t]}];h(e.center,t.center)||r.push({command:m.setCenter,args:[t.center]}),h(e.zoom,t.zoom)||r.push({command:m.setZoom,args:[t.zoom]}),h(e.bearing,t.bearing)||r.push({command:m.setBearing,args:[t.bearing]}),h(e.pitch,t.pitch)||r.push({command:m.setPitch,args:[t.pitch]}),h(e.sprite,t.sprite)||r.push({command:m.setSprite,args:[t.sprite]}),h(e.glyphs,t.glyphs)||r.push({command:m.setGlyphs,args:[t.glyphs]}),h(e.transition,t.transition)||r.push({command:m.setTransition,args:[t.transition]}),h(e.light,t.light)||r.push({command:m.setLight,args:[t.light]});var o={},n=[];s(e.sources,t.sources,n,o);var i=[];e.layers&&e.layers.forEach(function(e){o[e.source]?r.push({command:m.removeLayer,args:[e.id]}):i.push(e)}),r=r.concat(n),u(i,t.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:m.setStyle,args:[t]}]}return r}var h=e("lodash.isequal"),m={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};t.exports=d,t.exports.operations=m},{"lodash.isequal":160}],125:[function(e,t,r){"use strict";function o(e,t){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];this.message=(e?e+": ":"")+n.apply(n,r),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}var n=e("util").format;t.exports=o},{util:36}],126:[function(e,t,r){"use strict";function o(e){return{type:e}}function n(e){return Array.isArray(e)?"("+e.map(a).join(", ")+")":"("+a(e.type)+"...)"}var i=e("./types"),a=i.toString,s=e("./parsing_context"),c=(e("./evaluation_context"),function(e,t,r,o){this.name=e,this.type=t,this._evaluate=r,this.args=o});c.prototype.evaluate=function(e){return this._evaluate(e,this.args)},c.prototype.eachChild=function(e){this.args.forEach(e)},c.prototype.possibleOutputs=function(){return[void 0]},c.parse=function(e,t){var r=e[0],o=c.definitions[r];if(!o)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(o)?o[0]:o.type,l=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,p=l.filter(function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1}),u=[],d=1;d<e.length;d++){var h=e[d],m=void 0;if(1===p.length){var y=p[0][0];m=Array.isArray(y)?y[d-1]:y.type}var f=t.parse(h,1+u.length,m);if(!f)return null;u.push(f)}for(var v=null,g=0,_=p;g<_.length;g+=1){var w=_[g],b=w[0],x=w[1];if(v=new s(t.definitions,t.path,null,t.scope),Array.isArray(b)&&b.length!==u.length)v.error("Expected "+b.length+" arguments, but found "+u.length+" instead.");else{for(var S=0;S<u.length;S++){var k=Array.isArray(b)?b[S]:b.type,P=u[S];v.concat(S+1).checkSubtype(k,P.type)}if(0===v.errors.length)return new c(r,i,x,u)}}if(1===p.length)t.errors.push.apply(t.errors,v.errors);else{var E=p.length?p:l,C=E.map(function(e){return n(e[0])}).join(" | "),A=u.map(function(e){return a(e.type)}).join(", ");t.error("Expected arguments of type "+C+", but found ("+A+") instead.")}return null},c.register=function(e,t){c.definitions=t;for(var r in t)e[r]=c},t.exports={CompoundExpression:c,varargs:o}},{"./evaluation_context":141,"./parsing_context":144,"./types":149}],127:[function(e,t,r){"use strict";var o=e("../types"),n=o.toString,i=o.array,a=o.ValueType,s=o.StringType,c=o.NumberType,l=o.BooleanType,p=o.checkSubtype,u=e("../values"),d=u.typeOf,h=e("../runtime_error"),m={string:s,number:c,boolean:l},y=function(e,t){this.type=e,this.input=t};y.parse=function(e,t){if(e.length<2||e.length>4)return t.error("Expected 1, 2, or 3 arguments, but found "+(e.length-1)+" instead.");var r,o;if(e.length>2){var n=e[1];if("string"!=typeof n||!(n in m))return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=m[n]}else r=a;if(e.length>3){if("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2]))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2]}var s=i(r,o),c=t.parse(e[e.length-1],e.length-1,a);return c?new y(s,c):null},y.prototype.evaluate=function(e){var t=this.input.evaluate(e);if(p(this.type,d(t)))throw new h("Expected value to be of type "+n(this.type)+", but found "+n(d(t))+" instead.");return t},y.prototype.eachChild=function(e){e(this.input)},y.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},t.exports=y},{"../runtime_error":146,"../types":149,"../values":150}],128:[function(e,t,r){"use strict";var o=e("../types"),n=o.ObjectType,i=o.ValueType,a=o.StringType,s=o.NumberType,c=o.BooleanType,l=e("../runtime_error"),p=e("../types"),u=p.checkSubtype,d=p.toString,h=e("../values"),m=h.typeOf,y={string:a,number:s,boolean:c,object:n},f=function(e,t){this.type=e,this.args=t};f.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");for(var r=e[0],o=y[r],n=[],a=1;a<e.length;a++){var s=t.parse(e[a],a,i);if(!s)return null;n.push(s)}return new f(o,n)},f.prototype.evaluate=function(e){for(var t=this,r=0;r<this.args.length;r++){var o=t.args[r].evaluate(e);if(!u(t.type,m(o)))return o;if(r===t.args.length-1)throw new l("Expected value to be of type "+d(t.type)+", but found "+d(m(o))+" instead.")}return null},f.prototype.eachChild=function(e){this.args.forEach(e)},f.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=f},{"../runtime_error":146,"../types":149,"../values":150}],129:[function(e,t,r){"use strict";var o=e("../types"),n=o.array,i=o.ValueType,a=o.NumberType,s=e("../runtime_error"),c=function(e,t,r){this.type=e,this.index=t,this.input=r};c.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,a),o=t.parse(e[2],2,n(t.expectedType||i));if(!r||!o)return null;var s=o.type;return new c(s.itemType,r,o)},c.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0||t>=r.length)throw new s("Array index out of bounds: "+t+" > "+r.length+".");if(t!==Math.floor(t))throw new s("Array index must be an integer, but found "+t+" instead.");return r[t]},c.prototype.eachChild=function(e){e(this.index),e(this.input)},c.prototype.possibleOutputs=function(){return[void 0]},t.exports=c},{"../runtime_error":146,"../types":149}],130:[function(e,t,r){"use strict";var o=e("../types"),n=o.BooleanType,i=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};i.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var o=[],a=1;a<e.length-1;a+=2){var s=t.parse(e[a],a,n);if(!s)return null;var c=t.parse(e[a+1],a+1,r);if(!c)return null;o.push([s,c]),r=r||c.type}var l=t.parse(e[e.length-1],e.length-1,r);return l?new i(r,o,l):null},i.prototype.evaluate=function(e){for(var t=this,r=0,o=t.branches;r<o.length;r+=1){var n=o[r],i=n[0],a=n[1];if(i.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},i.prototype.eachChild=function(e){for(var t=this,r=0,o=t.branches;r<o.length;r+=1){var n=o[r],i=n[0],a=n[1];e(i),e(a)}e(this.otherwise)},i.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},t.exports=i},{"../types":149}],131:[function(e,t,r){"use strict";var o=e("../types"),n=o.checkSubtype,i=o.ValueType,a=function(e,t){this.type=e,this.args=t};a.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,o=t.expectedType;o&&"value"!==o.kind&&(r=o);for(var s=[],c=0,l=e.slice(1);c<l.length;c+=1){var p=l[c],u=t.parse(p,1+s.length,r,void 0,{omitTypeAnnotations:!0});if(!u)return null;r=r||u.type,s.push(u)}return o&&s.some(function(e){return n(o,e.type)})?new a(i,s):new a(r,s)},a.prototype.evaluate=function(e){for(var t=this,r=null,o=0,n=t.args;o<n.length&&null===(r=n[o].evaluate(e));o+=1);return r},a.prototype.eachChild=function(e){this.args.forEach(e)},a.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=a},{"../types":149}],132:[function(e,t,r){"use strict";var o=e("../types"),n=o.ColorType,i=o.ValueType,a=o.NumberType,s=e("../values"),c=s.Color,l=s.validateRGBA,p=e("../runtime_error"),u={"to-number":a,"to-color":n},d=function(e,t){this.type=e,this.args=t};d.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");for(var r=e[0],o=u[r],n=[],a=1;a<e.length;a++){var s=t.parse(e[a],a,i);if(!s)return null;n.push(s)}return new d(o,n)},d.prototype.evaluate=function(e){var t=this;if("color"===this.type.kind){for(var r,o,n=0,i=t.args;n<i.length;n+=1)if(r=i[n].evaluate(e),o=null,"string"==typeof r){var a=e.parseColor(r);if(a)return a}else if(Array.isArray(r)&&!(o=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":l(r[0],r[1],r[2],r[3])))return new c(r[0]/255,r[1]/255,r[2]/255,r[3]);throw new p(o||"Could not parse color from value '"+("string"==typeof r?r:JSON.stringify(r))+"'")}for(var s=null,u=0,d=t.args;u<d.length;u+=1)if(null!==(s=d[u].evaluate(e))){var h=Number(s);if(!isNaN(h))return h}throw new p("Could not convert "+JSON.stringify(s)+" to number.")},d.prototype.eachChild=function(e){this.args.forEach(e)},d.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=d},{"../runtime_error":146,"../types":149,"../values":150}],133:[function(e,t,r){"use strict";function o(e){return this.lhs.evaluate(e)===this.rhs.evaluate(e)}function n(e){return this.lhs.evaluate(e)!==this.rhs.evaluate(e)}function i(e){return"string"===e.kind||"number"===e.kind||"boolean"===e.kind||"null"===e.kind}var a=e("../types"),s=a.ValueType,c=a.BooleanType,l=e("../types"),p=l.toString,u=function(e,t,r){this.type=c,this.lhs=t,this.rhs=r,this.evaluate="=="===e?o:n};u.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=e[0],o=t.parse(e[1],1,s);if(!o)return null;var n=t.parse(e[2],2,s);return n?i(o.type)||i(n.type)?o.type.kind!==n.type.kind&&"value"!==o.type.kind&&"value"!==n.type.kind?t.error("Cannot compare "+p(o.type)+" and "+p(n.type)+"."):new u(r,o,n):t.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+p(o.type)+", "+p(n.type)+") instead."):null},u.prototype.eachChild=function(e){e(this.lhs),e(this.rhs)},u.prototype.possibleOutputs=function(){return[!0,!1]},t.exports=u},{"../types":149}],134:[function(e,t,r){"use strict";function o(e,t){var r=t[0],o=t[1],n=t[2],i=t[3];r=r.evaluate(e),o=o.evaluate(e),n=n.evaluate(e);var a=i?i.evaluate(e):1,s=k(r,o,n,a);if(s)throw new A(s);return new S(r/255*a,o/255*a,n/255*a,a)}function n(e,t){return e in t}function i(e,t){var r=t[e];return void 0===r?null:r}function a(e,t){return t[0].evaluate(e).length}function s(e,t){var r=t[0],o=t[1];return r.evaluate(e)<o.evaluate(e)}function c(e,t){var r=t[0],o=t[1];return r.evaluate(e)>o.evaluate(e)}function l(e,t){var r=t[0],o=t[1];return r.evaluate(e)<=o.evaluate(e)}function p(e,t){var r=t[0],o=t[1];return r.evaluate(e)>=o.evaluate(e)}var u=e("../types"),d=u.NumberType,h=u.StringType,m=u.BooleanType,y=u.ColorType,f=u.ObjectType,v=u.ValueType,g=u.ErrorType,_=u.array,w=u.toString,b=e("../values"),x=b.typeOf,S=b.Color,k=b.validateRGBA,P=e("../compound_expression"),E=P.CompoundExpression,C=P.varargs,A=e("../runtime_error"),T=e("./let"),M=e("./var"),R=e("./literal"),z=e("./assertion"),O=e("./array"),j=e("./coercion"),N=e("./at"),F=e("./match"),I=e("./case"),B=e("./step"),D=e("./interpolate"),L=e("./coalesce"),q=e("./equals"),U={"!=":q,"==":q,array:O,at:N,boolean:z,case:I,coalesce:L,interpolate:D,let:T,literal:R,match:F,number:z,object:z,step:B,string:z,"to-color":j,"to-number":j,var:M};E.register(U,{error:[g,[h],function(e,t){var r=t[0];throw new A(r.evaluate(e))}],typeof:[h,[v],function(e,t){var r=t[0];return w(x(r.evaluate(e)))}],"to-string":[h,[v],function(e,t){var r=t[0];r=r.evaluate(e);var o=typeof r;return null===r||"string"===o||"number"===o||"boolean"===o?String(r):r instanceof S?r.toString():JSON.stringify(r)}],"to-boolean":[m,[v],function(e,t){var r=t[0];return Boolean(r.evaluate(e))}],"to-rgba":[_(d,4),[y],function(e,t){var r=t[0],o=r.evaluate(e),n=o.r,i=o.g,a=o.b,s=o.a;return[255*n/s,255*i/s,255*a/s,s]}],rgb:[y,[d,d,d],o],rgba:[y,[d,d,d,d],o],length:{type:d,overloads:[[[h],a],[[_(v)],a]]},has:{type:m,overloads:[[[h],function(e,t){return n(t[0].evaluate(e),e.properties())}],[[h,f],function(e,t){var r=t[0],o=t[1];return n(r.evaluate(e),o.evaluate(e))}]]},get:{type:v,overloads:[[[h],function(e,t){return i(t[0].evaluate(e),e.properties())}],[[h,f],function(e,t){var r=t[0],o=t[1];return i(r.evaluate(e),o.evaluate(e))}]]},properties:[f,[],function(e){return e.properties()}],"geometry-type":[h,[],function(e){return e.geometryType()}],id:[v,[],function(e){return e.id()}],zoom:[d,[],function(e){return e.globals.zoom}],"heatmap-density":[d,[],function(e){return e.globals.heatmapDensity||0}],"+":[d,C(d),function(e,t){for(var r=0,o=0,n=t;o<n.length;o+=1)r+=n[o].evaluate(e);return r}],"*":[d,C(d),function(e,t){for(var r=1,o=0,n=t;o<n.length;o+=1)r*=n[o].evaluate(e);return r}],"-":{type:d,overloads:[[[d,d],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)-o.evaluate(e)}],[[d],function(e,t){return-t[0].evaluate(e)}]]},"/":[d,[d,d],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)/o.evaluate(e)}],"%":[d,[d,d],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)%o.evaluate(e)}],ln2:[d,[],function(){return Math.LN2}],pi:[d,[],function(){return Math.PI}],e:[d,[],function(){return Math.E}],"^":[d,[d,d],function(e,t){var r=t[0],o=t[1];return Math.pow(r.evaluate(e),o.evaluate(e))}],sqrt:[d,[d],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[d,[d],function(e,t){var r=t[0];return Math.log10(r.evaluate(e))}],ln:[d,[d],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[d,[d],function(e,t){var r=t[0];return Math.log2(r.evaluate(e))}],sin:[d,[d],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[d,[d],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[d,[d],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[d,[d],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[d,[d],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[d,[d],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[d,C(d),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[d,C(d),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],">":{type:m,overloads:[[[d,d],c],[[h,h],c]]},"<":{type:m,overloads:[[[d,d],s],[[h,h],s]]},">=":{type:m,overloads:[[[d,d],p],[[h,h],p]]},"<=":{type:m,overloads:[[[d,d],l],[[h,h],l]]},all:{type:m,overloads:[[[m,m],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)&&o.evaluate(e)}],[C(m),function(e,t){for(var r=0,o=t;r<o.length;r+=1)if(!o[r].evaluate(e))return!1;return!0}]]},any:{type:m,overloads:[[[m,m],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)||o.evaluate(e)}],[C(m),function(e,t){for(var r=0,o=t;r<o.length;r+=1)if(o[r].evaluate(e))return!0;return!1}]]},"!":[m,[m],function(e,t){return!t[0].evaluate(e)}],upcase:[h,[h],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[h,[h],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[h,C(h),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}]}),t.exports=U},{"../compound_expression":126,"../runtime_error":146,"../types":149,"../values":150,"./array":127,"./assertion":128,"./at":129,"./case":130,"./coalesce":131,"./coercion":132,"./equals":133,"./interpolate":135,"./let":136,"./literal":137,"./match":138,"./step":139,"./var":140}],135:[function(e,t,r){"use strict";function o(e,t,r,o){var n=o-r,i=e-r;return 0===n?0:1===t?i/n:(Math.pow(t,i)-1)/(Math.pow(t,n)-1)}var n=e("@mapbox/unitbezier"),i=e("../../util/interpolate"),a=e("../types"),s=a.toString,c=a.NumberType,l=e("../stops"),p=l.findStopLessThanOrEqualTo,u=function(e,t,r,o){var n=this;this.type=e,this.interpolation=t,this.input=r,this.labels=[],this.outputs=[];for(var i=0,a=o;i<a.length;i+=1){var s=a[i],c=s[0],l=s[1];n.labels.push(c),n.outputs.push(l)}};u.interpolationFactor=function(e,t,r,i){var a=0;if("exponential"===e.name)a=o(t,e.base,r,i);else if("linear"===e.name)a=o(t,1,r,i);else if("cubic-bezier"===e.name){var s=e.controlPoints,c=new n(s[0],s[1],s[2],s[3]);a=c.solve(o(t,1,r,i))}return a},u.parse=function(e,t){var r=e[1],o=e[2],n=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var i=r[1];if("number"!=typeof i)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:i}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var a=r.slice(1);if(4!==a.length||a.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:a}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(o=t.parse(o,2,c)))return null;var l=[],p=null;t.expectedType&&"value"!==t.expectedType.kind&&(p=t.expectedType);for(var d=0;d<n.length;d+=2){var h=n[d],m=n[d+1],y=d+3,f=d+4;if("number"!=typeof h)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',y);if(l.length&&l[l.length-1][0]>=h)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',y);var v=t.parse(m,f,p);if(!v)return null;p=p||v.type,l.push([h,v])}return"number"===p.kind||"color"===p.kind||"array"===p.kind&&"number"===p.itemType.kind&&"number"==typeof p.N?new u(p,r,o,l):t.error("Type "+s(p)+" is not interpolatable.")},u.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var o=this.input.evaluate(e);if(o<=t[0])return r[0].evaluate(e);var n=t.length;if(o>=t[n-1])return r[n-1].evaluate(e);var a=p(t,o),s=t[a],c=t[a+1],l=u.interpolationFactor(this.interpolation,o,s,c),d=r[a].evaluate(e),h=r[a+1].evaluate(e);return i[this.type.kind.toLowerCase()](d,h,l)},u.prototype.eachChild=function(e){var t=this;e(this.input);for(var r=0,o=t.outputs;r<o.length;r+=1)e(o[r])},u.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},t.exports=u},{"../../util/interpolate":169,"../stops":148,"../types":149,"@mapbox/unitbezier":7}],136:[function(e,t,r){"use strict";var o=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};o.prototype.evaluate=function(e){e.pushScope(this.bindings);var t=this.result.evaluate(e);return e.popScope(),t},o.prototype.eachChild=function(e){for(var t=this,r=0,o=t.bindings;r<o.length;r+=1)e(o[r][1]);e(this.result)},o.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}var s=t.parse(e[e.length-1],e.length-1,void 0,r);return s?new o(r,s):null},o.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},t.exports=o},{}],137:[function(e,t,r){"use strict";var o=e("../values"),n=o.isValue,i=o.typeOf,a=function(e,t){this.type=e,this.value=t};a.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!n(e[1]))return t.error("invalid value");var r=e[1],o=i(r),s=t.expectedType;return"array"!==o.kind||0!==o.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(o=s),new a(o,r)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},a.prototype.possibleOutputs=function(){return[this.value]},t.exports=a},{"../values":150}],138:[function(e,t,r){"use strict";var o=e("../values"),n=o.typeOf,i=function(e,t,r,o,n,i){this.inputType=e,this.type=t,this.input=r,this.cases=o,this.outputs=n,this.otherwise=i};i.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,o;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(var a={},s=[],c=2;c<e.length-1;c+=2){var l=e[c],p=e[c+1];Array.isArray(l)||(l=[l]);var u=t.concat(c);if(0===l.length)return u.error("Expected at least one branch label.");for(var d=0,h=l;d<h.length;d+=1){var m=h[d];if("number"!=typeof m&&"string"!=typeof m)return u.error("Branch labels must be numbers or strings.");if("number"==typeof m&&Math.abs(m)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof m&&Math.floor(m)!==m)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,n(m)))return null}else r=n(m);if(void 0!==a[String(m)])return u.error("Branch labels must be unique.");a[String(m)]=s.length}var y=t.parse(p,c,o);if(!y)return null;o=o||y.type,s.push(y)}var f=t.parse(e[1],1,r);if(!f)return null;var v=t.parse(e[e.length-1],e.length-1,o);return v?new i(r,o,f,a,s,v):null},i.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},i.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},i.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},t.exports=i},{"../values":150}],139:[function(e,t,r){"use strict";var o=e("../types"),n=o.NumberType,i=e("../stops"),a=i.findStopLessThanOrEqualTo,s=function(e,t,r){var o=this;this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],s=a[0],c=a[1];o.labels.push(s),o.outputs.push(c)}};s.parse=function(e,t){var r=e[1],o=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,1,n)))return null;var i=[],a=null;t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType),o.unshift(-1/0);for(var c=0;c<o.length;c+=2){var l=o[c],p=o[c+1],u=c+1,d=c+2;if("number"!=typeof l)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=l)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var h=t.parse(p,d,a);if(!h)return null;a=a||h.type,i.push([l,h])}return new s(a,r,i)},s.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var o=this.input.evaluate(e);if(o<=t[0])return r[0].evaluate(e);var n=t.length;return o>=t[n-1]?r[n-1].evaluate(e):r[a(t,o)].evaluate(e)},s.prototype.eachChild=function(e){var t=this;e(this.input);for(var r=0,o=t.outputs;r<o.length;r+=1)e(o[r])},s.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},t.exports=s},{"../stops":148,"../types":149}],140:[function(e,t,r){"use strict";var o=function(e,t){this.type=t,this.name=e};o.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new o(r,t.scope.get(r).type):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},o.prototype.evaluate=function(e){return e.scope.get(this.name).evaluate(e)},o.prototype.eachChild=function(){},o.prototype.possibleOutputs=function(){return[void 0]},t.exports=o},{}],141:[function(e,t,r){"use strict";var o=e("./scope"),n=e("./values"),i=n.Color,a=["Unknown","Point","LineString","Polygon"],s=function(){this.scope=new o,this._parseColorCache={}};s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},s.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?a[this.feature.type]:this.feature.type:null},s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},s.prototype.pushScope=function(e){this.scope=this.scope.concat(e)},s.prototype.popScope=function(){this.scope=this.scope.parent},s.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=i.parse(e)),t},t.exports=s},{"./scope":147,"./values":150}],142:[function(e,t,r){"use strict";function o(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in w}function n(e,t,r){void 0===r&&(r={});var o=new d(w,[],c(t)),n=o.parse(e);return n?k(!1===r.handleErrors?new E(n):new C(n,t)):P(o.errors)}function i(e,t,r){if(void 0===r&&(r={}),e=n(e,t,r),"error"===e.result)return e;var o=e.value.expression,i=b.isFeatureConstant(o);if(!i&&!t["property-function"])return P([new u("","property expressions not supported")]);var a=b.isGlobalPropertyConstant(o,["zoom"]);if(!a&&!1===t["zoom-function"])return P([new u("","zoom expressions not supported")]);var c=s(o);return c||a?c instanceof u?P([c]):c instanceof v&&"piecewise-constant"===t.function?P([new u("",'"interpolate" expressions cannot be used with this property')]):k(c?i?new T("camera",e.value,c):new T("composite",e.value,c):i?new A("constant",e.value):new A("source",e.value)):P([new u("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function a(e,t){if(R(e))return new N(e,t);if(o(e)){var r=i(e,t);if("error"===r.result)throw new Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=j.parse(e)),{kind:"constant",evaluate:function(){return n}}}function s(e){var t=null;if(e instanceof _)t=s(e.result);else if(e instanceof g)for(var r=0,o=e.args;r<o.length;r+=1){var n=o[r];if(t=s(n))break}else(e instanceof f||e instanceof v)&&e.input instanceof y&&"zoom"===e.input.name&&(t=e);return t instanceof u?t:(e.eachChild(function(e){var r=s(e);r instanceof u?t=r:!t&&r?t=new u("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new u("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t)}function c(e){var t={color:I,string:B,number:D,enum:B,boolean:L};return"array"===e.type?U(t[e.value]||q,e.length):t[e.type]||null}function l(e){return"color"===e.type&&R(e.default)?new j(0,0,0,0):"color"===e.type?j.parse(e.default)||null:void 0===e.default?null:e.default}var p=e("../util/extend"),u=e("./parsing_error"),d=e("./parsing_context"),h=e("./evaluation_context"),m=e("./compound_expression"),y=m.CompoundExpression,f=e("./definitions/step"),v=e("./definitions/interpolate"),g=e("./definitions/coalesce"),_=e("./definitions/let"),w=e("./definitions"),b=e("./is_constant"),x=e("./runtime_error"),S=e("../util/result"),k=S.success,P=S.error,E=function(e){this.expression=e};E.prototype.evaluate=function(e,t){return this._evaluator||(this._evaluator=new h),this._evaluator.globals=e,this._evaluator.feature=t,this.expression.evaluate(this._evaluator)};var C=function(e){function t(t,r){e.call(this,t),this._warningHistory={},this._defaultValue=l(r),"enum"===r.type&&(this._enumValues=r.values)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.evaluate=function(e,t){this._evaluator||(this._evaluator=new h),this._evaluator.globals=e,this._evaluator.feature=t;try{var r=this.expression.evaluate(this._evaluator);if(null===r||void 0===r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new x("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}},t}(E),A=function(e,t){this.kind=e,this._styleExpression=t};A.prototype.evaluate=function(e,t){return this._styleExpression.evaluate(e,t)};var T=function(e,t,r){this.kind=e,this.zoomStops=r.labels,this._styleExpression=t,r instanceof v&&(this._interpolationType=r.interpolation)};T.prototype.evaluate=function(e,t){return this._styleExpression.evaluate(e,t)},T.prototype.interpolationFactor=function(e,t,r){return this._interpolationType?v.interpolationFactor(this._interpolationType,e,t,r):0};var M=e("../function"),R=M.isFunction,z=M.createFunction,O=e("./values"),j=O.Color,N=function(e,t){this._parameters=e,this._specification=t,p(this,z(this._parameters,this._specification))};N.deserialize=function(e){return new N(e._parameters,e._specification)},N.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}},t.exports={StyleExpression:E,StyleExpressionWithErrorHandling:C,isExpression:o,createExpression:n,createPropertyExpression:i,normalizePropertyExpression:a,ZoomConstantExpression:A,ZoomDependentExpression:T,StylePropertyFunction:N};var F=e("./types"),I=F.ColorType,B=F.StringType,D=F.NumberType,L=F.BooleanType,q=F.ValueType,U=F.array},{"../function":152,"../util/extend":167,"../util/result":171,"./compound_expression":126,"./definitions":134,"./definitions/coalesce":131,"./definitions/interpolate":135,"./definitions/let":136,"./definitions/step":139,"./evaluation_context":141,"./is_constant":143,"./parsing_context":144,"./parsing_error":145,"./runtime_error":146,"./types":149,"./values":150}],143:[function(e,t,r){"use strict";function o(e){if(e instanceof a){if("get"===e.name&&1===e.args.length)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1}var t=!0;return e.eachChild(function(e){t&&!o(e)&&(t=!1)}),t}function n(e,t){if(e instanceof a&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(e){r&&!n(e,t)&&(r=!1)}),r}var i=e("./compound_expression"),a=i.CompoundExpression;t.exports={isFeatureConstant:o,isGlobalPropertyConstant:n}},{"./compound_expression":126}],144:[function(e,t,r){"use strict";function o(t){var r=e("./compound_expression"),o=r.CompoundExpression,n=e("./is_constant"),i=n.isGlobalPropertyConstant,a=n.isFeatureConstant;if(t instanceof e("./definitions/var"))return!1;if(t instanceof o&&"error"===t.name)return!1;var s=!0;return t.eachChild(function(e){e instanceof c||(s=!1)}),!!s&&a(t)&&i(t,["zoom","heatmap-density"])}var n=e("./scope"),i=e("./types"),a=i.checkSubtype,s=e("./parsing_error"),c=e("./definitions/literal"),l=e("./definitions/assertion"),p=e("./definitions/array"),u=e("./definitions/coercion"),d=function(e,t,r,o,i){void 0===t&&(t=[]),void 0===o&&(o=new n),void 0===i&&(i=[]),this.definitions=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=o,this.errors=i,this.expectedType=r};d.prototype.parse=function(t,r,n,i,a){void 0===a&&(a={});var s=this;if(r&&(s=s.concat(r,n,i)),null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return s.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var d=t[0];if("string"!=typeof d)return s.error("Expression name must be a string, but found "+typeof d+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var h=s.definitions[d];if(h){var m=h.parse(t,s);if(!m)return null;if(s.expectedType){var y=s.expectedType,f=m.type;if("string"!==y.kind&&"number"!==y.kind&&"boolean"!==y.kind||"value"!==f.kind)if("array"===y.kind&&"value"===f.kind)a.omitTypeAnnotations||(m=new p(y,m));else if("color"!==y.kind||"value"!==f.kind&&"string"!==f.kind){if(s.checkSubtype(s.expectedType,m.type))return null}else a.omitTypeAnnotations||(m=new u(y,[m]));else a.omitTypeAnnotations||(m=new l(y,[m]))}if(!(m instanceof c)&&o(m)){var v=new(e("./evaluation_context"));try{m=new c(m.type,m.evaluate(v))}catch(t){return s.error(t.message),null}}return m}return s.error('Unknown expression "'+d+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?s.error("'undefined' value invalid. Use null instead."):"object"==typeof t?s.error('Bare objects invalid. Use ["literal", {...}] instead.'):s.error("Expected an array, but found "+typeof t+" instead.")},d.prototype.concat=function(e,t,r){var o="number"==typeof e?this.path.concat(e):this.path,n=r?this.scope.concat(r):this.scope;return new d(this.definitions,o,t||null,n,this.errors)},d.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var o=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new s(o,e))},d.prototype.checkSubtype=function(e,t){var r=a(e,t);return r&&this.error(r),r},t.exports=d},{"./compound_expression":126,"./definitions/array":127,"./definitions/assertion":128,"./definitions/coercion":132,"./definitions/literal":137,"./definitions/var":140,"./evaluation_context":141,"./is_constant":143,"./parsing_error":145,"./scope":147,"./types":149}],145:[function(e,t,r){"use strict";var o=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);t.exports=o},{}],146:[function(e,t,r){"use strict";var o=function(e){this.name="ExpressionEvaluationError",this.message=e};o.prototype.toJSON=function(){return this.message},t.exports=o},{}],147:[function(e,t,r){"use strict";var o=function(e,t){var r=this;void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var o=0,n=t;o<n.length;o+=1){var i=n[o],a=i[0],s=i[1];r.bindings[a]=s}};o.prototype.concat=function(e){return new o(this,e)},o.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},o.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)},t.exports=o},{}],148:[function(e,t,r){"use strict";function o(e,t){for(var r,o,i=e.length,a=0,s=i-1,c=0;a<=s;){if(c=Math.floor((a+s)/2),r=e[c],o=e[c+1],t===r||t>r&&t<o)return c;if(r<t)a=c+1;else{if(!(r>t))throw new n("Input is not a number.");s=c-1}}return Math.max(c-1,0)}var n=e("./runtime_error");t.exports={findStopLessThanOrEqualTo:o}},{"./runtime_error":146}],149:[function(e,t,r){"use strict";function o(e,t){return{kind:"array",itemType:e,N:t}}function n(e){if("array"===e.kind){var t=n(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}function i(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&!i(e.itemType,t.itemType)&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,o=m;r<o.length;r+=1){var a=o[r];if(!i(a,t))return null}}return"Expected "+n(e)+" but found "+n(t)+" instead."}var a={kind:"null"},s={kind:"number"},c={kind:"string"},l={kind:"boolean"},p={kind:"color"},u={kind:"object"},d={kind:"value"},h={kind:"error"},m=[a,s,c,l,p,u,o(d)];t.exports={NullType:a,NumberType:s,StringType:c,BooleanType:l,ColorType:p,ObjectType:u,ValueType:d,array:o,ErrorType:h,toString:n,checkSubtype:i}},{}],150:[function(e,t,r){"use strict";function o(e,t,r,o){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===o||"number"==typeof o&&o>=0&&o<=1?null:"Invalid rgba value ["+[e,t,r,o].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof o?[e,t,r,o]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function n(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof a)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!n(r[t]))return!1;return!0}if("object"==typeof e){for(var o in e)if(!n(e[o]))return!1;return!0}return!1}function i(e){if(null===e)return c;if("string"==typeof e)return p;if("boolean"==typeof e)return u;if("number"==typeof e)return l;if(e instanceof a)return d;if(Array.isArray(e)){for(var t,r=e.length,o=0,n=e;o<n.length;o+=1){var s=n[o],f=i(s);if(t){if(t===f)continue;t=m;break}t=f}return y(t||m,r)}return h}var a=e("../util/color"),s=e("./types"),c=s.NullType,l=s.NumberType,p=s.StringType,u=s.BooleanType,d=s.ColorType,h=s.ObjectType,m=s.ValueType,y=s.array;t.exports={Color:a,validateRGBA:o,isValue:n,typeOf:i}},{"../util/color":165,"./types":149}],151:[function(e,t,r){"use strict";function o(e){if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===e.length&&(Array.isArray(e[1])||Array.isArray(e[2]));case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!o(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function n(e){if(!e)return function(){return!0};if(!o(e))return new Function("g","f","var p = (f && f.properties || {}); return "+i(e));var t=m(e,f);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function i(e){if(!e)return"true";var t=e[0];return e.length<=1?"any"===t?"false":"true":"("+("=="===t?s(e[1],e[2],"===",!1):"!="===t?s(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?s(e[1],e[2],t,!0):"any"===t?c(e.slice(1),"||"):"all"===t?c(e.slice(1),"&&"):"none"===t?u(c(e.slice(1),"||")):"in"===t?l(e[1],e.slice(2)):"!in"===t?u(l(e[1],e.slice(2))):"has"===t?p(e[1]):"!has"===t?u(p(e[1])):"true")+")"}function a(e){return"$type"===e?"f.type":"$id"===e?"f.id":"p["+JSON.stringify(e)+"]"}function s(e,t,r,o){var n=a(e),i="$type"===e?y.indexOf(t):JSON.stringify(t);return(o?"typeof "+n+"=== typeof "+i+"&&":"")+n+r+i}function c(e,t){return e.map(i).join(t)}function l(e,t){"$type"===e&&(t=t.map(function(e){return y.indexOf(e)}));var r=JSON.stringify(t.sort(d)),o=a(e);return t.length<=200?r+".indexOf("+o+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+o+", "+r+",0,"+(t.length-1)+")"}function p(e){return"$id"===e?'"id" in f':JSON.stringify(e)+" in p"}function u(e){return"!("+e+")"}function d(e,t){return e<t?-1:e>t?1:0}var h=e("../expression"),m=h.createExpression;t.exports=n,t.exports.isExpressionFilter=o;var y=["Unknown","Point","LineString","Polygon"],f={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":142}],152:[function(e,t,r){"use strict";function o(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function n(e){return e}function i(e,t){var r="color"===t.type,o=e.stops&&"object"==typeof e.stops[0][0],n=o||void 0!==e.property,u=o||!n,d=e.type||("interpolated"===t.function?"exponential":"interval");if(r&&(e=y({},e),e.stops&&(e.stops=e.stops.map(function(e){return[e[0],m.parse(e[1])]})),e.default?e.default=m.parse(e.default):e.default=m.parse(t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!h[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);var f,v,_;if("exponential"===d)f=l;else if("interval"===d)f=c;else if("categorical"===d){f=s,v=Object.create(null);for(var w=0,b=e.stops;w<b.length;w+=1){var x=b[w];v[x[0]]=x[1]}_=typeof e.stops[0][0]}else{if("identity"!==d)throw new Error('Unknown function type "'+d+'"');f=p}if(o){for(var S={},k=[],P=0;P<e.stops.length;P++){var E=e.stops[P],C=E[0].zoom;void 0===S[C]&&(S[C]={zoom:C,type:e.type,property:e.property,default:e.default,stops:[]},k.push(C)),S[C].stops.push([E[0].value,E[1]])}for(var A=[],T=0,M=k;T<M.length;T+=1){var R=M[T];A.push([S[R].zoom,i(S[R],t)])}return{kind:"composite",interpolationFactor:g.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:A.map(function(e){return e[0]}),evaluate:function(r,o){var n=r.zoom;return l({stops:A,base:e.base},t,n).evaluate(n,o)}}}return u?{kind:"camera",interpolationFactor:"exponential"===d?g.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(e){return e[0]}),evaluate:function(r){var o=r.zoom;return f(e,t,o,v,_)}}:{kind:"source",evaluate:function(r,o){var n=o&&o.properties?o.properties[e.property]:void 0;return void 0===n?a(e.default,t.default):f(e,t,n,v,_)}}}function a(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function s(e,t,r,o,n){return a(typeof r===n?o[r]:void 0,e.default,t.default)}function c(e,t,r){if("number"!==f(r))return a(e.default,t.default);var o=e.stops.length;if(1===o)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[o-1][0])return e.stops[o-1][1];var n=u(e.stops,r);return e.stops[n][1]}function l(e,t,r){var o=void 0!==e.base?e.base:1;if("number"!==f(r))return a(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];var s=u(e.stops,r),c=d(r,o,e.stops[s][0],e.stops[s+1][0]),l=e.stops[s][1],p=e.stops[s+1][1],m=v[t.type]||n;if(e.colorSpace&&"rgb"!==e.colorSpace){var y=h[e.colorSpace];m=function(e,t){return y.reverse(y.interpolate(y.forward(e),y.forward(t),c))}}return"function"==typeof l.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=l.evaluate.apply(void 0,e),o=p.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==o)return m(r,o,c)}}:m(l,p,c)}function p(e,t,r){return"color"===t.type?r=m.parse(r):f(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),a(r,e.default,t.default)}function u(e,t){for(var r,o,n=e.length,i=0,a=n-1,s=0;i<=a;){if(s=Math.floor((i+a)/2),r=e[s][0],o=e[s+1][0],t===r||t>r&&t<o)return s;r<t?i=s+1:r>t&&(a=s-1)}return Math.max(s-1,0)}function d(e,t,r,o){var n=o-r,i=e-r;return 0===n?0:1===t?i/n:(Math.pow(t,i)-1)/(Math.pow(t,n)-1)}var h=e("../util/color_spaces"),m=e("../util/color"),y=e("../util/extend"),f=e("../util/get_type"),v=e("../util/interpolate"),g=e("../expression/definitions/interpolate");t.exports={createFunction:i,isFunction:o}},{"../expression/definitions/interpolate":135,"../util/color":165,"../util/color_spaces":166,"../util/extend":167,"../util/get_type":168,"../util/interpolate":169}],153:[function(e,t,r){"use strict";function o(e){var t=typeof e;if("number"===t||"boolean"===t||"string"===t||void 0===e||null===e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",n=0,i=e;n<i.length;n+=1)r+=o(i[n])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",c=0;c<a.length;c++)s+=JSON.stringify(a[c])+":"+o(e[a[c]])+",";return s+"}"}function n(e){for(var t="",r=0,n=a;r<n.length;r+=1)t+="/"+o(e[n[r]]);return t}function i(e){for(var t={},r=0;r<e.length;r++){var o=n(e[r]),i=t[o];i||(i=t[o]=[]),i.push(e[r])}var a=[];for(var s in t)a.push(t[s]);return a}var a=e("./util/ref_properties");t.exports=i},{"./util/ref_properties":170}],154:[function(e,t,r){function o(e){return e=Math.round(e),e<0?0:e>255?255:e}function n(e){return e<0?0:e>1?1:e}function i(e){return o("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return n("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function c(e){var t=e.replace(/ /g,"").toLowerCase();if(t in l)return l[t].slice();if("#"===t[0]){if(4===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null}if(7===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null}return null}var n=t.indexOf("("),c=t.indexOf(")");if(-1!==n&&c+1===t.length){var p=t.substr(0,n),u=t.substr(n+1,c-(n+1)).split(","),d=1;switch(p){case"rgba":if(4!==u.length)return null;d=a(u.pop());case"rgb":return 3!==u.length?null:[i(u[0]),i(u[1]),i(u[2]),d];case"hsla":if(4!==u.length)return null;d=a(u.pop());case"hsl":if(3!==u.length)return null;var h=(parseFloat(u[0])%360+360)%360/360,m=a(u[1]),y=a(u[2]),f=y<=.5?y*(m+1):y+m-y*m,v=2*y-f;return[o(255*s(v,f,h+1/3)),o(255*s(v,f,h)),o(255*s(v,f,h-1/3)),d];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{r.parseCSSColor=c}catch(e){}},{}],155:[function(e,t,r){function o(e){return!!e&&"object"==typeof e}function n(e,t){for(var r=-1,o=e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function i(e,t,r,n,s,c){return e===t||(null==e||null==t||!p(e)&&!o(t)?e!==e&&t!==t:a(e,t,i,r,n,s,c))}function a(e,t,r,o,n,i,a){var p=u(e),h=u(t),f=y,v=y;p||(f=P.call(e),f==m?f=w:f!=w&&(p=d(e))),h||(v=P.call(t),v==m?v=w:v!=w&&(h=d(t)));var g=f==w,_=v==w,b=f==v;if(b&&!p&&!g)return c(e,t,f);if(!n){var x=g&&k.call(e,"__wrapped__"),S=_&&k.call(t,"__wrapped__");if(x||S)return r(x?e.value():e,S?t.value():t,o,n,i,a)}if(!b)return!1;i||(i=[]),a||(a=[]);for(var E=i.length;E--;)if(i[E]==e)return a[E]==t;i.push(e),a.push(t);var C=(p?s:l)(e,t,r,o,n,i,a);return i.pop(),a.pop(),C}function s(e,t,r,o,i,a,s){var c=-1,l=e.length,p=t.length;if(l!=p&&!(i&&p>l))return!1;for(;++c<l;){var u=e[c],d=t[c],h=o?o(i?d:u,i?u:d,c):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!n(t,function(e){return u===e||r(u,e,o,i,a,s)}))return!1}else if(u!==d&&!r(u,d,o,i,a,s))return!1}return!0}function c(e,t,r){switch(r){case f:case v:return+e==+t;case g:return e.name==t.name&&e.message==t.message;case _:return e!=+e?t!=+t:e==+t;case b:case x:return e==t+""}return!1}function l(e,t,r,o,n,i,a){var s=h(e),c=s.length;if(c!=h(t).length&&!n)return!1;for(var l=c;l--;){var p=s[l];if(!(n?p in t:k.call(t,p)))return!1}for(var u=n;++l<c;){p=s[l];var d=e[p],m=t[p],y=o?o(n?m:d,n?d:m,p):void 0;if(!(void 0===y?r(d,m,o,n,i,a):y))return!1;u||(u="constructor"==p)}if(!u){var f=e.constructor,v=t.constructor;if(f!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof f&&f instanceof f&&"function"==typeof v&&v instanceof v))return!1}return!0}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=e("lodash.isarray"),d=e("lodash.istypedarray"),h=e("lodash.keys"),m="[object Arguments]",y="[object Array]",f="[object Boolean]",v="[object Date]",g="[object Error]",_="[object Number]",w="[object Object]",b="[object RegExp]",x="[object String]",S=Object.prototype,k=S.hasOwnProperty,P=S.toString;t.exports=i},{"lodash.isarray":159,"lodash.istypedarray":161,"lodash.keys":162}],156:[function(e,t,r){function o(e,t,r){if("function"!=typeof e)return n;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,o,n){return e.call(t,r,o,n)};case 4:return function(r,o,n,i){return e.call(t,r,o,n,i)};case 5:return function(r,o,n,i,a){return e.call(t,r,o,n,i,a)}}return function(){return e.apply(t,arguments)}}function n(e){return e}t.exports=o},{}],157:[function(e,t,r){function o(e){return!!e&&"object"==typeof e}function n(e,t){var r=null==e?void 0:e[t];return s(r)?r:void 0}function i(e){return a(e)&&h.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?m.test(u.call(e)):o(e)&&l.test(e))}var c="[object Function]",l=/^\[object .+?Constructor\]$/,p=Object.prototype,u=Function.prototype.toString,d=p.hasOwnProperty,h=p.toString,m=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{}],158:[function(e,t,r){function o(e){return i(e)&&y.call(e,"callee")&&(!v.call(e,"callee")||f.call(e)==u)}function n(e){return null!=e&&s(e.length)&&!a(e)}function i(e){return l(e)&&n(e)}function a(e){var t=c(e)?f.call(e):"";return t==d||t==h}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return!!e&&"object"==typeof e}var p=9007199254740991,u="[object Arguments]",d="[object Function]",h="[object GeneratorFunction]",m=Object.prototype,y=m.hasOwnProperty,f=m.toString,v=m.propertyIsEnumerable;t.exports=o},{}],159:[function(e,t,r){function o(e){return!!e&&"object"==typeof e}function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function i(e){return a(e)&&h.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?m.test(u.call(e)):o(e)&&l.test(e))}var c="[object Function]",l=/^\[object .+?Constructor\]$/,p=Object.prototype,u=Function.prototype.toString,d=p.hasOwnProperty,h=p.toString,m=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=function(e,t){var r=null==e?void 0:e[t];return s(r)?r:void 0}(Array,"isArray"),f=9007199254740991,v=y||function(e){return o(e)&&n(e.length)&&"[object Array]"==h.call(e)};t.exports=v},{}],160:[function(e,t,r){function o(e,t,r,o){r="function"==typeof r?i(r,o,3):void 0;var a=r?r(e,t):void 0;return void 0===a?n(e,t,r):!!a}var n=e("lodash._baseisequal"),i=e("lodash._bindcallback");t.exports=o},{"lodash._baseisequal":155,"lodash._bindcallback":156}],161:[function(e,t,r){function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function n(e){return!!e&&"object"==typeof e}function i(e){return n(e)&&o(e.length)&&!!s[l.call(e)]}var a=9007199254740991,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var c=Object.prototype,l=c.toString;t.exports=i},{}],162:[function(e,t,r){function o(e){return null!=e&&i(v(e))}function n(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?f:t,e>-1&&e%1==0&&e<t}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function a(e){for(var t=c(e),r=t.length,o=r&&e.length,a=!!o&&i(o)&&(u(e)||p(e)),s=-1,l=[];++s<r;){var d=t[s];(a&&n(d,o)||m.call(e,d))&&l.push(d)}return l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(u(e)||p(e))&&t||0;for(var r=e.constructor,o=-1,a="function"==typeof r&&r.prototype===e,c=Array(t),l=t>0;++o<t;)c[o]=o+"";for(var d in e)l&&n(d,t)||"constructor"==d&&(a||!m.call(e,d))||c.push(d);return c}var l=e("lodash._getnative"),p=e("lodash.isarguments"),u=e("lodash.isarray"),d=/^\d+$/,h=Object.prototype,m=h.hasOwnProperty,y=l(Object,"keys"),f=9007199254740991,v=function(e){return function(t){return null==t?void 0:t[e]}}("length"),g=y?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):s(e)?y(e):[]}:a;t.exports=g},{"lodash._getnative":157,"lodash.isarguments":158,"lodash.isarray":159}],163:[function(e,t,r){"use strict";t.exports=e("./v8.json")},{"./v8.json":164}],164:[function(e,t,r){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",units:'pixels multiplied by the value of "icon-size"',length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],165:[function(e,t,r){"use strict";var o=e("csscolorparser"),n=o.parseCSSColor,i=function(e,t,r,o){void 0===o&&(o=1),this.r=e,this.g=t,this.b=r,this.a=o};i.parse=function(e){if(e){if(e instanceof i)return e;if("string"==typeof e){var t=n(e);if(t)return new i(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},i.prototype.toString=function(){var e=this,t=function(t){return Math.round(255*t/e.a)};return"rgba("+[this.r,this.g,this.b].map(t).concat(this.a).join(",")+")"},i.black=new i(0,0,0,1),i.white=new i(1,1,1,1),i.transparent=new i(0,0,0,0),t.exports=i},{csscolorparser:154}],166:[function(e,t,r){"use strict";function o(e){return e>x?Math.pow(e,1/3):e/b+_}function n(e){return e>w?e*e*e:b*(e-_)}function i(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function a(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s(e){var t=a(e.r),r=a(e.g),n=a(e.b),i=o((.4124564*t+.3575761*r+.1804375*n)/f),s=o((.2126729*t+.7151522*r+.072175*n)/v);return{l:116*s-16,a:500*(i-s),b:200*(s-o((.0193339*t+.119192*r+.9503041*n)/g)),alpha:e.a}}function c(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,o=isNaN(e.b)?t:t-e.b/200;return t=v*n(t),r=f*n(r),o=g*n(o),new m(i(3.2404542*r-1.5371385*t-.4985314*o),i(-.969266*r+1.8760108*t+.041556*o),i(.0556434*r-.2040259*t+1.0572252*o),e.alpha)}function l(e,t,r){return{l:y(e.l,t.l,r),a:y(e.a,t.a,r),b:y(e.b,t.b,r),alpha:y(e.alpha,t.alpha,r)}}function p(e){var t=s(e),r=t.l,o=t.a,n=t.b,i=Math.atan2(n,o)*k;return{h:i<0?i+360:i,c:Math.sqrt(o*o+n*n),l:r,alpha:e.a}}function u(e){var t=e.h*S,r=e.c;return c({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})}function d(e,t,r){var o=t-e;return e+r*(o>180||o<-180?o-360*Math.round(o/360):o)}function h(e,t,r){return{h:d(e.h,t.h,r),c:y(e.c,t.c,r),l:y(e.l,t.l,r),alpha:y(e.alpha,t.alpha,r)}}var m=e("./color"),y=e("./interpolate").number,f=.95047,v=1,g=1.08883,_=4/29,w=6/29,b=3*w*w,x=w*w*w,S=Math.PI/180,k=180/Math.PI;t.exports={lab:{forward:s,reverse:c,interpolate:l},hcl:{forward:p,reverse:u,interpolate:h}}},{"./color":165,"./interpolate":169}],167:[function(e,t,r){"use strict";t.exports=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var o=0,n=t;o<n.length;o+=1){var i=n[o];for(var a in i)e[a]=i[a]}return e}},{}],168:[function(e,t,r){"use strict";t.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},{}],169:[function(e,t,r){"use strict";function o(e,t,r){return e*(1-r)+t*r}function n(e,t,r){return new a(o(e.r,t.r,r),o(e.g,t.g,r),o(e.b,t.b,r),o(e.a,t.a,r))}function i(e,t,r){return e.map(function(e,n){return o(e,t[n],r)})}var a=e("./color");t.exports={number:o,color:n,array:i}},{"./color":165}],170:[function(e,t,r){"use strict";t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],171:[function(e,t,r){"use strict";function o(e){return{result:"success",value:e}}function n(e){return{result:"error",value:e}}t.exports={success:o,error:n}},{}],172:[function(e,t,r){"use strict";function o(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function n(e){return Array.isArray(e)?e.map(n):o(e)}t.exports=o,t.exports.deep=n},{}],173:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/get_type"),i=e("../util/extend"),a=e("../util/unbundle_jsonlint"),s=e("../expression"),c=s.isExpression,l=e("../function"),p=l.isFunction;t.exports=function(t){var r=e("./validate_function"),s=e("./validate_expression"),l=e("./validate_object"),u={"*":function(){return[]},array:e("./validate_array"),boolean:e("./validate_boolean"),number:e("./validate_number"),color:e("./validate_color"),constants:e("./validate_constants"),enum:e("./validate_enum"),filter:e("./validate_filter"),function:e("./validate_function"),layer:e("./validate_layer"),object:e("./validate_object"),source:e("./validate_source"),light:e("./validate_light"),string:e("./validate_string")},d=t.value,h=t.valueSpec,m=t.key,y=t.styleSpec,f=t.style;if("string"===n(d)&&"@"===d[0]){if(y.$version>7)return[new o(m,d,"constants have been deprecated as of v8")];if(!(d in f.constants))return[new o(m,d,'constant "%s" not found',d)];t=i({},t,{value:f.constants[d]})}return h.function&&p(a(d))?r(t):h.function&&c(a.deep(d))?s(t):h.type&&u[h.type]?u[h.type](t):l(i({},t,{valueSpec:h.type?y[h.type]:h}))}},{"../error/validation_error":125,"../expression":142,"../function":152,"../util/extend":167,"../util/get_type":168,"../util/unbundle_jsonlint":172,"./validate_array":174,"./validate_boolean":175,"./validate_color":176,"./validate_constants":177,"./validate_enum":178,"./validate_expression":179,"./validate_filter":180,"./validate_function":181,"./validate_layer":183,"./validate_light":185,"./validate_number":186,"./validate_object":187,"./validate_source":190,"./validate_string":191}],174:[function(e,t,r){"use strict";var o=e("../util/get_type"),n=e("./validate"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,r=e.valueSpec,a=e.style,s=e.styleSpec,c=e.key,l=e.arrayElementValidator||n;if("array"!==o(t))return[new i(c,t,"array expected, %s found",o(t))];if(r.length&&t.length!==r.length)return[new i(c,t,"array length %d expected, length %d found",r.length,t.length)];if(r["min-length"]&&t.length<r["min-length"])return[new i(c,t,"array length at least %d expected, length %d found",r["min-length"],t.length)];var p={type:r.value};s.$version<7&&(p.function=r.function),"object"===o(r.value)&&(p=r.value);for(var u=[],d=0;d<t.length;d++)u=u.concat(l({array:t,arrayIndex:d,value:t[d],valueSpec:p,style:a,styleSpec:s,key:c+"["+d+"]"}));return u}},{"../error/validation_error":125,"../util/get_type":168,"./validate":173}],175:[function(e,t,r){"use strict";var o=e("../util/get_type"),n=e("../error/validation_error");t.exports=function(e){var t=e.value,r=e.key,i=o(t);return"boolean"!==i?[new n(r,t,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":125,"../util/get_type":168}],176:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/get_type"),i=e("csscolorparser").parseCSSColor;t.exports=function(e){var t=e.key,r=e.value,a=n(r);return"string"!==a?[new o(t,r,"color expected, %s found",a)]:null===i(r)?[new o(t,r,'color expected, "%s" found',r)]:[]}},{"../error/validation_error":125,"../util/get_type":168,csscolorparser:154}],177:[function(e,t,r){"use strict";var o=e("../error/validation_error");t.exports=function(e){var t=e.key,r=e.value;return r?[new o(t,r,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":125}],178:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/unbundle_jsonlint");t.exports=function(e){var t=e.key,r=e.value,i=e.valueSpec,a=[];return Array.isArray(i.values)?-1===i.values.indexOf(n(r))&&a.push(new o(t,r,"expected one of [%s], %s found",i.values.join(", "),JSON.stringify(r))):-1===Object.keys(i.values).indexOf(n(r))&&a.push(new o(t,r,"expected one of [%s], %s found",Object.keys(i.values).join(", "),JSON.stringify(r))),a}},{"../error/validation_error":125,"../util/unbundle_jsonlint":172}],179:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../expression"),i=n.createExpression,a=n.createPropertyExpression,s=e("../util/unbundle_jsonlint");t.exports=function(e){var t=("property"===e.expressionContext?a:i)(s.deep(e.value),e.valueSpec);return"error"===t.result?t.value.map(function(t){return new o(""+e.key+t.key,e.value,t.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==t.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new o(e.key,e.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":125,"../expression":142,"../util/unbundle_jsonlint":172}],180:[function(e,t,r){"use strict";function o(e){var t=e.value,r=e.key;if("array"!==s(t))return[new n(r,t,"array expected, %s found",s(t))];var i,l=e.styleSpec,p=[];if(t.length<1)return[new n(r,t,"filter array must have at least 1 element")];switch(p=p.concat(a({key:r+"[0]",value:t[0],valueSpec:l.filter_operator,style:e.style,styleSpec:e.styleSpec})),c(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===c(t[1])&&p.push(new n(r,t,'"$type" cannot be use with operator "%s"',t[0]));case"==":case"!=":3!==t.length&&p.push(new n(r,t,'filter array for operator "%s" must have 3 elements',t[0]));case"in":case"!in":t.length>=2&&"string"!==(i=s(t[1]))&&p.push(new n(r+"[1]",t[1],"string expected, %s found",i));for(var u=2;u<t.length;u++)i=s(t[u]),"$type"===c(t[1])?p=p.concat(a({key:r+"["+u+"]",value:t[u],valueSpec:l.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&p.push(new n(r+"["+u+"]",t[u],"string, number, or boolean expected, %s found",i));break;case"any":case"all":case"none":for(var d=1;d<t.length;d++)p=p.concat(o({key:r+"["+d+"]",value:t[d],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=s(t[1]),2!==t.length?p.push(new n(r,t,'filter array for "%s" operator must have 2 elements',t[0])):"string"!==i&&p.push(new n(r+"[1]",t[1],"string expected, %s found",i))}return p}var n=e("../error/validation_error"),i=e("./validate_expression"),a=e("./validate_enum"),s=e("../util/get_type"),c=e("../util/unbundle_jsonlint"),l=e("../util/extend"),p=e("../feature_filter"),u=p.isExpressionFilter;t.exports=function(e){return u(c.deep(e.value))?i(l({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):o(e)}},{"../error/validation_error":125,"../feature_filter":151,"../util/extend":167,"../util/get_type":168,"../util/unbundle_jsonlint":172,"./validate_enum":178,"./validate_expression":179}],181:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/get_type"),i=e("./validate"),a=e("./validate_object"),s=e("./validate_array"),c=e("./validate_number"),l=e("../util/unbundle_jsonlint");t.exports=function(e){function t(e){if("identity"===f)return[new o(e.key,e.value,'identity function may not have a "stops" property')];var t=[],i=e.value;return t=t.concat(s({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:r})),"array"===n(i)&&0===i.length&&t.push(new o(e.key,i,"array must have at least one stop")),t}function r(e){var t=[],r=e.value,s=e.key;if("array"!==n(r))return[new o(s,r,"array expected, %s found",n(r))];if(2!==r.length)return[new o(s,r,"array length %d expected, length %d found",2,r.length)];if(w){if("object"!==n(r[0]))return[new o(s,r,"object expected, %s found",n(r[0]))];if(void 0===r[0].zoom)return[new o(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new o(s,r,"object stop key must have value")];if(m&&m>l(r[0].zoom))return[new o(s,r[0].zoom,"stop zoom values must appear in ascending order")];l(r[0].zoom)!==m&&(m=l(r[0].zoom),h=void 0,v={}),t=t.concat(a({key:s+"[0]",value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:c,value:p}}))}else t=t.concat(p({key:s+"[0]",value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return t.concat(i({key:s+"[1]",value:r[1],valueSpec:y,style:e.style,styleSpec:e.styleSpec}))}function p(e,t){var r=n(e.value),i=l(e.value),a=null!==e.value?e.value:t;if(d){if(r!==d)return[new o(e.key,a,"%s stop domain type must match previous stop domain type %s",r,d)]}else d=r;if("number"!==r&&"string"!==r&&"boolean"!==r)return[new o(e.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==r&&"categorical"!==f){var s="number expected, %s found";return y["property-function"]&&void 0===f&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new o(e.key,a,s,r)]}return"categorical"!==f||"number"!==r||isFinite(i)&&Math.floor(i)===i?"categorical"!==f&&"number"===r&&void 0!==h&&i<h?[new o(e.key,a,"stop domain values must appear in ascending order")]:(h=i,"categorical"===f&&i in v?[new o(e.key,a,"stop domain values must be unique")]:(v[i]=!0,[])):[new o(e.key,a,"integer expected, found %s",i)]}function u(e){return i({key:e.key,value:e.value,valueSpec:y,style:e.style,styleSpec:e.styleSpec})}var d,h,m,y=e.valueSpec,f=l(e.value.type),v={},g="categorical"!==f&&void 0===e.value.property,_=!g,w="array"===n(e.value.stops)&&"array"===n(e.value.stops[0])&&"object"===n(e.value.stops[0][0]),b=a({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t,default:u}});return"identity"===f&&g&&b.push(new o(e.key,e.value,'missing required property "property"')),"identity"===f||e.value.stops||b.push(new o(e.key,e.value,'missing required property "stops"')),"exponential"===f&&"piecewise-constant"===e.valueSpec.function&&b.push(new o(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(_&&!e.valueSpec["property-function"]?b.push(new o(e.key,e.value,"property functions not supported")):g&&!e.valueSpec["zoom-function"]&&"heatmap-color"!==e.objectKey&&b.push(new o(e.key,e.value,"zoom functions not supported"))),"categorical"!==f&&!w||void 0!==e.value.property||b.push(new o(e.key,e.value,'"property" property is required')),b}},{"../error/validation_error":125,"../util/get_type":168,"../util/unbundle_jsonlint":172,"./validate":173,"./validate_array":174,"./validate_number":186,"./validate_object":187}],182:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("./validate_string");t.exports=function(e){var t=e.value,r=e.key,i=n(e);return i.length?i:(-1===t.indexOf("{fontstack}")&&i.push(new o(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new o(r,t,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":125,"./validate_string":191}],183:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/unbundle_jsonlint"),i=e("./validate_object"),a=e("./validate_filter"),s=e("./validate_paint_property"),c=e("./validate_layout_property"),l=e("./validate"),p=e("../util/extend");t.exports=function(e){var t=[],r=e.value,u=e.key,d=e.style,h=e.styleSpec;r.type||r.ref||t.push(new o(u,r,'either "type" or "ref" is required'));var m=n(r.type),y=n(r.ref);if(r.id)for(var f=n(r.id),v=0;v<e.arrayIndex;v++){var g=d.layers[v];n(g.id)===f&&t.push(new o(u,r.id,'duplicate layer id "%s", previously used at line %d',r.id,g.id.__line__))}if("ref"in r){["type","source","source-layer","filter","layout"].forEach(function(e){e in r&&t.push(new o(u,r[e],'"%s" is prohibited for ref layers',e))});var _;d.layers.forEach(function(e){n(e.id)===y&&(_=e)}),_?_.ref?t.push(new o(u,r.ref,"ref cannot reference another ref layer")):m=n(_.type):t.push(new o(u,r.ref,'ref layer "%s" not found',y))}else if("background"!==m)if(r.source){var w=d.sources&&d.sources[r.source],b=w&&n(w.type);w?"vector"===b&&"raster"===m?t.push(new o(u,r.source,'layer "%s" requires a raster source',r.id)):"raster"===b&&"raster"!==m?t.push(new o(u,r.source,'layer "%s" requires a vector source',r.id)):"vector"!==b||r["source-layer"]?"raster-dem"===b&&"hillshade"!==m&&t.push(new o(u,r.source,"raster-dem source can only be used with layer type 'hillshade'.",r.id)):t.push(new o(u,r,'layer "%s" must specify a "source-layer"',r.id)):t.push(new o(u,r.source,'source "%s" not found',r.source))}else t.push(new o(u,r,'missing required property "source"'));return t=t.concat(i({key:u,value:r,valueSpec:h.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return l({key:u+".type",value:r.type,valueSpec:h.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:a,layout:function(e){return i({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return c(p({layerType:m},e))}}})},paint:function(e){return i({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return s(p({layerType:m},e))}}})}}}))}},{"../error/validation_error":125,"../util/extend":167,"../util/unbundle_jsonlint":172,"./validate":173,"./validate_filter":180,"./validate_layout_property":184,"./validate_object":187,"./validate_paint_property":188}],184:[function(e,t,r){"use strict";var o=e("./validate_property");t.exports=function(e){return o(e,"layout")}},{"./validate_property":189}],185:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/get_type"),i=e("./validate");t.exports=function(e){var t=e.value,r=e.styleSpec,a=r.light,s=e.style,c=[],l=n(t);if(void 0===t)return c;if("object"!==l)return c=c.concat([new o("light",t,"object expected, %s found",l)]);for(var p in t){var u=p.match(/^(.*)-transition$/);c=u&&a[u[1]]&&a[u[1]].transition?c.concat(i({key:p,value:t[p],valueSpec:r.transition,style:s,styleSpec:r})):a[p]?c.concat(i({key:p,value:t[p],valueSpec:a[p],style:s,styleSpec:r})):c.concat([new o(p,t[p],'unknown property "%s"',p)])}return c}},{"../error/validation_error":125,"../util/get_type":168,"./validate":173}],186:[function(e,t,r){"use strict";var o=e("../util/get_type"),n=e("../error/validation_error");t.exports=function(e){var t=e.key,r=e.value,i=e.valueSpec,a=o(r);return"number"!==a?[new n(t,r,"number expected, %s found",a)]:"minimum"in i&&r<i.minimum?[new n(t,r,"%s is less than the minimum value %s",r,i.minimum)]:"maximum"in i&&r>i.maximum?[new n(t,r,"%s is greater than the maximum value %s",r,i.maximum)]:[]}},{"../error/validation_error":125,"../util/get_type":168}],187:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/get_type"),i=e("./validate");t.exports=function(e){var t=e.key,r=e.value,a=e.valueSpec||{},s=e.objectElementValidators||{},c=e.style,l=e.styleSpec,p=[],u=n(r);if("object"!==u)return[new o(t,r,"object expected, %s found",u)];for(var d in r){var h=d.split(".")[0],m=a[h]||a["*"],y=void 0;if(s[h])y=s[h];else if(a[h])y=i;else if(s["*"])y=s["*"];else{if(!a["*"]){p.push(new o(t,r[d],'unknown property "%s"',d));continue}y=i}p=p.concat(y({key:(t?t+".":t)+d,value:r[d],valueSpec:m,style:c,styleSpec:l,object:r,objectKey:d},r))}for(var f in a)s[f]||a[f].required&&void 0===a[f].default&&void 0===r[f]&&p.push(new o(t,r,'missing required property "%s"',f));return p}},{"../error/validation_error":125,"../util/get_type":168,"./validate":173}],188:[function(e,t,r){"use strict";var o=e("./validate_property");t.exports=function(e){return o(e,"paint")}},{"./validate_property":189}],189:[function(e,t,r){"use strict";var o=e("./validate"),n=e("../error/validation_error"),i=e("../util/get_type"),a=e("../function"),s=a.isFunction,c=e("../util/unbundle_jsonlint");t.exports=function(e,t){var r=e.key,a=e.style,l=e.styleSpec,p=e.value,u=e.objectKey,d=l[t+"_"+e.layerType];if(!d)return[];var h=u.match(/^(.*)-transition$/);if("paint"===t&&h&&d[h[1]]&&d[h[1]].transition)return o({key:r,value:p,valueSpec:l.transition,style:a,styleSpec:l});var m=e.valueSpec||d[u];if(!m)return[new n(r,p,'unknown property "%s"',u)];var y;if("string"===i(p)&&m["property-function"]&&!m.tokens&&(y=/^{([^}]+)}$/.exec(p)))return[new n(r,p,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',u,JSON.stringify(y[1]))];var f=[];return"symbol"===e.layerType&&("text-field"===u&&a&&!a.glyphs&&f.push(new n(r,p,'use of "text-field" requires a style "glyphs" property')),"text-font"===u&&s(c.deep(p))&&"identity"===c(p.type)&&f.push(new n(r,p,'"text-font" does not support identity functions'))),f.concat(o({key:e.key,value:p,valueSpec:m,style:a,styleSpec:l,expressionContext:"property",propertyKey:u}))}},{"../error/validation_error":125,"../function":152,"../util/get_type":168,"../util/unbundle_jsonlint":172,"./validate":173}],190:[function(e,t,r){"use strict";var o=e("../error/validation_error"),n=e("../util/unbundle_jsonlint"),i=e("./validate_object"),a=e("./validate_enum");t.exports=function(e){var t=e.value,r=e.key,s=e.styleSpec,c=e.style;if(!t.type)return[new o(r,t,'"type" is required')];var l=n(t.type),p=[];switch(l){case"vector":case"raster":case"raster-dem":if(p=p.concat(i({key:r,value:t,valueSpec:s["source_"+l.replace("-","_")],style:e.style,styleSpec:s})),"url"in t)for(var u in t)["type","url","tileSize"].indexOf(u)<0&&p.push(new o(r+"."+u,t[u],'a source with a "url" property may not include a "%s" property',u));return p;case"geojson":return i({key:r,value:t,valueSpec:s.source_geojson,style:c,styleSpec:s});case"video":return i({key:r,value:t,valueSpec:s.source_video,style:c,styleSpec:s});case"image":return i({key:r,value:t,valueSpec:s.source_image,style:c,styleSpec:s});case"canvas":return i({key:r,value:t,valueSpec:s.source_canvas,style:c,styleSpec:s});default:return a({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:c,styleSpec:s})}}},{"../error/validation_error":125,"../util/unbundle_jsonlint":172,"./validate_enum":178,"./validate_object":187}],191:[function(e,t,r){"use strict";var o=e("../util/get_type"),n=e("../error/validation_error");t.exports=function(e){var t=e.value,r=e.key,i=o(t);return"string"!==i?[new n(r,t,"string expected, %s found",i)]:[]}},{"../error/validation_error":125,"../util/get_type":168}],192:[function(e,t,r){"use strict";function o(e,t){t=t||c;var r=[];return r=r.concat(s({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),e.constants&&(r=r.concat(a({key:"constants",value:e.constants,style:e,styleSpec:t}))),n(r)}function n(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function i(e){return function(){return n(e.apply(this,arguments))}}var a=e("./validate/validate_constants"),s=e("./validate/validate"),c=e("./reference/latest"),l=e("./validate/validate_glyphs_url");o.source=i(e("./validate/validate_source")),o.light=i(e("./validate/validate_light")),o.layer=i(e("./validate/validate_layer")),o.filter=i(e("./validate/validate_filter")),o.paintProperty=i(e("./validate/validate_paint_property")),o.layoutProperty=i(e("./validate/validate_layout_property")),t.exports=o},{"./reference/latest":163,"./validate/validate":173,"./validate/validate_constants":177,"./validate/validate_filter":180,"./validate/validate_glyphs_url":182,"./validate/validate_layer":183,"./validate/validate_layout_property":184,"./validate/validate_light":185,"./validate/validate_paint_property":188,"./validate/validate_source":190}],193:[function(e,t,r){"use strict";var o=e("./zoom_history"),n=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new o,this.transition={})};n.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},t.exports=n},{"./zoom_history":223}],194:[function(e,t,r){"use strict";var o=e("../style-spec/reference/latest"),n=e("../util/util"),i=e("../util/evented"),a=e("./validate_style"),s=e("../util/util"),c=s.sphericalToCartesian,l=(e("../style-spec/util/color"),e("../style-spec/util/interpolate")),p=e("./properties"),u=p.Properties,d=p.Transitionable,h=(p.Transitioning,p.PossiblyEvaluated,p.DataConstantProperty),m=function(){this.specification=o.light.position};m.prototype.possiblyEvaluate=function(e,t){return c(e.expression.evaluate(t))},m.prototype.interpolate=function(e,t,r){return{x:l.number(e.x,t.x,r),y:l.number(e.y,t.y,r),z:l.number(e.z,t.z,r)}};var y=new u({anchor:new h(o.light.anchor),position:new m,color:new h(o.light.color),intensity:new h(o.light.intensity)}),f=function(e){function t(t){e.call(this),this._transitionable=new d(y),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLight=function(){return this._transitionable.serialize()},t.prototype.setLight=function(e){var t=this;if(!this._validate(a.light,e))for(var r in e){var o=e[r];n.endsWith(r,"-transition")?t._transitionable.setTransition(r.slice(0,-"-transition".length),o):t._transitionable.setValue(r,o)}},t.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},t.prototype.hasTransition=function(){return this._transitioning.hasTransition()},t.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},t.prototype._validate=function(e,t){return a.emitErrors(this,e.call(a,n.extend({value:t,style:{glyphs:!0,sprite:!0},styleSpec:o})))},t}(i);t.exports=f},{"../style-spec/reference/latest":163,"../style-spec/util/color":165,"../style-spec/util/interpolate":169,"../util/evented":271,"../util/util":285,"./properties":199,"./validate_style":222}],195:[function(e,t,r){"use strict";var o=e("../util/mapbox"),n=o.normalizeGlyphsURL,i=e("../util/ajax"),a=e("./parse_glyph_pbf");t.exports=function(e,t,r,o,s){var c=256*t,l=c+255,p=o(n(r).replace("{fontstack}",e).replace("{range}",c+"-"+l),i.ResourceType.Glyphs);i.getArrayBuffer(p,function(e,t){if(e)s(e);else if(t){for(var r={},o=0,n=a(t.data);o<n.length;o+=1){var i=n[o];r[i.id]=i}s(null,r)}})}},{"../util/ajax":262,"../util/mapbox":278,"./parse_glyph_pbf":197}],196:[function(e,t,r){"use strict";var o=e("../util/ajax"),n=e("../util/browser"),i=e("../util/mapbox"),a=i.normalizeSpriteURL,s=e("../util/image"),c=s.RGBAImage;t.exports=function(e,t,r){function i(){if(p)r(p);else if(s&&l){var e=n.getImageData(l),t={};for(var o in s){var i=s[o],a=i.width,u=i.height,d=i.x,h=i.y,m=i.sdf,y=i.pixelRatio,f=new c({width:a,height:u});c.copy(e,f,{x:d,y:h},{x:0,y:0},{width:a,height:u}),t[o]={data:f,pixelRatio:y,sdf:m}}r(null,t)}}var s,l,p,u=n.devicePixelRatio>1?"@2x":"";o.getJSON(t(a(e,u,".json"),o.ResourceType.SpriteJSON),function(e,t){p||(p=e,s=t,i())}),o.getImage(t(a(e,u,".png"),o.ResourceType.SpriteImage),function(e,t){p||(p=e,l=t,i())})}},{"../util/ajax":262,"../util/browser":263,"../util/image":274,"../util/mapbox":278}],197:[function(e,t,r){"use strict";function o(e,t,r){1===e&&r.readMessage(n,t)}function n(e,t,r){if(3===e){var o=r.readMessage(i,{}),n=o.id,a=o.bitmap,c=o.width,p=o.height,u=o.left,d=o.top,h=o.advance;t.push({id:n,bitmap:new s({width:c+2*l,height:p+2*l},a),metrics:{width:c,height:p,left:u,top:d,advance:h}})}}function i(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}var a=e("../util/image"),s=a.AlphaImage,c=e("pbf"),l=3;t.exports=function(e){return new c(e).readFields(o,[])},t.exports.GLYPH_PBF_BORDER=l},{"../util/image":274,pbf:29}],198:[function(e,t,r){"use strict";var o=e("../util/browser"),n=e("../symbol/collision_index"),i=function(e){this._currentTileIndex=0,this._tileIDs=e};i.prototype.continuePlacement=function(e,t,r,o,n){for(var i=this;this._currentTileIndex<this._tileIDs.length;)if(e.getTileByID(i._tileIDs[i._currentTileIndex]).placeLayer(r,t,o,e.id),i._currentTileIndex++,n())return!0};var a=function(e,t,r,i,a,s){this.collisionIndex=new n(e.clone()),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._sourceCacheTileIDs={},this._done=!1,this._delayUntil=r||!s||0===a?o.now():s._delayUntil+300,this._collisionFadeTimes=s?s._collisionFadeTimes:{latestStart:0,duration:a}};a.prototype.isDone=function(){return this._done},a.prototype.continuePlacement=function(e,t,r){var n=this,a=o.now();if(a<this._delayUntil)return!0;for(var s=function(){var e=o.now()-a;return!n._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var c=e[n._currentPlacementIndex],l=t[c];if("symbol"===l.type){var p=r[l.source];if(n._inProgressLayer||(n._sourceCacheTileIDs[l.source]||(n._sourceCacheTileIDs[l.source]=p.getRenderableIds().sort(function(e,t){var r=p.getTileByID(e).tileID,o=p.getTileByID(t).tileID;return r.isLessThan(o)?-1:o.isLessThan(r)?1:0})),n._inProgressLayer=new i(n._sourceCacheTileIDs[l.source])),n._inProgressLayer.continuePlacement(p,n.collisionIndex,n._showCollisionBoxes,l,s))return;delete n._inProgressLayer}n._currentPlacementIndex--}for(var u in r)r[u].commitPlacement(n.collisionIndex,n._collisionFadeTimes);this._done=!0},a.prototype.stillFading=function(){return o.now()<this._collisionFadeTimes.latestStart+this._collisionFadeTimes.duration},t.exports=a},{"../symbol/collision_index":228,"../util/browser":263}],199:[function(e,t,r){"use strict";var o=e("../util/util"),n=o.clone,i=o.extend,a=o.easeCubicInOut,s=e("../style-spec/util/interpolate"),c=e("../style-spec/expression"),l=c.normalizePropertyExpression,p=(e("../style-spec/util/color"),e("../util/web_worker_transfer")),u=p.register,d=function(e,t){this.property=e,this.value=t,this.expression=l(void 0===t?e.specification.default:t,e.specification)};d.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},d.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var h=function(e){this.property=e,this.value=new d(e,void 0)};h.prototype.transitioned=function(e,t){return new y(this.property,this.value,t,i({},e.transition,this.transition),e.now)},h.prototype.untransitioned=function(){return new y(this.property,this.value,null,{},0)};var m=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};m.prototype.getValue=function(e){return n(this._values[e].value.value)},m.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new h(this._values[e].property)),this._values[e].value=new d(this._values[e].property,null===t?void 0:n(t))},m.prototype.getTransition=function(e){return n(this._values[e].transition)},m.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new h(this._values[e].property)),this._values[e].transition=n(t)||void 0},m.prototype.serialize=function(){for(var e=this,t={},r=0,o=Object.keys(e._values);r<o.length;r+=1){var n=o[r],i=e.getValue(n);void 0!==i&&(t[n]=i);var a=e.getTransition(n);void 0!==a&&(t[n+"-transition"]=a)}return t},m.prototype.transitioned=function(e,t){for(var r=this,o=new f(this._properties),n=0,i=Object.keys(r._values);n<i.length;n+=1){var a=i[n];o._values[a]=r._values[a].transitioned(e,t._values[a])}return o},m.prototype.untransitioned=function(){for(var e=this,t=new f(this._properties),r=0,o=Object.keys(e._values);r<o.length;r+=1){var n=o[r];t._values[n]=e._values[n].untransitioned()}return t};var y=function(e,t,r,o,n){this.property=e,this.value=t,this.begin=n+o.delay||0,this.end=this.begin+o.duration||0,e.specification.transition&&(o.delay||o.duration)&&(this.prior=r)};y.prototype.possiblyEvaluate=function(e){var t=e.now||0,r=this.value.possiblyEvaluate(e),o=this.prior;if(o){if(t>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(t<this.begin)return o.possiblyEvaluate(e);var n=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e),r,a(n))}return r};var f=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};f.prototype.possiblyEvaluate=function(e){for(var t=this,r=new _(this._properties),o=0,n=Object.keys(t._values);o<n.length;o+=1){var i=n[o];r._values[i]=t._values[i].possiblyEvaluate(e)}return r},f.prototype.hasTransition=function(){for(var e=this,t=0,r=Object.keys(e._values);t<r.length;t+=1){var o=r[t];if(e._values[o].prior)return!0}return!1};var v=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};v.prototype.getValue=function(e){return n(this._values[e].value)},v.prototype.setValue=function(e,t){this._values[e]=new d(this._values[e].property,null===t?void 0:n(t))},v.prototype.serialize=function(){for(var e=this,t={},r=0,o=Object.keys(e._values);r<o.length;r+=1){var n=o[r],i=e.getValue(n);void 0!==i&&(t[n]=i)}return t},v.prototype.possiblyEvaluate=function(e){for(var t=this,r=new _(this._properties),o=0,n=Object.keys(t._values);o<n.length;o+=1){var i=n[o];r._values[i]=t._values[i].possiblyEvaluate(e)}return r};var g=function(e,t,r){this.property=e,this.value=t,this.globals=r};g.prototype.isConstant=function(){return"constant"===this.value.kind},g.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},g.prototype.evaluate=function(e){return this.property.evaluate(this.value,this.globals,e)};var _=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};_.prototype.get=function(e){return this._values[e]};var w=function(e){this.specification=e};w.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},w.prototype.interpolate=function(e,t,r){var o=s[this.specification.type];return o?o(e,t,r):e};var b=function(e){this.specification=e};b.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new g(this,{kind:"constant",value:e.expression.evaluate(t)},t):new g(this,e.expression,t)},b.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0!==e.value.value&&void 0!==e.value.value){var o=s[this.specification.type];return o?new g(this,{kind:"constant",value:o(e.value.value,t.value.value,r)},e.globals):e}},b.prototype.evaluate=function(e,t,r){return"constant"===e.kind?e.value:e.evaluate(t,r)};var x=function(e){this.specification=e};x.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var r=e.expression.evaluate(t);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t)}},x.prototype._calculate=function(e,t,r,o){var n=o.zoom,i=n-Math.floor(n),a=o.crossFadingFactor();return n>o.zoomHistory.lastIntegerZoom?{from:e,to:t,fromScale:2,toScale:1,t:i+(1-i)*a}:{from:r,to:t,fromScale:.5,toScale:1,t:1-(1-a)*i}},x.prototype.interpolate=function(e){return e};var S=function(e){this.specification=e};S.prototype.possiblyEvaluate=function(){},S.prototype.interpolate=function(){};var k=function(e){var t=this;this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={};for(var r in e){var o=e[r],n=t.defaultPropertyValues[r]=new d(o,void 0),i=t.defaultTransitionablePropertyValues[r]=new h(o);t.defaultTransitioningPropertyValues[r]=i.untransitioned(),t.defaultPossiblyEvaluatedValues[r]=n.possiblyEvaluate({})}};u("DataDrivenProperty",b),u("DataConstantProperty",w),u("CrossFadedProperty",x),u("HeatmapColorProperty",S),t.exports={PropertyValue:d,Transitionable:m,Transitioning:f,Layout:v,PossiblyEvaluatedPropertyValue:g,PossiblyEvaluated:_,DataConstantProperty:w,DataDrivenProperty:b,CrossFadedProperty:x,HeatmapColorProperty:S,Properties:k}},{"../style-spec/expression":142,"../style-spec/util/color":165,"../style-spec/util/interpolate":169,"../util/util":285,"../util/web_worker_transfer":288}],200:[function(e,t,r){"use strict";function o(e,t,r){var o=t.paint.get(e).value;return"constant"===o.kind?o.value:r.programConfigurations.get(t.id).binders[e].statistics.max}function n(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function i(e,t,r,o,n){if(!t[0]&&!t[1])return e;var i=a.convert(t);"viewport"===r&&i._rotate(-o);for(var s=[],c=0;c<e.length;c++){for(var l=e[c],p=[],u=0;u<l.length;u++)p.push(l[u].sub(i._mult(n)));s.push(p)}return s}var a=e("@mapbox/point-geometry");t.exports={getMaximumPaintValue:o,translateDistance:n,translate:i}},{"@mapbox/point-geometry":4}],201:[function(e,t,r){"use strict";var o=e("../util/evented"),n=e("./style_layer"),i=e("./load_sprite"),a=e("../render/image_manager"),s=e("../render/glyph_manager"),c=e("./light"),l=e("../render/line_atlas"),p=e("../util/util"),u=e("../util/ajax"),d=e("../util/mapbox"),h=e("../util/browser"),m=e("../util/dispatcher"),y=e("./validate_style"),f=e("../source/source").getType,v=e("../source/source").setType,g=e("../source/query_features"),_=e("../source/source_cache"),w=(e("../source/geojson_source"),e("../style-spec/reference/latest")),b=e("../util/global_worker_pool"),x=e("../style-spec/deref"),S=e("../style-spec/diff"),k=e("../source/rtl_text_plugin"),P=e("./placement"),E=e("./zoom_history"),C=p.pick(S.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),A=p.pick(S.operations,["setCenter","setZoom","setBearing","setPitch"]),T=function(e){function t(t,r){var o=this;void 0===r&&(r={}),e.call(this),this.map=t,this.dispatcher=new m(b(),this),this.imageManager=new a,this.glyphManager=new s(t._transformRequest,r.localIdeographFontFamily),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new E,this._loaded=!1,this._resetUpdates();var n=this;this._rtlTextPluginCallback=k.registerForPluginAvailability(function(e){n.dispatcher.broadcast("loadRTLTextPlugin",e.pluginBlobURL,e.errorCallback);for(var t in n.sourceCaches)n.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in o._layers){var i=o._layers[n];i.source===r.id&&o._validateLayer(i)}}}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadURL=function(e,t){var r=this;void 0===t&&(t={}),this.fire("dataloading",{dataType:"style"});var o="boolean"==typeof t.validate?t.validate:!d.isMapboxURL(e);e=d.normalizeStyleURL(e,t.accessToken);var n=this.map._transformRequest(e,u.ResourceType.Style);u.getJSON(n,function(e,t){e?r.fire("error",{error:e}):t&&r._load(t,o)})},t.prototype.loadJSON=function(e,t){var r=this;void 0===t&&(t={}),this.fire("dataloading",{dataType:"style"}),h.frame(function(){r._load(e,!1!==t.validate)})},t.prototype._load=function(e,t){var r=this;if(!t||!y.emitErrors(this,y(e))){this._loaded=!0,this.stylesheet=e;for(var o in e.sources)r.addSource(o,e.sources[o],{validate:!1});e.sprite?i(e.sprite,this.map._transformRequest,function(e,t){if(e)r.fire("error",e);else if(t)for(var o in t)r.imageManager.addImage(o,t[o]);r.imageManager.setLoaded(!0),r.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var a=x(this.stylesheet.layers);this._order=a.map(function(e){return e.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var p=l[s];p=n.create(p),p.setEventedParent(r,{layer:{id:p.id}}),r._layers[p.id]=p}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new c(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(t){var r=e.sourceLayer;if(r){var o=t.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(r))&&this.fire("error",{error:new Error('Source layer "'+r+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')})}}},t.prototype.loaded=function(){var e=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in e.sourceCaches)if(!e.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype.hasTransitions=function(){var e=this;if(this.light&&this.light.hasTransition())return!0;for(var t in e.sourceCaches)if(e.sourceCaches[t].hasTransition())return!0;for(var r in e._layers)if(e._layers[r].hasTransition())return!0;return!1},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(e){var t=this;if(this._loaded){if(this._changed){var r=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(r.length||o.length)&&this._updateWorkerLayers(r,o);for(var n in t._updatedSources){var i=t._updatedSources[n];"reload"===i?t._reloadSource(n):"clear"===i&&t._clearSource(n)}for(var a in t._updatedPaintProps)t._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var s in t.sourceCaches)t.sourceCaches[s].used=!1;for(var c=0,l=t._order;c<l.length;c+=1){var p=l[c],u=t._layers[p];u.recalculate(e),!u.isHidden(e.zoom)&&u.source&&(t.sourceCaches[u.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},t.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},t.prototype.setState=function(e){var t=this;if(this._checkLoaded(),y.emitErrors(this,y(e)))return!1;e=p.clone(e),e.layers=x(e.layers);var r=S(this.serialize(),e).filter(function(e){return!(e.command in A)});if(0===r.length)return!1;var o=r.filter(function(e){return!(e.command in C)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(e){return e.command}).join(", ")+".");return r.forEach(function(e){"setTransition"!==e.command&&t[e.command].apply(t,e.args)}),this.stylesheet=e,!0},t.prototype.addImage=function(e,t){if(this.getImage(e))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(e,t),this.fire("data",{dataType:"style"})},t.prototype.getImage=function(e){return this.imageManager.getImage(e)},t.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(e),this.fire("data",{dataType:"style"})},t.prototype.addSource=function(e,t,r){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(t.type)>=0&&this._validate(y.source,"sources."+e,t,null,r))){var n=this.sourceCaches[e]=new _(e,t,this.dispatcher);n.style=this,n.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:n.serialize(),sourceId:e}}),n.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){var t=this;if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var r in t._layers)if(t._layers[r].source===e)return t.fire("error",{error:new Error('Source "'+e+'" cannot be removed while layer "'+r+'" is using it.')});var o=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],o.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:e}),o.setEventedParent(null),o.clearTiles(),o.onRemove&&o.onRemove(this.map),this._changed=!0},t.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,r){this._checkLoaded();var o=e.id;if("object"==typeof e.source&&(this.addSource(o,e.source),e=p.clone(e),e=p.extend(e,{source:o})),!this._validate(y.layer,"layers."+o,e,{arrayIndex:-1},r)){var i=n.create(e);this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}});var a=t?this._order.indexOf(t):this._order.length;if(t&&-1===a)return void this.fire("error",{error:new Error('Layer with id "'+t+'" does not exist on this map.')});if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}},t.prototype.moveLayer=function(e,t){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(e);this._order.splice(r,1);var o=t?this._order.indexOf(t):this._order.length;if(t&&-1===o)return void this.fire("error",{error:new Error('Layer with id "'+t+'" does not exist on this map.')});this._order.splice(o,0,e),this._layerOrderChanged=!0},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(!t)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")});t.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,r){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")});o.minzoom===t&&o.maxzoom===r||(null!=t&&(o.minzoom=t),null!=r&&(o.maxzoom=r),this._updateLayer(o))},t.prototype.setFilter=function(e,t){this._checkLoaded();var r=this.getLayer(e);return r?p.deepEqual(r.filter,t)?void 0:null===t||void 0===t?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(y.filter,"layers."+r.id+".filter",t)||(r.filter=p.clone(t),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")})},t.prototype.getFilter=function(e){return p.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,r){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")});p.deepEqual(o.getLayoutProperty(t),r)||(o.setLayoutProperty(t,r),this._updateLayer(o))},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,r){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")});if(!p.deepEqual(o.getPaintProperty(t),r)){var n=o._transitionablePaint._values[t].value.isDataDriven();o.setPaintProperty(t,r),(o._transitionablePaint._values[t].value.isDataDriven()||n)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0}},t.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},t.prototype.getTransition=function(){return p.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.serialize=function(){var e=this;return p.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:p.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=this,r=[],o=this._order.length-1;o>=0;o--)for(var n=t._order[o],i=0,a=e;i<a.length;i+=1){var s=a[i],c=s[n];if(c)for(var l=0,p=c;l<p.length;l+=1){var u=p[l];r.push(u)}}return r},t.prototype.queryRenderedFeatures=function(e,t,r,o){var n=this;t&&t.filter&&this._validate(y.filter,"queryRenderedFeatures.filter",t.filter);var i={};if(t&&t.layers){if(!Array.isArray(t.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=t.layers;a<s.length;a+=1){var c=s[a],l=n._layers[c];if(!l)return n.fire("error",{error:"The layer '"+c+"' does not exist in the map's style and cannot be queried for features."}),[];i[l.source]=!0}}var p=[];for(var u in n.sourceCaches)if(!t.layers||i[u]){var d=g.rendered(n.sourceCaches[u],n._layers,e,t,r,o);p.push(d)}return this._flattenRenderedFeatures(p)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(y.filter,"querySourceFeatures.filter",t.filter);var r=this.sourceCaches[e];return r?g.source(r,t):[]},t.prototype.addSourceType=function(e,t,r){return f(e)?r(new Error('A source type called "'+e+'" already exists.')):(v(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e){this._checkLoaded();var t=this.light.getLight(),r=!1;for(var o in e)if(!p.deepEqual(e[o],t[o])){r=!0;break}if(r){var n=p.extend({duration:300,delay:0},this.stylesheet.transition);this.light.setLight(e),this.light.updateTransitions(n)}},t.prototype._validate=function(e,t,r,o,n){return(!n||!1!==n.validate)&&y.emitErrors(this,e.call(y,p.extend({key:t,style:this.serialize(),value:r,styleSpec:w},o)))},t.prototype._remove=function(){var e=this;k.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var t in e.sourceCaches)e.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},t.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){var t=this;for(var r in t.sourceCaches)t.sourceCaches[r].update(e)},t.prototype.getNeedsFullPlacement=function(){var e=this;if(this._layerOrderChanged)return!0;for(var t in e.sourceCaches)if(e.sourceCaches[t].getNeedsFullPlacement())return!0;return!1},t.prototype._generateCollisionBoxes=function(){var e=this;for(var t in e.sourceCaches)e._reloadSource(t)},t.prototype._updatePlacement=function(e,t,r){var o=this.getNeedsFullPlacement();return(o||!this.placement||this.placement.isDone())&&(this.placement=new P(e,this._order,o,t,r,this.placement),this._layerOrderChanged=!1),this.placement.continuePlacement(this._order,this._layers,this.sourceCaches),this.placement.isDone()&&(this.collisionIndex=this.placement.collisionIndex),!this.placement.isDone()||this.placement.stillFading()},t.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r)},t.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},t}(o);t.exports=T},{"../render/glyph_manager":89,"../render/image_manager":91,"../render/line_atlas":92,"../source/geojson_source":102,"../source/query_features":108,"../source/rtl_text_plugin":112,"../source/source":113,"../source/source_cache":114,"../style-spec/deref":123,"../style-spec/diff":124,"../style-spec/reference/latest":163,"../util/ajax":262,"../util/browser":263,"../util/dispatcher":269,"../util/evented":271,"../util/global_worker_pool":273,"../util/mapbox":278,"../util/util":285,"./light":194,"./load_sprite":196,"./placement":198,"./style_layer":202,"./validate_style":222,"./zoom_history":223}],202:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../style-spec/reference/latest"),i=e("./validate_style"),a=e("../util/evented"),s=e("./properties"),c=s.Layout,l=s.Transitionable,p=(s.Transitioning,s.Properties,function(e){function t(t,r){var o=this;e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.visibility="visible","background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this._featureFilter=function(){return!0},r.layout&&(this._unevaluatedLayout=new c(r.layout)),this._transitionablePaint=new l(r.paint);for(var n in t.paint)o.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)o.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(null!==t&&void 0!==t){var o="layers."+this.id+".layout."+e;if(this._validate(i.layoutProperty,o,e,t,r))return}if("visibility"===e)return void(this.visibility="none"===t?t:"visible");this._unevaluatedLayout.setValue(e,t)},t.prototype.getPaintProperty=function(e){return o.endsWith(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(null!==t&&void 0!==t){var n="layers."+this.id+".paint."+e;if(this._validate(i.paintProperty,n,e,t,r))return}o.endsWith(e,"-transition")?this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0):this._transitionablePaint.setValue(e,t)},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(e.layout=e.layout||{},e.layout.visibility="none"),o.filterObject(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,r,o,a){return(!a||!1!==a.validate)&&i.emitErrors(this,e.call(i,{key:t,layerType:this.type,objectKey:r,value:o,styleSpec:n,style:{glyphs:!0,sprite:!0}}))},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t}(a));t.exports=p;var u={circle:e("./style_layer/circle_style_layer"),heatmap:e("./style_layer/heatmap_style_layer"),hillshade:e("./style_layer/hillshade_style_layer"),fill:e("./style_layer/fill_style_layer"),"fill-extrusion":e("./style_layer/fill_extrusion_style_layer"),line:e("./style_layer/line_style_layer"),symbol:e("./style_layer/symbol_style_layer"),background:e("./style_layer/background_style_layer"),raster:e("./style_layer/raster_style_layer")};p.create=function(e){return new u[e.type](e)}},{"../style-spec/reference/latest":163,"../util/evented":271,"../util/util":285,"./properties":199,"./style_layer/background_style_layer":203,"./style_layer/circle_style_layer":205,"./style_layer/fill_extrusion_style_layer":207,"./style_layer/fill_style_layer":209,"./style_layer/heatmap_style_layer":211,"./style_layer/hillshade_style_layer":213,"./style_layer/line_style_layer":215,"./style_layer/raster_style_layer":217,"./style_layer/symbol_style_layer":219,"./validate_style":222}],203:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("./background_style_layer_properties"),i=e("../properties"),a=(i.Transitionable,i.Transitioning,i.PossiblyEvaluated,function(e){function t(t){e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o));t.exports=a},{"../properties":199,"../style_layer":202,"./background_style_layer_properties":204}],204:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=(n.DataDrivenProperty,n.CrossFadedProperty),c=(n.HeatmapColorProperty,new i({"background-color":new a(o.paint_background["background-color"]),"background-pattern":new s(o.paint_background["background-pattern"]),"background-opacity":new a(o.paint_background["background-opacity"])}));t.exports={paint:c}},{"../../style-spec/reference/latest":163,"../properties":199}],205:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("../../data/bucket/circle_bucket"),i=e("../../util/intersection_tests"),a=i.multiPolygonIntersectsBufferedMultiPoint,s=e("../query_utils"),c=s.getMaximumPaintValue,l=s.translateDistance,p=s.translate,u=e("./circle_style_layer_properties"),d=e("../properties"),h=(d.Transitionable,d.Transitioning,d.PossiblyEvaluated,function(e){function t(t){e.call(this,t,u)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new n(e)},t.prototype.queryRadius=function(e){var t=e;return c("circle-radius",this,t)+c("circle-stroke-width",this,t)+l(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i){var s=p(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),n,i),c=this.paint.get("circle-radius").evaluate(t)*i,l=this.paint.get("circle-stroke-width").evaluate(t)*i;return a(s,r,c+l)},t}(o));t.exports=h},{"../../data/bucket/circle_bucket":45,"../../util/intersection_tests":275,"../properties":199,"../query_utils":200,"../style_layer":202,"./circle_style_layer_properties":206}],206:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=(n.CrossFadedProperty,n.HeatmapColorProperty,new i({"circle-radius":new s(o.paint_circle["circle-radius"]),"circle-color":new s(o.paint_circle["circle-color"]),"circle-blur":new s(o.paint_circle["circle-blur"]),"circle-opacity":new s(o.paint_circle["circle-opacity"]),"circle-translate":new a(o.paint_circle["circle-translate"]),"circle-translate-anchor":new a(o.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(o.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(o.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(o.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(o.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(o.paint_circle["circle-stroke-opacity"])}));t.exports={paint:c}},{"../../style-spec/reference/latest":163,"../properties":199}],207:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("../../data/bucket/fill_extrusion_bucket"),i=e("../../util/intersection_tests"),a=i.multiPolygonIntersectsMultiPolygon,s=e("../query_utils"),c=s.translateDistance,l=s.translate,p=e("./fill_extrusion_style_layer_properties"),u=e("../properties"),d=(u.Transitionable,u.Transitioning,u.PossiblyEvaluated,function(e){function t(t){e.call(this,t,p)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new n(e)},t.prototype.queryRadius=function(){return c(this.paint.get("fill-extrusion-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i){var s=l(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),n,i);return a(s,r)},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t}(o));t.exports=d},{"../../data/bucket/fill_extrusion_bucket":49,"../../util/intersection_tests":275,"../properties":199,"../query_utils":200,"../style_layer":202,"./fill_extrusion_style_layer_properties":208}],208:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=n.CrossFadedProperty,l=(n.HeatmapColorProperty,new i({"fill-extrusion-opacity":new a(o["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(o["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(o["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(o["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new c(o["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(o["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(o["paint_fill-extrusion"]["fill-extrusion-base"])}));t.exports={paint:l}},{"../../style-spec/reference/latest":163,"../properties":199}],209:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("../../data/bucket/fill_bucket"),i=e("../../util/intersection_tests"),a=i.multiPolygonIntersectsMultiPolygon,s=e("../query_utils"),c=s.translateDistance,l=s.translate,p=e("./fill_style_layer_properties"),u=e("../properties"),d=(u.Transitionable,u.Transitioning,u.PossiblyEvaluated,function(e){function t(t){e.call(this,t,p)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(e){this.paint=this._transitioningPaint.possiblyEvaluate(e),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new n(e)},t.prototype.queryRadius=function(){return c(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i){var s=l(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),n,i);return a(s,r)},t}(o));t.exports=d},{"../../data/bucket/fill_bucket":47,"../../util/intersection_tests":275,"../properties":199,"../query_utils":200,"../style_layer":202,"./fill_style_layer_properties":210}],210:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=n.CrossFadedProperty,l=(n.HeatmapColorProperty,new i({"fill-antialias":new a(o.paint_fill["fill-antialias"]),"fill-opacity":new s(o.paint_fill["fill-opacity"]),"fill-color":new s(o.paint_fill["fill-color"]),"fill-outline-color":new s(o.paint_fill["fill-outline-color"]),"fill-translate":new a(o.paint_fill["fill-translate"]),"fill-translate-anchor":new a(o.paint_fill["fill-translate-anchor"]),"fill-pattern":new c(o.paint_fill["fill-pattern"])}));t.exports={paint:l}},{"../../style-spec/reference/latest":163,"../properties":199}],211:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("../../data/bucket/heatmap_bucket"),i=e("../../util/image").RGBAImage,a=e("./heatmap_style_layer_properties"),s=e("../properties"),c=(s.Transitionable,s.Transitioning,s.PossiblyEvaluated,function(e){function t(t){e.call(this,t,a),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new n(e)},t.prototype.setPaintProperty=function(t,r,o){e.prototype.setPaintProperty.call(this,t,r,o),"heatmap-color"===t&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){for(var e=this._transitionablePaint._values["heatmap-color"].value.expression,t=new Uint8Array(1024),r=t.length,o=4;o<r;o+=4){var n=e.evaluate({heatmapDensity:o/r});t[o+0]=Math.floor(255*n.r/n.a),t[o+1]=Math.floor(255*n.g/n.a),t[o+2]=Math.floor(255*n.b/n.a),t[o+3]=Math.floor(255*n.a)}this.colorRamp=new i({width:256,height:1},t),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(o));t.exports=c},{"../../data/bucket/heatmap_bucket":50,"../../util/image":274,"../properties":199,"../style_layer":202,"./heatmap_style_layer_properties":212}],212:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=(n.CrossFadedProperty,n.HeatmapColorProperty),l=new i({"heatmap-radius":new s(o.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(o.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(o.paint_heatmap["heatmap-intensity"]),"heatmap-color":new c(o.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(o.paint_heatmap["heatmap-opacity"])});t.exports={paint:l}},{"../../style-spec/reference/latest":163,"../properties":199}],213:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("./hillshade_style_layer_properties"),i=e("../properties"),a=(i.Transitionable,i.Transitioning,i.PossiblyEvaluated,function(e){function t(t){e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(o));t.exports=a},{"../properties":199,"../style_layer":202,"./hillshade_style_layer_properties":214}],214:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=(n.DataDrivenProperty,n.CrossFadedProperty,n.HeatmapColorProperty,new i({"hillshade-illumination-direction":new a(o.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(o.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(o.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(o.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(o.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(o.paint_hillshade["hillshade-accent-color"])}));t.exports={paint:s}},{"../../style-spec/reference/latest":163,"../properties":199}],215:[function(e,t,r){"use strict";function o(e,t){return t>0?t+2*e:e}function n(e,t){for(var r=[],o=new i(0,0),n=0;n<e.length;n++){for(var a=e[n],s=[],c=0;c<a.length;c++){var l=a[c-1],p=a[c],u=a[c+1],d=0===c?o:p.sub(l)._unit()._perp(),h=c===a.length-1?o:u.sub(p)._unit()._perp(),m=d._add(h)._unit(),y=m.x*h.x+m.y*h.y;m._mult(1/y),s.push(m._mult(t)._add(p))}r.push(s)}return r}var i=e("@mapbox/point-geometry"),a=e("../style_layer"),s=e("../../data/bucket/line_bucket"),c=e("../../util/intersection_tests"),l=c.multiPolygonIntersectsBufferedMultiLine,p=e("../query_utils"),u=p.getMaximumPaintValue,d=p.translateDistance,h=p.translate,m=e("./line_style_layer_properties"),y=e("../../util/util"),f=y.extend,v=e("../evaluation_parameters"),g=e("../properties"),_=(g.Transitionable,g.Transitioning,g.Layout,g.PossiblyEvaluated,g.DataDrivenProperty),w=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new v(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,o){return r=f({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,o)},t}(_),b=new w(m.paint.properties["line-width"].specification);b.useIntegerZoom=!0;var x=function(e){function t(t){e.call(this,t,m)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=b.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new s(e)},t.prototype.queryRadius=function(e){var t=e,r=o(u("line-width",this,t),u("line-gap-width",this,t)),n=u("line-offset",this,t);return r/2+Math.abs(n)+d(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,i,a,s){var c=h(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,s),p=s/2*o(this.paint.get("line-width").evaluate(t),this.paint.get("line-gap-width").evaluate(t)),u=this.paint.get("line-offset").evaluate(t);return u&&(r=n(r,u*s)),l(c,r,p)},t}(a);t.exports=x},{"../../data/bucket/line_bucket":52,"../../util/intersection_tests":275,"../../util/util":285,"../evaluation_parameters":193,"../properties":199,"../query_utils":200,"../style_layer":202,"./line_style_layer_properties":216,"@mapbox/point-geometry":4}],216:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=n.CrossFadedProperty,l=(n.HeatmapColorProperty,new i({"line-cap":new a(o.layout_line["line-cap"]),"line-join":new s(o.layout_line["line-join"]),"line-miter-limit":new a(o.layout_line["line-miter-limit"]),"line-round-limit":new a(o.layout_line["line-round-limit"])})),p=new i({"line-opacity":new s(o.paint_line["line-opacity"]),"line-color":new s(o.paint_line["line-color"]),"line-translate":new a(o.paint_line["line-translate"]),"line-translate-anchor":new a(o.paint_line["line-translate-anchor"]),"line-width":new s(o.paint_line["line-width"]),"line-gap-width":new s(o.paint_line["line-gap-width"]),"line-offset":new s(o.paint_line["line-offset"]),"line-blur":new s(o.paint_line["line-blur"]),"line-dasharray":new c(o.paint_line["line-dasharray"]),"line-pattern":new c(o.paint_line["line-pattern"])});t.exports={paint:p,layout:l}},{"../../style-spec/reference/latest":163,"../properties":199}],217:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("./raster_style_layer_properties"),i=e("../properties"),a=(i.Transitionable,i.Transitioning,i.PossiblyEvaluated,function(e){function t(t){e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o));t.exports=a},{"../properties":199,"../style_layer":202,"./raster_style_layer_properties":218}],218:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=(n.DataDrivenProperty,n.CrossFadedProperty,n.HeatmapColorProperty,new i({"raster-opacity":new a(o.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(o.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(o.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(o.paint_raster["raster-brightness-max"]),"raster-saturation":new a(o.paint_raster["raster-saturation"]),"raster-contrast":new a(o.paint_raster["raster-contrast"]),"raster-fade-duration":new a(o.paint_raster["raster-fade-duration"])}));t.exports={paint:s}},{"../../style-spec/reference/latest":163,"../properties":199}],219:[function(e,t,r){"use strict";var o=e("../style_layer"),n=e("../../data/bucket/symbol_bucket"),i=e("../../util/token"),a=e("../../style-spec/expression"),s=a.isExpression,c=e("./symbol_style_layer_properties"),l=e("../properties"),p=(l.Transitionable,l.Transitioning,l.Layout,l.PossiblyEvaluated,function(e){function t(t){e.call(this,t,c)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var r=this.layout.get(e).evaluate(t),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||s(o.value)?r:i(t.properties,r)},t.prototype.createBucket=function(e){return new n(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(o));t.exports=p},{"../../data/bucket/symbol_bucket":54,"../../style-spec/expression":142,"../../util/token":284,"../properties":199,"../style_layer":202,"./symbol_style_layer_properties":220}],220:[function(e,t,r){"use strict";var o=e("../../style-spec/reference/latest"),n=e("../properties"),i=n.Properties,a=n.DataConstantProperty,s=n.DataDrivenProperty,c=(n.CrossFadedProperty,n.HeatmapColorProperty,new i({"symbol-placement":new a(o.layout_symbol["symbol-placement"]),"symbol-spacing":new a(o.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(o.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(o.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(o.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(o.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(o.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(o.layout_symbol["icon-size"]),"icon-text-fit":new a(o.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(o.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(o.layout_symbol["icon-image"]),"icon-rotate":new s(o.layout_symbol["icon-rotate"]),"icon-padding":new a(o.layout_symbol["icon-padding"]),"icon-keep-upright":new a(o.layout_symbol["icon-keep-upright"]),"icon-offset":new s(o.layout_symbol["icon-offset"]),"icon-anchor":new s(o.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(o.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(o.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(o.layout_symbol["text-rotation-alignment"]),"text-field":new s(o.layout_symbol["text-field"]),"text-font":new s(o.layout_symbol["text-font"]),"text-size":new s(o.layout_symbol["text-size"]),"text-max-width":new s(o.layout_symbol["text-max-width"]),"text-line-height":new a(o.layout_symbol["text-line-height"]),"text-letter-spacing":new s(o.layout_symbol["text-letter-spacing"]),"text-justify":new s(o.layout_symbol["text-justify"]),"text-anchor":new s(o.layout_symbol["text-anchor"]),"text-max-angle":new a(o.layout_symbol["text-max-angle"]),"text-rotate":new s(o.layout_symbol["text-rotate"]),"text-padding":new a(o.layout_symbol["text-padding"]),"text-keep-upright":new a(o.layout_symbol["text-keep-upright"]),"text-transform":new s(o.layout_symbol["text-transform"]),"text-offset":new s(o.layout_symbol["text-offset"]),"text-allow-overlap":new a(o.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(o.layout_symbol["text-ignore-placement"]),"text-optional":new a(o.layout_symbol["text-optional"])})),l=new i({"icon-opacity":new s(o.paint_symbol["icon-opacity"]),"icon-color":new s(o.paint_symbol["icon-color"]),"icon-halo-color":new s(o.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(o.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(o.paint_symbol["icon-halo-blur"]),"icon-translate":new a(o.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(o.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(o.paint_symbol["text-opacity"]),"text-color":new s(o.paint_symbol["text-color"]),"text-halo-color":new s(o.paint_symbol["text-halo-color"]),"text-halo-width":new s(o.paint_symbol["text-halo-width"]),"text-halo-blur":new s(o.paint_symbol["text-halo-blur"]),"text-translate":new a(o.paint_symbol["text-translate"]),"text-translate-anchor":new a(o.paint_symbol["text-translate-anchor"])});t.exports={paint:l,layout:c}},{"../../style-spec/reference/latest":163,"../properties":199}],221:[function(e,t,r){"use strict";var o=e("./style_layer"),n=e("../util/util"),i=e("../style-spec/feature_filter"),a=e("../style-spec/group_by_layout"),s=function(e){e&&this.replace(e)};s.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},s.prototype.update=function(e,t){for(var r=this,s=0,c=e;s<c.length;s+=1){var l=c[s];r._layerConfigs[l.id]=l;var p=r._layers[l.id]=o.create(l);p._featureFilter=i(p.filter)}for(var u=0,d=t;u<d.length;u+=1){var h=d[u];delete r._layerConfigs[h],delete r._layers[h]}this.familiesBySource={};for(var m=a(n.values(this._layerConfigs)),y=0,f=m;y<f.length;y+=1){var v=f[y],g=v.map(function(e){return r._layers[e.id]}),_=g[0];if("none"!==_.visibility){var w=_.source||"",b=r.familiesBySource[w];b||(b=r.familiesBySource[w]={});var x=_.sourceLayer||"_geojsonTileLayer",S=b[x];S||(S=b[x]=[]),S.push(g)}}},t.exports=s},{"../style-spec/feature_filter":151,"../style-spec/group_by_layout":153,"../util/util":285,"./style_layer":202}],222:[function(e,t,r){"use strict";t.exports=e("../style-spec/validate_style.min"),t.exports.emitErrors=function(e,t){if(t&&t.length){for(var r=0,o=t;r<o.length;r+=1){var n=o[r],i=n.message;e.fire("error",{error:new Error(i)})}return!0}return!1}},{"../style-spec/validate_style.min":192}],223:[function(e,t,r){"use strict";var o=function(){this.first=!0};o.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))},t.exports=o},{}],224:[function(e,t,r){"use strict";var o=e("@mapbox/point-geometry"),n=e("../util/web_worker_transfer"),i=n.register,a=function(e){function t(t,r,o,n){e.call(this,t,r),this.angle=o,void 0!==n&&(this.segment=n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(o);i("Anchor",a),t.exports=a},{"../util/web_worker_transfer":288,"@mapbox/point-geometry":4}],225:[function(e,t,r){"use strict";function o(e,t,r,o,n){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var c=[],l=0;s<r/2;){var p=e[a-1],u=e[a],d=e[a+1];if(!d)return!1;var h=p.angleTo(u)-u.angleTo(d);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),c.push({distance:s,angleDelta:h}),l+=h;s-c[0].distance>o;)l-=c.shift().angleDelta;if(l>n)return!1;a++,s+=u.dist(d)}return!0}t.exports=o},{}],226:[function(e,t,r){"use strict";function o(e,t,r,o,i){for(var a=[],s=0;s<e.length;s++)for(var c=e[s],l=void 0,p=0;p<c.length-1;p++){var u=c[p],d=c[p+1];u.x<t&&d.x<t||(u.x<t?u=new n(t,u.y+(d.y-u.y)*((t-u.x)/(d.x-u.x)))._round():d.x<t&&(d=new n(t,u.y+(d.y-u.y)*((t-u.x)/(d.x-u.x)))._round()),u.y<r&&d.y<r||(u.y<r?u=new n(u.x+(d.x-u.x)*((r-u.y)/(d.y-u.y)),r)._round():d.y<r&&(d=new n(u.x+(d.x-u.x)*((r-u.y)/(d.y-u.y)),r)._round()),u.x>=o&&d.x>=o||(u.x>=o?u=new n(o,u.y+(d.y-u.y)*((o-u.x)/(d.x-u.x)))._round():d.x>=o&&(d=new n(o,u.y+(d.y-u.y)*((o-u.x)/(d.x-u.x)))._round()),u.y>=i&&d.y>=i||(u.y>=i?u=new n(u.x+(d.x-u.x)*((i-u.y)/(d.y-u.y)),i)._round():d.y>=i&&(d=new n(u.x+(d.x-u.x)*((i-u.y)/(d.y-u.y)),i)._round()),l&&u.equals(l[l.length-1])||(l=[u],a.push(l)),l.push(d)))))}return a}var n=e("@mapbox/point-geometry");t.exports=o},{"@mapbox/point-geometry":4}],227:[function(e,t,r){"use strict";var o=function(e,t,r,o,n,i,a,s,c,l,p){var u=a.top*s-c,d=a.bottom*s+c,h=a.left*s-c,m=a.right*s+c;if(this.boxStartIndex=e.length,l){var y=d-u,f=m-h;y>0&&(y=Math.max(10*s,y),this._addLineCollisionCircles(e,t,r,r.segment,f,y,o,n,i,p))}else e.emplaceBack(r.x,r.y,h,u,m,d,o,n,i,0,0);this.boxEndIndex=e.length};o.prototype._addLineCollisionCircles=function(e,t,r,o,n,i,a,s,c,l){var p=i/2,u=Math.floor(n/p),d=1+.4*Math.log(l)/Math.LN2,h=Math.floor(u*d/2),m=-i/2,y=r,f=o+1,v=m,g=-n/2,_=g-n/4;do{if(--f<0){if(v>g)return;f=0;break}v-=t[f].dist(y),y=t[f]}while(v>_);for(var w=t[f].dist(t[f+1]),b=-h;b<u+h;b++){var x=b*p,S=g+x;if(x<0&&(S+=x),x>n&&(S+=x-n),!(S<v)){for(;v+w<S;){if(v+=w,++f+1>=t.length)return;w=t[f].dist(t[f+1])}var k=S-v,P=t[f],E=t[f+1],C=E.sub(P)._unit()._mult(k)._add(P)._round(),A=Math.abs(S-m)<p?0:.8*(S-m);e.emplaceBack(C.x,C.y,-i/2,-i/2,i/2,i/2,a,s,c,i/2,A)}}},t.exports=o},{}],228:[function(e,t,r){"use strict";function o(e,t,r){e[t+4]=r?1:0}var n=e("@mapbox/point-geometry"),i=e("../util/intersection_tests"),a=e("./grid_index"),s=e("@mapbox/gl-matrix"),c=(s.mat4,e("../symbol/projection")),l=function(e,t,r){void 0===t&&(t=new a(e.width+200,e.height+200,25)),void 0===r&&(r=new a(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance};l.prototype.placeCollisionBox=function(e,t,r,o){var n=this.projectAndGetPerspectiveRatio(o,e.anchorPointX,e.anchorPointY),i=r*n.perspectiveRatio,a=e.x1/i+n.point.x,s=e.y1/i+n.point.y,c=e.x2/i+n.point.x,l=e.y2/i+n.point.y;return!t&&this.grid.hitTest(a,s,c,l)?[]:[a,s,c,l]},l.prototype.approximateTileDistance=function(e,t,r,o,n){var i=n?1:o/this.pitchfactor,a=e.lastSegmentViewportDistance*r;return e.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(t))},l.prototype.placeCollisionCircles=function(e,t,r,i,a,s,l,p,u,d,h,m,y){var f=this,v=[],g=this.projectAnchor(d,s.anchorX,s.anchorY),_={},w=u/24,b=s.lineOffsetX*u,x=s.lineOffsetY*u,S=new n(s.anchorX,s.anchorY),k=c.project(S,h).point,P=c.placeFirstAndLastGlyph(w,p,b,x,!1,k,S,s,l,h,_,!0),E=!1,C=g.perspectiveRatio*i,A=C/r,T=0,M=0;P&&(T=this.approximateTileDistance(P.first.tileDistance,P.first.angle,A,g.cameraDistance,y),M=this.approximateTileDistance(P.last.tileDistance,P.last.angle,A,g.cameraDistance,y));for(var R=0;R<e.length;R+=5){var z=e[R],O=e[R+1],j=e[R+2],N=e[R+3];if(!P||N<-T||N>M)o(e,R,!1);else{var F=f.projectPoint(d,z,O),I=j/C;if(v.length>0){var B=F.x-v[v.length-4],D=F.y-v[v.length-3];if(I*I*2>B*B+D*D&&R+8<e.length){var L=e[R+8];if(L>-T&&L<M){o(e,R,!1);continue}}}var q=R/5;if(v.push(F.x,F.y,I,q),o(e,R,!0),!t&&f.grid.hitTestCircle(F.x,F.y,I)){if(!m)return[];E=!0}}}return E?[]:v},l.prototype.queryRenderedSymbols=function(e,t,r,o,a){var s=this,c={},l=[];if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return l;for(var p=this.transform.calculatePosMatrix(t.toUnwrapped()),u=[],d=1/0,h=1/0,m=-1/0,y=-1/0,f=0;f<e.length;f++)for(var v=e[f],g=0;g<v.length;g++){var _=s.projectPoint(p,v[g].x,v[g].y);d=Math.min(d,_.x),h=Math.min(h,_.y),m=Math.max(m,_.x),y=Math.max(y,_.y),u.push(_)}for(var w=t.key,b=[],x=this.grid.query(d,h,m,y),S=0;S<x.length;S++)x[S].sourceID===a&&x[S].tileID===w&&b.push(x[S].boxIndex);for(var k=this.ignoredGrid.query(d,h,m,y),P=0;P<k.length;P++)k[P].sourceID===a&&k[P].tileID===w&&b.push(k[P].boxIndex);for(var E=0;E<b.length;E++){var C=o.get(b[E]),A=C.sourceLayerIndex,T=C.featureIndex,M=C.bucketIndex;if(void 0===c[A]&&(c[A]={}),void 0===c[A][T]&&(c[A][T]={}),!c[A][T][M]){var R=s.projectAndGetPerspectiveRatio(p,C.anchorPointX,C.anchorPointY),z=r*R.perspectiveRatio,O=C.x1/z+R.point.x,j=C.y1/z+R.point.y,N=C.x2/z+R.point.x,F=C.y2/z+R.point.y,I=[new n(O,j),new n(N,j),new n(N,F),new n(O,F)];i.polygonIntersectsPolygon(u,I)&&(c[A][T][M]=!0,l.push(b[E]))}}return l},l.prototype.insertCollisionBox=function(e,t,r,o,n){var i=t?this.ignoredGrid:this.grid,a={tileID:r,sourceID:o,boxIndex:n};i.insert(a,e[0],e[1],e[2],e[3])},l.prototype.insertCollisionCircles=function(e,t,r,o,n){for(var i=t?this.ignoredGrid:this.grid,a=0;a<e.length;a+=4){var s={tileID:r,sourceID:o,boxIndex:n+e[a+3]};i.insertCircle(s,e[a],e[a+1],e[a+2])}},l.prototype.projectAnchor=function(e,t,r){var o=[t,r,0,1];return c.xyTransformMat4(o,o,e),{perspectiveRatio:.5+o[3]/this.transform.cameraToCenterDistance*.5,cameraDistance:o[3]}},l.prototype.projectPoint=function(e,t,r){var o=[t,r,0,1];return c.xyTransformMat4(o,o,e),new n((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},l.prototype.projectAndGetPerspectiveRatio=function(e,t,r){var o=[t,r,0,1];return c.xyTransformMat4(o,o,e),{point:new n((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+o[3]/this.transform.cameraToCenterDistance*.5}},t.exports=l},{"../symbol/projection":234,"../util/intersection_tests":275,"./grid_index":231,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],229:[function(e,t,r){"use strict";var o=e("../data/extent"),n=e("./opacity_state"),i=512/o/2,a=function(e,t){var r=this;this.tileID=e,this.symbolInstances={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.key;r.symbolInstances[s]||(r.symbolInstances[s]=[]),r.symbolInstances[s].push({instance:a,coordinates:r.getScaledCoordinates(a,e)}),a.isDuplicate=!1,a.textOpacityState=new n,a.iconOpacityState=new n}};a.prototype.getScaledCoordinates=function(e,t){var r=t.canonical.z-this.tileID.canonical.z,n=i/(1<<r),a=e.anchor;return{x:Math.floor((t.canonical.x*o+a.x)*n),y:Math.floor((t.canonical.y*o+a.y)*n)}},a.prototype.getMatchingSymbol=function(e,t){var r=this;if(this.symbolInstances[e.key])for(var o=this.getScaledCoordinates(e,t),n=0,i=r.symbolInstances[e.key];n<i.length;n+=1){var a=i[n];if(Math.abs(a.coordinates.x-o.x)<=1&&Math.abs(a.coordinates.y-o.y)<=1)return a.instance}},a.prototype.forEachSymbolInstance=function(e){var t=this;for(var r in t.symbolInstances)for(var o=t.symbolInstances[r],n=0,i=o;n<i.length;n+=1){var a=i[n];e(a.instance)}};var s=function(){this.indexes={}};s.prototype.addTile=function(e,t){var r=this,o=25,n=0;for(var i in r.indexes)o=Math.min(i,o),n=Math.max(i,n);for(var s=new a(e,t),c=n;c>e.overscaledZ;c--){var l=r.indexes[c];for(var p in l){var u=l[p];u.tileID.isChildOf(e)&&r.blockLabels(u,s,!1)}}var d=this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key];d&&(this.blockLabels(s,d,!0),this.removeTile(e));for(var h=e.overscaledZ-1;h>=o;h--){var m=e.scaledTo(h),y=r.indexes[h]&&r.indexes[h][m.key];y&&r.blockLabels(s,y,!0)}void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=s},s.prototype.removeTile=function(e){var t=this,r=this.indexes[e.overscaledZ][e.key];delete this.indexes[e.overscaledZ][e.key],0===Object.keys(this.indexes[e.overscaledZ]).length&&delete this.indexes[e.overscaledZ];for(var o=Math.min.apply(Math,[25].concat(Object.keys(this.indexes))),n=e.overscaledZ-1;n>=o;n--){var i=e.scaledTo(n);if(!i)break;var a=t.indexes[n]&&t.indexes[n][i.key];a&&t.unblockLabels(r,a)}},s.prototype.blockLabels=function(e,t,r){e.forEachSymbolInstance(function(o){if(!o.isDuplicate){var n=t.getMatchingSymbol(o,e.tileID);void 0!==n&&(n.isDuplicate||(n.isDuplicate=!0,r&&(o.textOpacityState=n.textOpacityState.clone(),o.iconOpacityState=n.iconOpacityState.clone())))}})},s.prototype.unblockLabels=function(e,t){e.forEachSymbolInstance(function(r){if(!r.isDuplicate){var o=t.getMatchingSymbol(r,e.tileID);void 0!==o&&(o.isDuplicate=!1,o.textOpacityState=r.textOpacityState.clone(),o.iconOpacityState=r.iconOpacityState.clone(),r.isDuplicate=!0)}})};var c=function(){this.layerIndexes={}};c.prototype.addTileLayer=function(e,t,r){var o=this.layerIndexes[e];void 0===o&&(o=this.layerIndexes[e]=new s),o.addTile(t,r)},c.prototype.removeTileLayer=function(e,t){var r=this.layerIndexes[e];void 0!==r&&r.removeTile(t)},t.exports=c},{"../data/extent":56,"./opacity_state":233}],230:[function(e,t,r){"use strict";function o(e,t,r,o,i,a,s,c,l){var p=o?.6*a*s:0,u=Math.max(o?o.right-o.left:0,i?i.right-i.left:0),d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;t-u*s<t/4&&(t=u*s+t/4);var h=2*a;return n(e,d?t/2*c%t:(u/2+h)*s*c%t,t,p,r,u*s,d,!1,l)}function n(e,t,r,o,c,l,p,u,d){for(var h=l/2,m=0,y=0;y<e.length-1;y++)m+=e[y].dist(e[y+1]);for(var f=0,v=t-r,g=[],_=0;_<e.length-1;_++){for(var w=e[_],b=e[_+1],x=w.dist(b),S=b.angleTo(w);v+r<f+x;){v+=r;var k=(v-f)/x,P=i(w.x,b.x,k),E=i(w.y,b.y,k);if(P>=0&&P<d&&E>=0&&E<d&&v-h>=0&&v+h<=m){var C=new a(P,E,S,_);C._round(),o&&!s(e,C,l,o,c)||g.push(C)}}f+=x}return u||g.length||p||(g=n(e,f/2,r,o,c,l,p,!0,d)),g}var i=e("../style-spec/util/interpolate").number,a=e("../symbol/anchor"),s=e("./check_max_angle");t.exports=o},{"../style-spec/util/interpolate":169,"../symbol/anchor":224,"./check_max_angle":225}],231:[function(e,t,r){"use strict";var o=function(e,t,r){var o=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)o.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};o.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},o.prototype.insert=function(e,t,r,o,n){this._forEachCell(t,r,o,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(n)},o.prototype.insertCircle=function(e,t,r,o){this._forEachCell(t-o,r-o,t+o,r+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(o)},o.prototype._insertBoxCell=function(e,t,r,o,n,i){this.boxCells[n].push(i)},o.prototype._insertCircleCell=function(e,t,r,o,n,i){this.circleCells[n].push(i)},o.prototype._query=function(e,t,r,o,n){if(r<0||e>this.width||o<0||t>this.height)return!n&&[];var i=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=o)i=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:n,seenUids:{box:{},circle:{}}};this._forEachCell(e,t,r,o,this._queryCell,i,a)}return n?i.length>0:i},o.prototype._queryCircle=function(e,t,r,o){var n=e-r,i=e+r,a=t-r,s=t+r;if(i<0||n>this.width||s<0||a>this.height)return!o&&[];var c=[],l={hitTest:o,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(n,a,i,s,this._queryCellCircle,c,l),o?c.length>0:c},o.prototype.query=function(e,t,r,o){return this._query(e,t,r,o,!1)},o.prototype.hitTest=function(e,t,r,o){return this._query(e,t,r,o,!0)},o.prototype.hitTestCircle=function(e,t,r){return this._queryCircle(e,t,r,!0)},o.prototype._queryCell=function(e,t,r,o,n,i,a){var s=this,c=a.seenUids,l=this.boxCells[n];if(null!==l)for(var p=this.bboxes,u=0,d=l;u<d.length;u+=1){var h=d[u];if(!c.box[h]){c.box[h]=!0;var m=4*h;if(e<=p[m+2]&&t<=p[m+3]&&r>=p[m+0]&&o>=p[m+1]){if(a.hitTest)return i.push(!0),!0;i.push(s.boxKeys[h])}}}var y=this.circleCells[n];if(null!==y)for(var f=this.circles,v=0,g=y;v<g.length;v+=1){var _=g[v];if(!c.circle[_]){c.circle[_]=!0;var w=3*_;if(s._circleAndRectCollide(f[w],f[w+1],f[w+2],e,t,r,o)){if(a.hitTest)return i.push(!0),!0;i.push(s.circleKeys[_])}}}},o.prototype._queryCellCircle=function(e,t,r,o,n,i,a){var s=this,c=a.circle,l=a.seenUids,p=this.boxCells[n];if(null!==p)for(var u=this.bboxes,d=0,h=p;d<h.length;d+=1){var m=h[d];if(!l.box[m]){l.box[m]=!0;var y=4*m;if(s._circleAndRectCollide(c.x,c.y,c.radius,u[y+0],u[y+1],u[y+2],u[y+3]))return i.push(!0),!0}}var f=this.circleCells[n];if(null!==f)for(var v=this.circles,g=0,_=f;g<_.length;g+=1){var w=_[g];if(!l.circle[w]){l.circle[w]=!0;var b=3*w;if(s._circlesCollide(v[b],v[b+1],v[b+2],c.x,c.y,c.radius))return i.push(!0),!0}}},o.prototype._forEachCell=function(e,t,r,o,n,i,a){for(var s=this,c=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),p=this._convertToXCellCoord(r),u=this._convertToYCellCoord(o),d=c;d<=p;d++)for(var h=l;h<=u;h++){var m=s.xCellCount*h+d;if(n.call(s,e,t,r,o,m,i,a))return}},o.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},o.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},o.prototype._circlesCollide=function(e,t,r,o,n,i){var a=o-e,s=n-t,c=r+i;return c*c>a*a+s*s},o.prototype._circleAndRectCollide=function(e,t,r,o,n,i,a){var s=(i-o)/2,c=Math.abs(e-(o+s));if(c>s+r)return!1;var l=(a-n)/2,p=Math.abs(t-(n+l));if(p>l+r)return!1;if(c<=s||p<=l)return!0;var u=c-s,d=p-l;return u*u+d*d<=r*r},t.exports=o},{}],232:[function(e,t,r){"use strict";t.exports=function(e){function t(t){s.push(e[t]),c++}function r(e,t,r){var o=a[e];return delete a[e],a[t]=o,s[o].geometry[0].pop(),s[o].geometry[0]=s[o].geometry[0].concat(r[0]),o}function o(e,t,r){var o=i[t];return delete i[t],i[e]=o,s[o].geometry[0].shift(),s[o].geometry[0]=r[0].concat(s[o].geometry[0]),o}function n(e,t,r){var o=r?t[0][t[0].length-1]:t[0][0];return e+":"+o.x+":"+o.y}for(var i={},a={},s=[],c=0,l=0;l<e.length;l++){var p=e[l],u=p.geometry,d=p.text;if(d){var h=n(d,u),m=n(d,u,!0);if(h in a&&m in i&&a[h]!==i[m]){var y=o(h,m,u),f=r(h,m,s[y].geometry);delete i[h],delete a[m],a[n(d,s[f].geometry,!0)]=f,s[y].geometry=null}else h in a?r(h,m,u):m in i?o(h,m,u):(t(l),i[h]=c-1,a[m]=c-1)}else t(l)}return s.filter(function(e){return e.geometry})}},{}],233:[function(e,t,r){"use strict";var o=e("../util/web_worker_transfer"),n=o.register,i=function(){this.opacity=0,this.targetOpacity=0,this.time=0};i.prototype.clone=function(){var e=new i;return e.opacity=this.opacity,e.targetOpacity=this.targetOpacity,e.time=this.time,e},n("OpacityState",i),t.exports=i},{"../util/web_worker_transfer":288}],234:[function(e,t,r){"use strict";function o(e,t,r,o,n){var i=v.identity(new Float32Array(16));return t?(v.identity(i),v.scale(i,i,[1/n,1/n,1]),r||v.rotateZ(i,i,o.angle)):(v.scale(i,i,[o.width/2,-o.height/2,1]),v.translate(i,i,[1,-1,0]),v.multiply(i,i,e)),i}function n(e,t,r,o,n){var i=v.identity(new Float32Array(16));return t?(v.multiply(i,i,e),v.scale(i,i,[n,n,1]),r||v.rotateZ(i,i,-o.angle)):(v.scale(i,i,[1,-1,1]),v.translate(i,i,[-1,-1,0]),v.scale(i,i,[2/o.width,2/o.height,1])),i}function i(e,t){var r=[e.x,e.y,0,1];m(r,r,t);var o=r[3];return{point:new y(r[0]/o,r[1]/o),signedDistanceFromCamera:o}}function a(e,t){var r=e[0]/e[3],o=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&o>=-t[1]&&o<=t[1]}function s(e,t,r,o,n,s,c,l){var u=o?e.textSizeData:e.iconSizeData,d=_.evaluateSizeForZoom(u,r.transform.zoom,x.properties[o?"text-size":"icon-size"]),m=[256/r.width*2+1,256/r.height*2+1],f=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;f.clear();for(var v=e.lineVertexArray,w=o?e.placedGlyphArray:e.placedIconArray,b=r.transform.width/r.transform.height,k=!1,P=0;P<w.length;P++){var E=w.get(P);if(E.hidden||E.writingMode===S.vertical&&!k)h(E.numGlyphs,f);else{k=!1;var C=[E.anchorX,E.anchorY,0,1];if(g.transformMat4(C,C,t),a(C,m)){var A=C[3],T=.5+A/r.transform.cameraToCenterDistance*.5,M=_.evaluateSizeForFeature(u,d,E),R=c?M*T:M/T,z=new y(E.anchorX,E.anchorY),O=i(z,n).point,j={},N=p(E,R,!1,l,t,n,s,e.glyphOffsetArray,v,f,O,z,j,b);k=N.useVertical,(N.notEnoughRoom||k||N.needsFlipping&&p(E,R,!0,l,t,n,s,e.glyphOffsetArray,v,f,O,z,j,b).notEnoughRoom)&&h(E.numGlyphs,f)}else h(E.numGlyphs,f)}}o?e.text.dynamicLayoutVertexBuffer.updateData(f):e.icon.dynamicLayoutVertexBuffer.updateData(f)}function c(e,t,r,o,n,i,a,s,c,l,p,u){var h=s.glyphStartIndex+s.numGlyphs,m=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,f=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(h-1),g=d(e*f,r,o,n,i,a,s.segment,m,y,c,l,p,u);if(!g)return null;var _=d(e*v,r,o,n,i,a,s.segment,m,y,c,l,p,u);return _?{first:g,last:_}:null}function l(e,t,r,o){return e===S.horizontal&&Math.abs(r.y-t.y)>Math.abs(r.x-t.x)*o?{useVertical:!0}:(e===S.vertical?t.y<r.y:t.x>r.x)?{needsFlipping:!0}:null}function p(e,t,r,o,n,a,s,p,h,m,f,v,g,_){var w,x=t/24,S=e.lineOffsetX*t,k=e.lineOffsetY*t;if(e.numGlyphs>1){var P=e.glyphStartIndex+e.numGlyphs,E=e.lineStartIndex,C=e.lineStartIndex+e.lineLength,A=c(x,p,S,k,r,f,v,e,h,a,g,!1);if(!A)return{notEnoughRoom:!0};var T=i(A.first.point,s).point,M=i(A.last.point,s).point;if(o&&!r){var R=l(e.writingMode,T,M,_);if(R)return R}w=[A.first];for(var z=e.glyphStartIndex+1;z<P-1;z++)w.push(d(x*p.getoffsetX(z),S,k,r,f,v,e.segment,E,C,h,a,g,!1));w.push(A.last)}else{if(o&&!r){var O=i(v,n).point,j=e.lineStartIndex+e.segment+1,N=new y(h.getx(j),h.gety(j)),F=i(N,n),I=F.signedDistanceFromCamera>0?F.point:u(v,N,O,1,n),B=l(e.writingMode,O,I,_);if(B)return B}var D=d(x*p.getoffsetX(e.glyphStartIndex),S,k,r,f,v,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,h,a,g,!1);if(!D)return{notEnoughRoom:!0};w=[D]}for(var L=0,q=w;L<q.length;L+=1){var U=q[L];b(m,U.point,U.angle)}return{}}function u(e,t,r,o,n){var a=i(e.add(e.sub(t)._unit()),n).point,s=r.sub(a);return r.add(s._mult(o/s.mag()))}function d(e,t,r,o,n,a,s,c,l,p,d,h,m){var f=o?e-t:e+t,v=f>0?1:-1,g=0;o&&(v*=-1,g=Math.PI),v<0&&(g+=Math.PI);for(var _=v>0?c+s:c+s+1,w=_,b=n,x=n,S=0,k=0,P=Math.abs(f);S+k<=P;){if((_+=v)<c||_>=l)return null;if(x=b,void 0===(b=h[_])){var E=new y(p.getx(_),p.gety(_)),C=i(E,d);if(C.signedDistanceFromCamera>0)b=h[_]=C.point;else{var A=_-v;b=u(0===S?a:new y(p.getx(A),p.gety(A)),E,x,P-S+1,d)}}S+=k,k=x.dist(b)}var T=(P-S)/k,M=b.sub(x),R=M.mult(T)._add(x);return R._add(M._unit()._perp()._mult(r*v)),{point:R,angle:g+Math.atan2(b.y-x.y,b.x-x.x),tileDistance:m?{prevTileDistance:_-v===w?0:p.gettileUnitDistanceFromAnchor(_-v),lastSegmentViewportDistance:P-S}:null}}function h(e,t){for(var r=0;r<e;r++){var o=t.length;t.resize(o+4),t.float32.set(k,3*o)}}function m(e,t,r){var o=t[0],n=t[1];return e[0]=r[0]*o+r[4]*n+r[12],e[1]=r[1]*o+r[5]*n+r[13],e[3]=r[3]*o+r[7]*n+r[15],e}var y=e("@mapbox/point-geometry"),f=e("@mapbox/gl-matrix"),v=f.mat4,g=f.vec4,_=e("./symbol_size"),w=e("../data/bucket/symbol_bucket"),b=w.addDynamicAttributes,x=e("../style/style_layer/symbol_style_layer_properties").layout,S=e("../symbol/shaping").WritingMode;t.exports={updateLineLabels:s,getLabelPlaneMatrix:o,getGlCoordMatrix:n,project:i,placeFirstAndLastGlyph:c,xyTransformMat4:m};var k=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":54,"../style/style_layer/symbol_style_layer_properties":220,"../symbol/shaping":236,"./symbol_size":239,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],235:[function(e,t,r){"use strict";function o(e,t,r,o,n,a,s){var c,l,p,u,d=t.image,h=r.layout,m=t.top-1/d.pixelRatio,y=t.left-1/d.pixelRatio,f=t.bottom+1/d.pixelRatio,v=t.right+1/d.pixelRatio;if("none"!==h.get("icon-text-fit")&&n){var g=v-y,_=f-m,w=h.get("text-size").evaluate(s)/24,b=n.left*w,x=n.right*w,S=n.top*w,k=n.bottom*w,P=x-b,E=k-S,C=h.get("icon-text-fit-padding")[0],A=h.get("icon-text-fit-padding")[1],T=h.get("icon-text-fit-padding")[2],M=h.get("icon-text-fit-padding")[3],R="width"===h.get("icon-text-fit")?.5*(E-_):0,z="height"===h.get("icon-text-fit")?.5*(P-g):0,O="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?P:g,j="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?E:_;c=new i(b+z-M,S+R-C),l=new i(b+z+A+O,S+R-C),p=new i(b+z+A+O,S+R+T+j),u=new i(b+z-M,S+R+T+j)}else c=new i(y,m),l=new i(v,m),p=new i(v,f),u=new i(y,f);var N=r.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(N){var F=Math.sin(N),I=Math.cos(N),B=[I,-F,F,I];c._matMult(B),l._matMult(B),u._matMult(B),p._matMult(B)}return[{tl:c,tr:l,bl:u,br:p,tex:{x:d.textureRect.x-1,y:d.textureRect.y-1,w:d.textureRect.w+2,h:d.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function n(e,t,r,o,n,a,c){for(var l=r.layout.get("text-rotate").evaluate(a)*Math.PI/180,p=r.layout.get("text-offset").evaluate(a).map(function(e){return 24*e}),u=t.positionedGlyphs,d=[],h=0;h<u.length;h++){var m=u[h],y=c[m.glyph];if(y){var f=y.rect;if(f){var v=s+1,g=y.metrics.advance/2,_=o?[m.x+g,m.y]:[0,0],w=o?[0,0]:[m.x+g+p[0],m.y+p[1]],b=y.metrics.left-v-g+w[0],x=-y.metrics.top-v+w[1],S=b+f.w,k=x+f.h,P=new i(b,x),E=new i(S,x),C=new i(b,k),A=new i(S,k);if(o&&m.vertical){var T=new i(-g,g),M=-Math.PI/2,R=new i(5,0);P._rotateAround(M,T)._add(R),E._rotateAround(M,T)._add(R),C._rotateAround(M,T)._add(R),A._rotateAround(M,T)._add(R)}if(l){var z=Math.sin(l),O=Math.cos(l),j=[O,-z,z,O];P._matMult(j),E._matMult(j),C._matMult(j),A._matMult(j)}d.push({tl:P,tr:E,bl:C,br:A,tex:f,writingMode:t.writingMode,glyphOffset:_})}}}return d}var i=e("@mapbox/point-geometry"),a=e("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;t.exports={getIconQuads:o,getGlyphQuads:n}},{"../style/parse_glyph_pbf":197,"@mapbox/point-geometry":4}],236:[function(e,t,r){"use strict";function o(e,t){for(var r=[],o=0,n=0,i=t;n<i.length;n+=1){var a=i[n];r.push(e.substring(o,a)),o=a}return o<e.length&&r.push(e.substring(o,e.length)),r}function n(e,t,r,n,i,a,s,c,l,u){var h=e.trim();u===_.vertical&&(h=v(h));var m,y=[],f={positionedGlyphs:y,text:h,top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:u},w=g.processBidirectionalText;return m=w?w(h,p(h,s,r,t)):o(h,p(h,s,r,t)),d(f,t,m,n,i,a,u,s,l),!!y.length&&f}function i(e,t,r,o){for(var n=0,i=0;i<e.length;i++){var a=o[e.charCodeAt(i)];a&&(n+=a.metrics.advance+t)}return n/Math.max(1,Math.ceil(n/r))}function a(e,t,r,o){var n=Math.pow(e-t,2);return o?e<t?n/2:2*n:n+Math.abs(r)*r}function s(e,t){var r=0;return 10===e&&(r-=1e4),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function c(e,t,r,o,n,i){for(var s=null,c=a(t,r,n,i),l=0,p=o;l<p.length;l+=1){var u=p[l],d=t-u.x,h=a(d,r,n,i)+u.badness;h<=c&&(s=u,c=h)}return{index:e,x:t,priorBreak:s,badness:c}}function l(e){return e?l(e.priorBreak).concat(e.index):[]}function p(e,t,r,o){if(!r)return[];if(!e)return[];for(var n=[],a=i(e,t,r,o),p=0,u=0;u<e.length;u++){var d=e.charCodeAt(u),h=o[d];h&&!w[d]&&(p+=h.metrics.advance+t),u<e.length-1&&(b[d]||f.charAllowsIdeographicBreaking(d))&&n.push(c(u+1,p,a,n,s(d,e.charCodeAt(u+1)),!1))}return l(c(e.length,p,a,n,0,!0))}function u(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function d(e,t,r,o,n,i,a,s,c){for(var l=0,p=-17,d=0,y=e.positionedGlyphs,v="right"===i?1:"left"===i?0:.5,g=0,w=r;g<w.length;g+=1){var b=w[g];if(b=b.trim(),b.length){for(var x=y.length,S=0;S<b.length;S++){var k=b.charCodeAt(S),P=t[k];P&&(f.charHasUprightVerticalOrientation(k)&&a!==_.horizontal?(y.push({glyph:k,x:l,y:0,vertical:!0}),l+=c+s):(y.push({glyph:k,x:l,y:p,vertical:!1}),l+=P.metrics.advance+s))}if(y.length!==x){var E=l-s;d=Math.max(E,d),h(y,t,x,y.length-1,v)}l=0,p+=o}else p+=o}var C=u(n),A=C.horizontalAlign,T=C.verticalAlign;m(y,v,A,T,d,o,r.length);var M=r.length*o;e.top+=-T*M,e.bottom=e.top+M,e.left+=-A*d,e.right=e.left+d}function h(e,t,r,o,n){if(n){var i=t[e[o].glyph];if(i)for(var a=i.metrics.advance,s=(e[o].x+a)*n,c=r;c<=o;c++)e[c].x-=s}}function m(e,t,r,o,n,i,a){for(var s=(t-r)*n,c=(-o*a+.5)*i,l=0;l<e.length;l++)e[l].x+=s,e[l].y+=c}function y(e,t,r){var o=u(r),n=o.horizontalAlign,i=o.verticalAlign,a=t[0],s=t[1],c=a-e.displaySize[0]*n,l=c+e.displaySize[0],p=s-e.displaySize[1]*i;return{image:e,top:p,bottom:p+e.displaySize[1],left:c,right:l}}var f=e("../util/script_detection"),v=e("../util/verticalize_punctuation"),g=e("../source/rtl_text_plugin"),_={horizontal:1,vertical:2,horizontalOnly:3};t.exports={shapeText:n,shapeIcon:y,WritingMode:_};var w={};w[9]=!0,w[10]=!0,w[11]=!0,w[12]=!0,w[13]=!0,w[32]=!0;var b={};b[10]=!0,b[32]=!0,b[38]=!0,b[40]=!0,b[41]=!0,b[43]=!0,b[45]=!0,b[47]=!0,b[173]=!0,b[183]=!0,b[8203]=!0,b[8208]=!0,b[8211]=!0,b[8231]=!0},{"../source/rtl_text_plugin":112,"../util/script_detection":279,"../util/verticalize_punctuation":287}],237:[function(e,t,r){"use strict";function o(e,t,r,o,i,a){e.createArrays(),e.symbolInstances=[];var s=512*e.overscaling;e.tilePixelRatio=k/s,e.compareText={},e.iconsNeedLinear=!1;var c=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,p={};if("composite"===e.textSizeData.functionType){var u=e.textSizeData.zoomRange,d=u.min,f=u.max;p.compositeTextSizes=[l["text-size"].possiblyEvaluate(new E(d)),l["text-size"].possiblyEvaluate(new E(f))]}if("composite"===e.iconSizeData.functionType){var v=e.iconSizeData.zoomRange,g=v.min,_=v.max;p.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new E(g)),l["icon-size"].possiblyEvaluate(new E(_))]}p.layoutTextSize=l["text-size"].possiblyEvaluate(new E(e.zoom+1)),p.layoutIconSize=l["icon-size"].possiblyEvaluate(new E(e.zoom+1)),p.textMaxSize=l["text-size"].possiblyEvaluate(new E(18));for(var x=24*c.get("text-line-height"),S="map"===c.get("text-rotation-alignment")&&"line"===c.get("symbol-placement"),P=c.get("text-keep-upright"),C=0,A=e.features;C<A.length;C+=1){var T=A[C],M=c.get("text-font").evaluate(T).join(","),R=t[M]||{},z=r[M]||{},O={},j=T.text;if(j){var N=b.allowsVerticalWritingMode(j),F=c.get("text-offset").evaluate(T).map(function(e){return 24*e}),I=24*c.get("text-letter-spacing").evaluate(T),B=b.allowsLetterSpacing(j)?I:0,D=c.get("text-anchor").evaluate(T),L=c.get("text-justify").evaluate(T),q="line"!==c.get("symbol-placement")?24*c.get("text-max-width").evaluate(T):0;O.horizontal=h(j,R,q,x,D,L,B,F,24,y.horizontal),N&&S&&P&&(O.vertical=h(j,R,q,x,D,L,B,F,24,y.vertical))}var U=void 0;if(T.icon){var W=o[T.icon];W&&(U=m(i[T.icon],c.get("icon-offset").evaluate(T),c.get("icon-anchor").evaluate(T)),void 0===e.sdfIcons?e.sdfIcons=W.sdf:e.sdfIcons!==W.sdf&&w.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),W.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==c.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(O.horizontal||U)&&n(e,T,O,U,z,p)}a&&e.generateCollisionDebugBuffers()}function n(e,t,r,o,n,i){var u=i.layoutTextSize.evaluate(t),d=i.layoutIconSize.evaluate(t),h=i.textMaxSize.evaluate(t);void 0===h&&(h=u);var m=e.layers[0].layout,y=m.get("text-offset").evaluate(t),f=m.get("icon-offset").evaluate(t),v=u/24,g=e.tilePixelRatio*v,_=e.tilePixelRatio*h/24,w=e.tilePixelRatio*d,b=e.tilePixelRatio*m.get("symbol-spacing"),P=m.get("text-padding")*e.tilePixelRatio,E=m.get("icon-padding")*e.tilePixelRatio,C=m.get("text-max-angle")/180*Math.PI,A="map"===m.get("text-rotation-alignment")&&"line"===m.get("symbol-placement"),T="map"===m.get("icon-rotation-alignment")&&"line"===m.get("symbol-placement"),M=m.get("symbol-placement"),R=b/2,z=function(s,c){c.x<0||c.x>=k||c.y<0||c.y>=k||e.symbolInstances.push(a(e,c,s,r,o,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,g,P,A,y,w,E,T,f,{zoom:e.zoom},t,n,i))};if("line"===M)for(var O=0,j=p(t.geometry,0,0,k,k);O<j.length;O+=1)for(var N=j[O],F=l(N,b,C,r.vertical||r.horizontal,o,24,_,e.overscaling,k),I=0,B=F;I<B.length;I+=1){var D=B[I],L=r.horizontal;L&&s(e,L.text,R,D)||z(N,D)}else if("Polygon"===t.type)for(var q=0,U=S(t.geometry,0);q<U.length;q+=1){var W=U[q],V=x(W,16);z(W[0],new c(V.x,V.y,0))}else if("LineString"===t.type)for(var H=0,G=t.geometry;H<G.length;H+=1){var K=G[H];z(K,new c(K[0].x,K[0].y,0))}else if("Point"===t.type)for(var J=0,Z=t.geometry;J<Z.length;J+=1)for(var X=Z[J],Q=0,Y=X;Q<Y.length;Q+=1){var $=Y[Q];z([$],new c($.x,$.y,0))}}function i(e,t,r,o,n,i,a,s,c,l,p,u,d){var h=v(t,r,o,n,i,a,u),m=e.textSizeData,y=null;return"source"===m.functionType?y=[10*o.layout.get("text-size").evaluate(a)]:"composite"===m.functionType&&(y=[10*d.compositeTextSizes[0].evaluate(a),10*d.compositeTextSizes[1].evaluate(a)]),e.addSymbols(e.text,h,y,s,n,a,l,t,c.lineStartIndex,c.lineLength,e.placedGlyphArray),p.push(e.placedGlyphArray.length-1),4*h.length}function a(e,t,r,o,n,a,s,c,l,p,d,h,m,f,v,b,x,S,k,E,C,A){var T,M,R=e.addToLineVertexArray(t,r),z=0,O=0,j=0,N=o.horizontal?o.horizontal.text:"",F=[];o.horizontal&&(T=new _(s,r,t,c,l,p,o.horizontal,d,h,m,e.overscaling),O+=i(e,t,o.horizontal,a,m,k,E,f,R,o.vertical?y.horizontal:y.horizontalOnly,F,C,A),o.vertical&&(j+=i(e,t,o.vertical,a,m,k,E,f,R,y.vertical,F,C,A)));var I=T?T.boxStartIndex:e.collisionBoxArray.length,B=T?T.boxEndIndex:e.collisionBoxArray.length;if(n){var D=g(t,n,a,x,o.horizontal,k,E);M=new _(s,r,t,c,l,p,n,v,b,!1,e.overscaling),z=4*D.length;var L=e.iconSizeData,q=null;"source"===L.functionType?q=[10*a.layout.get("icon-size").evaluate(E)]:"composite"===L.functionType&&(q=[10*A.compositeIconSizes[0].evaluate(E),10*A.compositeIconSizes[1].evaluate(E)]),e.addSymbols(e.icon,D,q,S,x,E,!1,t,R.lineStartIndex,R.lineLength,e.placedIconArray)}var U=M?M.boxStartIndex:e.collisionBoxArray.length,W=M?M.boxEndIndex:e.collisionBoxArray.length;return e.glyphOffsetArray.length>=P.MAX_GLYPHS&&w.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:N,textBoxStartIndex:I,textBoxEndIndex:B,iconBoxStartIndex:U,iconBoxEndIndex:W,textOffset:f,iconOffset:S,anchor:t,line:r,featureIndex:c,feature:E,numGlyphVertices:O,numVerticalGlyphVertices:j,numIconVertices:z,textOpacityState:new u,iconOpacityState:new u,isDuplicate:!1,placedTextSymbolIndices:F}}function s(e,t,r,o){var n=e.compareText;if(t in n){for(var i=n[t],a=i.length-1;a>=0;a--)if(o.dist(i[a])<r)return!0}else n[t]=[];return n[t].push(o),!1}var c=e("./anchor"),l=e("./get_anchors"),p=e("./clip_line"),u=e("./opacity_state"),d=e("./shaping"),h=d.shapeText,m=d.shapeIcon,y=d.WritingMode,f=e("./quads"),v=f.getGlyphQuads,g=f.getIconQuads,_=e("./collision_feature"),w=e("../util/util"),b=e("../util/script_detection"),x=e("../util/find_pole_of_inaccessibility"),S=e("../util/classify_rings"),k=e("../data/extent"),P=e("../data/bucket/symbol_bucket"),E=e("../style/evaluation_parameters");e("@mapbox/point-geometry");t.exports={performSymbolLayout:o}},{"../data/bucket/symbol_bucket":54,"../data/extent":56,"../style/evaluation_parameters":193,"../util/classify_rings":266,"../util/find_pole_of_inaccessibility":272,"../util/script_detection":279,"../util/util":285,"./anchor":224,"./clip_line":226,"./collision_feature":227,"./get_anchors":230,"./opacity_state":233,"./quads":235,"./shaping":236,"@mapbox/point-geometry":4}],238:[function(e,t,r){"use strict";function o(e,t,r,o,n,i){if(e.isDuplicate)t.opacity=0,t.targetOpacity=0;else{t.targetOpacity!==r&&(n.latestStart=o);var a=n.duration?(o-t.time)/n.duration:1;t.opacity=i?r:Math.max(0,Math.min(1,t.opacity+(1===t.targetOpacity?a:-a))),t.targetOpacity=r,t.time=o}}function n(e){if(0===e.opacity&&0===e.targetOpacity)return 0;if(1===e.opacity&&1===e.targetOpacity)return 4294967295;var t=1===e.targetOpacity?1:0,r=Math.floor(127*e.opacity);return r*d+t*h+r*m+t*y+r*f+t*v+r*g+t}function i(e,t,r){var i=e.text&&e.text.opacityVertexArray,a=e.icon&&e.icon.opacityVertexArray;i&&i.clear(),a&&a.clear(),e.fadeStartTime=u.now();for(var s=0,c=e.symbolInstances;s<c.length;s+=1){var l=c[s],p=!(l.textBoxStartIndex===l.textBoxEndIndex),d=!(l.iconBoxStartIndex===l.iconBoxEndIndex);if(p||d){if(p){var h=l.placedText?1:0,m=l.textOpacityState,y=0===m.opacity&&0===m.targetOpacity;o(l,m,h,e.fadeStartTime,t,r);var f=0===m.opacity&&0===m.targetOpacity;if(y!==f)for(var v=0,g=l.placedTextSymbolIndices;v<g.length;v+=1){var _=g[v],w=e.placedGlyphArray.get(_);w.hidden=f}for(var b=(l.numGlyphVertices+l.numVerticalGlyphVertices)/4,x=n(m),S=0;S<b;S++)i.emplaceBack(x)}if(d){var k=l.placedIcon?1:0,P=l.iconOpacityState;o(l,P,k,e.fadeStartTime,t,r);for(var E=l.numIconVertices/4,C=n(P),A=0;A<E;A++)a.emplaceBack(C)}}}i&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(i),a&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(a)}function a(e,t){e.emplaceBack(t?1:0,0),e.emplaceBack(t?1:0,0),e.emplaceBack(t?1:0,0),e.emplaceBack(t?1:0,0)}function s(e,t,r,o){for(var n=0;n<t.length;n+=5){var i=o||0===t[n+4];e.emplaceBack(r?1:0,i?1:0),e.emplaceBack(r?1:0,i?1:0),e.emplaceBack(r?1:0,i?1:0),e.emplaceBack(r?1:0,i?1:0)}}function c(e,t,r,o,n,i,c,u,d,h){var m,y,f=e.layers[0],v=f.layout,g=Math.pow(2,o-e.zoom);r&&(e.collisionBox&&e.collisionBox.collisionVertexArray&&e.collisionBox.collisionVertexArray.length&&(m=e.collisionBox.collisionVertexArray,m.clear()),e.collisionCircle&&e.collisionCircle.collisionVertexArray&&e.collisionCircle.collisionVertexArray.length&&(y=e.collisionCircle.collisionVertexArray,y.clear()));for(var _=l.evaluateSizeForZoom(e.textSizeData,t.transform.zoom,p.properties["text-size"]),w="map"===v.get("text-pitch-alignment"),b=0,x=e.symbolInstances;b<x.length;b+=1){var S=x[b],k=!(S.textBoxStartIndex===S.textBoxEndIndex),P=!(S.iconBoxStartIndex===S.iconBoxEndIndex),E=v.get("text-optional")||!k,C=v.get("icon-optional")||!P;S.collisionArrays||(S.collisionArrays=e.deserializeCollisionBoxes(h,S.textBoxStartIndex,S.textBoxEndIndex,S.iconBoxStartIndex,S.iconBoxEndIndex));var A=[],T=[],M=[],R=!1;if(!S.isDuplicate){S.collisionArrays.textBox&&(A=t.placeCollisionBox(S.collisionArrays.textBox,v.get("text-allow-overlap"),n,i)),S.collisionArrays.iconBox&&(T=t.placeCollisionBox(S.collisionArrays.iconBox,v.get("icon-allow-overlap"),n,i));var z=S.collisionArrays.textCircles;if(z){var O=e.placedGlyphArray.get(S.placedTextSymbolIndices[0]),j=l.evaluateSizeForFeature(e.textSizeData,_,O);M=t.placeCollisionCircles(z,v.get("text-allow-overlap"),g,n,S.key,O,e.lineVertexArray,e.glyphOffsetArray,j,i,c,r,w),R=v.get("text-allow-overlap")||M.length>0}}var N=A.length>0||R,F=T.length>0;E||C?C?E||(F=F&&N):N=F&&N:F=N=F&&N,S.placedText=N,S.placedIcon=F,S.collisionArrays.textBox&&(m&&a(m,N),N&&t.insertCollisionBox(A,v.get("text-ignore-placement"),u,d,S.textBoxStartIndex)),S.collisionArrays.iconBox&&(m&&a(m,F),F&&t.insertCollisionBox(T,v.get("icon-ignore-placement"),u,d,S.iconBoxStartIndex)),S.collisionArrays.textCircles&&(y&&s(y,S.collisionArrays.textCircles,N,S.isDuplicate),N&&t.insertCollisionCircles(M,v.get("text-ignore-placement"),u,d,S.textBoxStartIndex))}m&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(m),y&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(y)}var l=e("./symbol_size"),p=e("../style/style_layer/symbol_style_layer_properties").layout,u=e("../util/browser");e("@mapbox/gl-matrix").mat4;t.exports={updateOpacities:i,performSymbolPlacement:c};var d=Math.pow(2,25),h=Math.pow(2,24),m=Math.pow(2,17),y=Math.pow(2,16),f=Math.pow(2,9),v=Math.pow(2,8),g=Math.pow(2,1)},{"../style/style_layer/symbol_style_layer_properties":220,"../util/browser":263,"./symbol_size":239,"@mapbox/gl-matrix":2}],239:[function(e,t,r){"use strict";function o(e,t){var r=t.expression;if("constant"===r.kind)return{functionType:"constant",layoutSize:r.evaluate({zoom:e+1})};if("source"===r.kind)return{functionType:"source"};for(var o=r.zoomStops,n=0;n<o.length&&o[n]<=e;)n++;n=Math.max(0,n-1);for(var i=n;i<o.length&&o[i]<e+1;)i++;i=Math.min(o.length-1,i);var a={min:o[n],max:o[i]};return"composite"===r.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:r.evaluate({zoom:e+1}),zoomRange:a,sizeRange:{min:r.evaluate({zoom:a.min}),max:r.evaluate({zoom:a.max})},propertyValue:t.value}}function n(e,t,r){var o=t;return"source"===e.functionType?r.lowerSize/10:"composite"===e.functionType?c.number(r.lowerSize/10,r.upperSize/10,o.uSizeT):o.uSize}function i(e,t,r){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var o=e.propertyValue,n=e.zoomRange,i=e.sizeRange,a=s(o,r.specification),c=l.clamp(a.interpolationFactor(t,n.min,n.max),0,1);return{uSizeT:0,uSize:i.min+c*(i.max-i.min)}}var p=e.propertyValue,u=e.zoomRange,d=s(p,r.specification);return{uSizeT:l.clamp(d.interpolationFactor(t,u.min,u.max),0,1),uSize:0}}var a=e("../style-spec/expression"),s=a.normalizePropertyExpression,c=e("../style-spec/util/interpolate"),l=e("../util/util");t.exports={getSizeData:o,evaluateSizeForFeature:n,evaluateSizeForZoom:i}},{"../style-spec/expression":142,"../style-spec/util/interpolate":169,"../util/util":285}],240:[function(e,t,r){"use strict";var o=e("../source/rtl_text_plugin");t.exports=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r);return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),o.applyArabicShaping&&(e=o.applyArabicShaping(e)),e}},{"../source/rtl_text_plugin":112}],241:[function(e,t,r){"use strict";var o=e("../util/dom"),n=e("@mapbox/point-geometry"),i={scrollZoom:e("./handler/scroll_zoom"),boxZoom:e("./handler/box_zoom"),dragRotate:e("./handler/drag_rotate"),dragPan:e("./handler/drag_pan"),keyboard:e("./handler/keyboard"),doubleClickZoom:e("./handler/dblclick_zoom"),touchZoomRotate:e("./handler/touch_zoom_rotate")};t.exports=function(e,t){function r(e){v("mouseout",e)}function a(t){e.doubleClickZoom.isActive()||e.stop(),x=o.mousePos(_,t),v("mousedown",t),b=!0}function s(t){var r=e.dragRotate&&e.dragRotate.isActive();w&&!r&&v("contextmenu",w),w=null,b=!1,v("mouseup",t)}function c(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var r=t.toElement||t.target;r&&r!==_;)r=r.parentNode;r===_&&v("mousemove",t)}}function l(t){e.stop(),g("touchstart",t),!t.touches||t.touches.length>1||(S?(clearTimeout(S),S=null,v("dblclick",t)):S=setTimeout(h,300))}function p(e){g("touchmove",e)}function u(e){g("touchend",e)}function d(e){g("touchcancel",e)}function h(){S=null}function m(e){o.mousePos(_,e).equals(x)&&v("click",e)}function y(e){v("dblclick",e),e.preventDefault()}function f(t){var r=e.dragRotate&&e.dragRotate.isActive();b||r?b&&(w=t):v("contextmenu",t),t.preventDefault()}function v(t,r){var n=o.mousePos(_,r);return e.fire(t,{lngLat:e.unproject(n),point:n,originalEvent:r})}function g(t,r){var i=o.touchPos(_,r),a=i.reduce(function(e,t,r,o){return e.add(t.div(o.length))},new n(0,0));return e.fire(t,{lngLat:e.unproject(a),point:a,lngLats:i.map(function(t){return e.unproject(t)},this),points:i,originalEvent:r})}var _=e.getCanvasContainer(),w=null,b=!1,x=null,S=null;for(var k in i)e[k]=new i[k](e,t),t.interactive&&t[k]&&e[k].enable(t[k]);_.addEventListener("mouseout",r,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",c,!1),_.addEventListener("touchstart",l,!1),_.addEventListener("touchend",u,!1),_.addEventListener("touchmove",p,!1),_.addEventListener("touchcancel",d,!1),_.addEventListener("click",m,!1),_.addEventListener("dblclick",y,!1),_.addEventListener("contextmenu",f,!1)}},{"../util/dom":270,"./handler/box_zoom":250,"./handler/dblclick_zoom":251,"./handler/drag_pan":252,"./handler/drag_rotate":253,"./handler/keyboard":254,"./handler/scroll_zoom":255,"./handler/touch_zoom_rotate":256,"@mapbox/point-geometry":4}],242:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../style-spec/util/interpolate").number,i=e("../util/browser"),a=e("../geo/lng_lat"),s=e("../geo/lng_lat_bounds"),c=e("@mapbox/point-geometry"),l=e("../util/evented"),p=function(e){function t(t,r){e.call(this),this.moving=!1,this.transform=t,this._bearingSnap=r.bearingSnap}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},t.prototype.panBy=function(e,t,r){return e=c.convert(e).mult(-1),this.panTo(this.transform.center,o.extend({offset:e},t),r)},t.prototype.panTo=function(e,t,r){return this.easeTo(o.extend({center:e},t),r)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},t.prototype.zoomTo=function(e,t,r){return this.easeTo(o.extend({zoom:e},t),r)},t.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},t.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},t.prototype.rotateTo=function(e,t,r){return this.easeTo(o.extend({bearing:e},t),r)},t.prototype.resetNorth=function(e,t){return this.rotateTo(0,o.extend({duration:1e3},e),t),this},t.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},t.prototype.fitBounds=function(e,t,r){if(t=o.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},t),"number"==typeof t.padding){var n=t.padding;t.padding={top:n,bottom:n,right:n,left:n}}if(!o.deepEqual(Object.keys(t.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"]))return o.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=s.convert(e);var i=[(t.padding.left-t.padding.right)/2,(t.padding.top-t.padding.bottom)/2],a=Math.min(t.padding.right,t.padding.left),l=Math.min(t.padding.top,t.padding.bottom);t.offset=[t.offset[0]+i[0],t.offset[1]+i[1]];var p=c.convert(t.offset),u=this.transform,d=u.project(e.getNorthWest()),h=u.project(e.getSouthEast()),m=h.sub(d),y=(u.width-2*a-2*Math.abs(p.x))/m.x,f=(u.height-2*l-2*Math.abs(p.y))/m.y;return f<0||y<0?(o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(t.center=u.unproject(d.add(h).div(2)),t.zoom=Math.min(u.scaleZoom(u.scale*Math.min(y,f)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,r):this.flyTo(t,r))},t.prototype.jumpTo=function(e,t){this.stop();var r=this.transform,o=!1,n=!1,i=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(o=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=a.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(n=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(i=!0,r.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),o&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),n&&this.fire("rotate",t),i&&this.fire("pitchstart",t).fire("pitch",t).fire("pitchend",t),this.fire("moveend",t)},t.prototype.easeTo=function(e,t){var r=this;this.stop(),e=o.extend({offset:[0,0],duration:500,easing:o.ease},e),!1===e.animate&&(e.duration=0),e.smoothEasing&&0!==e.duration&&(e.easing=this._smoothOutEasing(e.duration));var i=this.transform,s=this.getZoom(),l=this.getBearing(),p=this.getPitch(),u="zoom"in e?+e.zoom:s,d="bearing"in e?this._normalizeBearing(e.bearing,l):l,h="pitch"in e?+e.pitch:p,m=i.centerPoint.add(c.convert(e.offset)),y=i.pointLocation(m),f=a.convert(e.center||y);this._normalizeCenter(f);var v,g,_=i.project(y),w=i.project(f).sub(_),b=i.zoomScale(u-s);return e.around&&(v=a.convert(e.around),g=i.locationPoint(v)),this.zooming=u!==s,this.rotating=l!==d,this.pitching=h!==p,this._prepareEase(t,e.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(e){if(r.zooming&&(i.zoom=n(s,u,e)),r.rotating&&(i.bearing=n(l,d,e)),r.pitching&&(i.pitch=n(p,h,e)),v)i.setLocationAtPoint(v,g);else{var o=i.zoomScale(i.zoom-s),a=u>s?Math.min(2,b):Math.max(.5,b),c=Math.pow(a,1-e),y=i.unproject(_.add(w.mult(e*c)).mult(o));i.setLocationAtPoint(i.renderWorldCopies?y.wrap():y,m)}r._fireMoveEvents(t)},function(){e.delayEndEvents?r._onEaseEnd=setTimeout(function(){return r._easeToEnd(t)},e.delayEndEvents):r._easeToEnd(t)},e),this},t.prototype._prepareEase=function(e,t){this.moving=!0,t||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),this.pitching&&this.fire("pitchstart",e)},t.prototype._fireMoveEvents=function(e){this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},t.prototype._easeToEnd=function(e){var t=this.zooming,r=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),r&&this.fire("pitchend",e),this.fire("moveend",e)},t.prototype.flyTo=function(e,t){function r(e){var t=(E*E-P*P+(e?-1:1)*M*M*C*C)/(2*(e?E:P)*M*C);return Math.log(Math.sqrt(t*t+1)-t)}function i(e){return(Math.exp(e)-Math.exp(-e))/2}function s(e){return(Math.exp(e)+Math.exp(-e))/2}function l(e){return i(e)/s(e)}var p=this;this.stop(),e=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},e);var u=this.transform,d=this.getZoom(),h=this.getBearing(),m=this.getPitch(),y="zoom"in e?o.clamp(+e.zoom,u.minZoom,u.maxZoom):d,f="bearing"in e?this._normalizeBearing(e.bearing,h):h,v="pitch"in e?+e.pitch:m,g=u.zoomScale(y-d),_=u.centerPoint.add(c.convert(e.offset)),w=u.pointLocation(_),b=a.convert(e.center||w);this._normalizeCenter(b);var x=u.project(w),S=u.project(b).sub(x),k=e.curve,P=Math.max(u.width,u.height),E=P/g,C=S.mag();if("minZoom"in e){var A=o.clamp(Math.min(e.minZoom,d,y),u.minZoom,u.maxZoom),T=P/u.zoomScale(A-d);k=Math.sqrt(T/C*2)}var M=k*k,R=r(0),z=function(e){return s(R)/s(R+k*e)},O=function(e){return P*((s(R)*l(R+k*e)-i(R))/M)/C},j=(r(1)-R)/k;if(Math.abs(C)<1e-6||!isFinite(j)){if(Math.abs(P-E)<1e-6)return this.easeTo(e,t);var N=E<P?-1:1;j=Math.abs(Math.log(E/P))/k,O=function(){return 0},z=function(e){return Math.exp(N*k*e)}}if("duration"in e)e.duration=+e.duration;else{var F="screenSpeed"in e?+e.screenSpeed/k:+e.speed;e.duration=1e3*j/F}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this.zooming=!0,this.rotating=h!==f,this.pitching=v!==m,this._prepareEase(t,!1),this._ease(function(e){var r=e*j,o=1/z(r);u.zoom=d+u.scaleZoom(o),p.rotating&&(u.bearing=n(h,f,e)),p.pitching&&(u.pitch=n(m,v,e));var i=u.unproject(x.add(S.mult(O(r))).mult(o));u.setLocationAtPoint(u.renderWorldCopies?i.wrap():i,_),p._fireMoveEvents(t)},function(){return p._easeToEnd(t)},e),this},t.prototype.isEasing=function(){return!!this._easeFn},t.prototype.isMoving=function(){return this.moving},t.prototype.stop=function(){return this._easeFn&&this._finishEase(),this},t.prototype._ease=function(e,t,r){!1===r.animate||0===r.duration?(e(1),t()):(this._easeStart=i.now(),this._easeFn=e,this._finishFn=t,this._easeOptions=r,this._update())},t.prototype._updateEase=function(){var e=Math.min((i.now()-this._easeStart)/this._easeOptions.duration,1);this._easeFn(this._easeOptions.easing(e)),1===e&&this._finishEase()},t.prototype._finishEase=function(){delete this._easeFn;var e=this._finishFn;delete this._finishFn,e.call(this)},t.prototype._normalizeBearing=function(e,t){e=o.wrap(e,-180,180);var r=Math.abs(e-t);return Math.abs(e-360-t)<r&&(e-=360),Math.abs(e+360-t)<r&&(e+=360),e},t.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},t.prototype._smoothOutEasing=function(e){var t=o.ease;if(this._prevEase){var r=this._prevEase,n=(i.now()-r.start)/r.duration,a=r.easing(n+.01)-r.easing(n),s=.27/Math.sqrt(a*a+1e-4)*.01,c=Math.sqrt(.0729-s*s);t=o.bezier(s,c,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:e,easing:t},t},t}(l);t.exports=p},{"../geo/lng_lat":65,"../geo/lng_lat_bounds":66,"../style-spec/util/interpolate":169,"../util/browser":263,"../util/evented":271,"../util/util":285,"@mapbox/point-geometry":4}],243:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/config"),a=function(e){this.options=e,n.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){o.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:i.ACCESS_TOKEN}];if(e){var r=t.reduce(function(e,r,o){return r.value&&(e+=r.key+"="+r.value+(o<t.length-1?"&":"")),e},"?");e.href="https://www.mapbox.com/feedback/"+r+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(e){e&&"metadata"===e.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var o in r){var n=r[o].getSource();n.attribution&&e.indexOf(n.attribution)<0&&e.push(n.attribution)}e.sort(function(e,t){return e.length-t.length}),e=e.filter(function(t,r){for(var o=r+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return!1;return!0}),this._container.innerHTML=e.join(" | "),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},t.exports=a},{"../../util/config":267,"../../util/dom":270,"../../util/util":285}],244:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/window"),a=function(){this._fullscreen=!1,n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=o.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){o.remove(this._container),this._map=null,i.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(i.document.fullscreenEnabled||i.document.mozFullScreenEnabled||i.document.msFullscreenEnabled||i.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var e=this._fullscreenButton=o.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(i.document.fullscreenElement||i.document.mozFullScreenElement||i.document.webkitFullscreenElement||i.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?i.document.exitFullscreen?i.document.exitFullscreen():i.document.mozCancelFullScreen?i.document.mozCancelFullScreen():i.document.msExitFullscreen?i.document.msExitFullscreen():i.document.webkitCancelFullScreen&&i.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},t.exports=a},{"../../util/dom":270,"../../util/util":285,"../../util/window":265}],245:[function(e,t,r){"use strict";function o(e){void 0!==n?e(n):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(t){n="denied"!==t.state,e(n)}):(n=!!s.navigator.geolocation,e(n))}var n,i=e("../../util/evented"),a=e("../../util/dom"),s=e("../../util/window"),c=e("../../util/util"),l=e("../../geo/lng_lat"),p=e("../marker"),u={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},d=function(e){function t(t){e.call(this),this.options=c.extend({},u,t),c.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){return this._map=e,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),o(this._setupUI),this._container},t.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),a.remove(this._container),this._map=void 0},t.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",e),this._finish()},t.prototype._updateCamera=function(e){var t=new l(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy;this._map.fitBounds(t.toBounds(r),this.options.fitBoundsOptions,{geolocateSource:!0})},t.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},t.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",e),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(e){var t=this;!1!==e&&(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=a.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new p(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==t._watchState||(t._watchState="BACKGROUND",t._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),t._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),t.fire("trackuserlocationend"))}))},t.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},t.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},t}(i);t.exports=d},{"../../geo/lng_lat":65,"../../util/dom":270,"../../util/evented":271,"../../util/util":285,"../../util/window":265,"../marker":259}],246:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=function(){n.bindAll(["_updateLogo"],this)};i.prototype.onAdd=function(e){this._map=e,this._container=o.create("div","mapboxgl-ctrl");var t=o.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},i.prototype.onRemove=function(){o.remove(this._container),this._map.off("sourcedata",this._updateLogo)},i.prototype.getDefaultPosition=function(){return"bottom-left"},i.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},i.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},t.exports=i},{"../../util/dom":270,"../../util/util":285}],247:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../handler/drag_rotate"),a=function(){var e=this;n.bindAll(["_rotateCompassArrow"],this),this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()}),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=o.create("span","mapboxgl-ctrl-compass-arrow",this._compass)};a.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},a.prototype.onAdd=function(e){return this._map=e,this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new i(e,{button:"left",element:this._compass}),this._handler.enable(),this._container},a.prototype.onRemove=function(){o.remove(this._container),this._map.off("rotate",this._rotateCompassArrow),delete this._map,this._handler.disable(),delete this._handler},a.prototype._createButton=function(e,t,r){var n=o.create("button",e,this._container);return n.type="button",n.setAttribute("aria-label",t),n.addEventListener("click",r),n},t.exports=a},{"../../util/dom":270,"../../util/util":285,"../handler/drag_rotate":253}],248:[function(e,t,r){"use strict";function o(e,t,r){var o=r&&r.maxWidth||100,a=e._container.clientHeight/2,s=i(e.unproject([0,a]),e.unproject([o,a]));if(r&&"imperial"===r.unit){var c=3.2808*s;c>5280?n(t,o,c/5280,"mi"):n(t,o,c,"ft")}else if(r&&"nautical"===r.unit){var l=s/1852;n(t,o,l,"nm")}else n(t,o,s,"m")}function n(e,t,r,o){var n=a(r),i=n/r;"m"===o&&n>=1e3&&(n/=1e3,o="km"),e.style.width=t*i+"px",e.innerHTML=n+o}function i(e,t){var r=Math.PI/180,o=e.lat*r,n=t.lat*r,i=Math.sin(o)*Math.sin(n)+Math.cos(o)*Math.cos(n)*Math.cos((t.lng-e.lng)*r);return 6371e3*Math.acos(Math.min(i,1))}function a(e){var t=Math.pow(10,(""+Math.floor(e)).length-1),r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,t*r}var s=e("../../util/dom"),c=e("../../util/util"),l=function(e){this.options=e,c.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){o(this._map,this._container,this.options)},l.prototype.onAdd=function(e){return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},t.exports=l},{"../../util/dom":270,"../../util/util":285}],249:[function(e,t,r){"use strict"},{}],250:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../geo/lng_lat_bounds"),i=e("../../util/util"),a=e("../../util/window"),s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),i.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(e){e.shiftKey&&0===e.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),o.disableDrag(),this._startPos=o.mousePos(this._el,e),this._active=!0)},s.prototype._onMouseMove=function(e){var t=this._startPos,r=o.mousePos(this._el,e);this._box||(this._box=o.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var n=Math.min(t.x,r.x),i=Math.max(t.x,r.x),a=Math.min(t.y,r.y),s=Math.max(t.y,r.y);o.setTransform(this._box,"translate("+n+"px,"+a+"px)"),this._box.style.width=i-n+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(e){if(0===e.button){var t=this._startPos,r=o.mousePos(this._el,e),i=(new n).extend(this._map.unproject(t)).extend(this._map.unproject(r));this._finish(),t.x===r.x&&t.y===r.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(i,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:i})}},s.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag()},s.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},t.exports=s},{"../../geo/lng_lat_bounds":66,"../../util/dom":270,"../../util/util":285,"../../util/window":265}],251:[function(e,t,r){"use strict";var o=e("../../util/util"),n=function(e){this._map=e,o.bindAll(["_onDblClick","_onZoomEnd"],this)};n.prototype.isEnabled=function(){return!!this._enabled},n.prototype.isActive=function(){return!!this._active},n.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},n.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},n.prototype._onDblClick=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},n.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},t.exports=n},{"../../util/util":285}],252:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/window"),a=e("../../util/browser"),s=n.bezier(0,0,.3,1),c=function(e){this._map=e,this._el=e.getCanvasContainer(),n.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(i.document.addEventListener("touchmove",this._onMove),i.document.addEventListener("touchend",this._onTouchEnd)):(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onMouseUp)),i.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=o.mousePos(this._el,e),this._inertia=[[a.now(),this._pos]])},c.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e));var t=o.mousePos(this._el,e),r=this._map;r.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),t]),r.transform.setLocationAtPoint(r.transform.pointLocation(this._pos),t),this._fireEvent("drag",e),this._fireEvent("move",e),this._pos=t,e.preventDefault()}},c.prototype._onUp=function(e){var t=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",e),this._drainInertiaBuffer();var r=function(){t._map.moving=!1,t._fireEvent("moveend",e)},o=this._inertia;if(o.length<2)return void r();var n=o[o.length-1],i=o[0],a=n[1].sub(i[1]),c=(n[0]-i[0])/1e3;if(0===c||n[1].equals(i[1]))return void r();var l=a.mult(.3/c),p=l.mag();p>1400&&(p=1400,l._unit()._mult(p));var u=p/750,d=l.mult(-u/2);this._map.panBy(d,{duration:1e3*u,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),i.document.removeEventListener("mousemove",this._onMove),i.document.removeEventListener("mouseup",this._onMouseUp),i.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._ignoreEvent=function(e){var t=this._map;return!(!t.boxZoom||!t.boxZoom.isActive())||!(!t.dragRotate||!t.dragRotate.isActive())||(e.touches?e.touches.length>1:!!e.ctrlKey||"mousemove"!==e.type&&e.button&&0!==e.button)},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>0&&t-e[0][0]>160;)e.shift()},t.exports=c},{"../../util/browser":263,"../../util/dom":270,"../../util/util":285,"../../util/window":265}],253:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/window"),a=e("../../util/browser"),s=n.bezier(0,0,.25,1),c=function(e,t){this._map=e,this._el=t.element||e.getCanvasContainer(),this._button=t.button||"right",this._bearingSnap=t.bearingSnap||0,this._pitchWithRotate=!1!==t.pitchWithRotate,n.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var t=e.ctrlKey?0:2,r=e.button;if(void 0!==i.InstallTrigger&&2===e.button&&e.ctrlKey&&i.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(r=0),r!==t)return}else if(e.ctrlKey||0!==e.button)return;o.disableDrag(),i.document.addEventListener("mousemove",this._onMove,{capture:!0}),i.document.addEventListener("mouseup",this._onUp),i.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[a.now(),this._map.getBearing()]],this._startPos=this._pos=o.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},c.prototype._onMove=function(e){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e));var t=this._map;t.stop();var r=this._pos,n=o.mousePos(this._el,e),i=.8*(r.x-n.x),s=-.5*(r.y-n.y),c=t.getBearing()-i,l=t.getPitch()-s,p=this._inertia,u=p[p.length-1];this._drainInertiaBuffer(),p.push([a.now(),t._normalizeBearing(c,u[1])]),t.transform.bearing=c,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.transform.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),this._pos=n},c.prototype._onUp=function(e){var t=this;if(i.document.removeEventListener("mousemove",this._onMove,{capture:!0}),i.document.removeEventListener("mouseup",this._onUp),i.removeEventListener("blur",this._onUp),o.enableDrag(),this.isActive()){this._active=!1,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),a=this._inertia,c=function(){Math.abs(n)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):(t._map.moving=!1,t._fireEvent("moveend",e)),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(a.length<2)return void c();var l=a[0],p=a[a.length-1],u=a[a.length-2],d=r._normalizeBearing(n,u[1]),h=p[1]-l[1],m=h<0?-1:1,y=(p[0]-l[0])/1e3;if(0===h||0===y)return void c();var f=Math.abs(h*(.25/y));f>180&&(f=180);var v=f/180;d+=m*f*(v/2),Math.abs(r._normalizeBearing(d,0))<this._bearingSnap&&(d=r._normalizeBearing(0,d)),r.rotateTo(d,{duration:1e3*v,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>0&&t-e[0][0]>160;)e.shift()},t.exports=c},{"../../util/browser":263,"../../util/dom":270,"../../util/util":285,"../../util/window":265}],254:[function(e,t,r){"use strict";function o(e){return e*(2-e)}var n=e("../../util/util"),i=function(e){this._map=e,this._el=e.getCanvasContainer(),n.bindAll(["_onKeyDown"],this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},i.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,n=0,i=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?n=-1:(a=1,e.preventDefault());break;default:return}var s=this._map,c=s.getZoom(),l={duration:300,delayEndEvents:500,easing:o,zoom:t?Math.round(c)+t*(e.shiftKey?2:1):c,bearing:s.getBearing()+15*r,pitch:s.getPitch()+10*n,offset:[100*-i,100*-a],center:s.getCenter()};s.easeTo(l,{originalEvent:e})}},t.exports=i},{"../../util/util":285}],255:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/browser"),a=e("../../util/window"),s=a.navigator.userAgent.toLowerCase(),c=-1!==s.indexOf("firefox"),l=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom"),p=function(e){this._map=e,this._el=e.getCanvasContainer(),n.bindAll(["_onWheel","_onTimeout"],this)};p.prototype.isEnabled=function(){return!!this._enabled},p.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},p.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},p.prototype._onWheel=function(e){var t=0;"wheel"===e.type?(t=e.deltaY,c&&e.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(t/=i.devicePixelRatio),e.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,l&&(t/=3));var r=i.now(),n=r-(this._time||0);this._pos=o.mousePos(this._el,e),this._time=r,0!==t&&t%4.000244140625==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(n*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},p.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},p.prototype._zoom=function(e,t){if(0!==e){var r=this._map,o=2/(1+Math.exp(-Math.abs(e/100)));e<0&&0!==o&&(o=1/o);var n=r.ease?r.ease.to:r.transform.scale,i=r.transform.scaleZoom(n*o);r.zoomTo(i,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?r.getCenter():r.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:t})}},t.exports=p},{"../../util/browser":263,"../../util/dom":270,"../../util/util":285,"../../util/window":265}],256:[function(e,t,r){"use strict";var o=e("../../util/dom"),n=e("../../util/util"),i=e("../../util/window"),a=e("../../util/browser"),s=n.bezier(0,0,.15,1),c=function(e){this._map=e,this._el=e.getCanvasContainer(),n.bindAll(["_onStart","_onMove","_onEnd"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},c.prototype.disableRotation=function(){this._rotationDisabled=!0},c.prototype.enableRotation=function(){this._rotationDisabled=!1},c.prototype._onStart=function(e){if(2===e.touches.length){var t=o.mousePos(this._el,e.touches[0]),r=o.mousePos(this._el,e.touches[1]);this._startVec=t.sub(r),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],i.document.addEventListener("touchmove",this._onMove,!1),i.document.addEventListener("touchend",this._onEnd,!1)}},c.prototype._onMove=function(e){if(2===e.touches.length){var t=o.mousePos(this._el,e.touches[0]),r=o.mousePos(this._el,e.touches[1]),n=t.add(r).div(2),i=t.sub(r),s=i.mag()/this._startVec.mag(),c=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var p={duration:0,around:l.unproject(n)};"rotate"===this._gestureIntent&&(p.bearing=this._startBearing+c),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(p.zoom=l.transform.scaleZoom(this._startScale*s)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),s,n]),l.easeTo(p,{originalEvent:e})}else{var u=Math.abs(1-s)>.15;Math.abs(c)>10?this._gestureIntent="rotate":u&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}e.preventDefault()}},c.prototype._onEnd=function(e){i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,r=this._map;if(t.length<2)return void r.snapToNorth({},{originalEvent:e});var o=t[t.length-1],n=t[0],a=r.transform.scaleZoom(this._startScale*o[1]),c=r.transform.scaleZoom(this._startScale*n[1]),l=a-c,p=(o[0]-n[0])/1e3,u=o[2];if(0===p||a===c)return void r.snapToNorth({},{originalEvent:e});var d=.15*l/p;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var h=1e3*Math.abs(d/(12*.15)),m=a+d*h/2e3;m<0&&(m=0),r.easeTo({zoom:m,duration:h,easing:s,around:this._aroundCenter?r.getCenter():r.unproject(u)},{originalEvent:e})},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>2&&t-e[0][0]>160;)e.shift()},t.exports=c},{"../../util/browser":263,"../../util/dom":270,"../../util/util":285,"../../util/window":265}],257:[function(e,t,r){"use strict";var o=e("../util/util"),n=e("../util/window"),i=e("../util/throttle"),a=function(){o.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=i(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(e){return this._map=e,n.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return n.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(e){var t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,o=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,o),i=Math.round(t.lng*n)/n,a=Math.round(t.lat*n)/n,s=this._map.getBearing(),c=this._map.getPitch(),l="";return l+=e?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||c)&&(l+="/"+Math.round(10*s)/10),c&&(l+="/"+Math.round(c)),l},a.prototype._onHashChange=function(){var e=n.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var e=this.getHashString();n.history.replaceState("","",e)},t.exports=a},{"../util/throttle":282,"../util/util":285,"../util/window":265}],258:[function(e,t,r){"use strict";function o(e){e.parentNode&&e.parentNode.removeChild(e)}var n=e("../util/util"),i=e("../util/browser"),a=e("../util/window"),s=e("../util/window"),c=s.HTMLImageElement,l=s.HTMLElement,p=e("../util/dom"),u=e("../util/ajax"),d=e("../style/style"),h=e("../style/evaluation_parameters"),m=e("../render/painter"),y=e("../geo/transform"),f=e("./hash"),v=e("./bind_handlers"),g=e("./camera"),_=e("../geo/lng_lat"),w=e("../geo/lng_lat_bounds"),b=e("@mapbox/point-geometry"),x=e("./control/attribution_control"),S=e("./control/logo_control"),k=e("@mapbox/mapbox-gl-supported"),P=e("../util/image"),E=P.RGBAImage;e("./events");var C={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},A=function(e){function t(t){var r=this;if(t=n.extend({},C,t),null!=t.minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new y(t.minZoom,t.maxZoom,t.renderWorldCopies);e.call(this,o,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossFadingFactor=1;var i=t.transformRequest;if(this._transformRequest=i?function(e,t){return i(e,t)||{url:e}}:function(e){return{url:e}},"string"==typeof t.container){var s=a.document.getElementById(t.container);if(!s)throw new Error("Container '"+t.container+"' not found.");this._container=s}else{if(!(t.container instanceof l))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}t.maxBounds&&this.setMaxBounds(t.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("move",function(){r._rerender()}),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),v(this,t),this._hash=t.hash&&(new f).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new x),this.addControl(new S,t.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return t.prototype.addControl=function(e,t){void 0===t&&e.getDefaultPosition&&(t=e.getDefaultPosition()),void 0===t&&(t="top-right");var r=e.onAdd(this),o=this._controlPositions[t];return-1!==t.indexOf("bottom")?o.insertBefore(r,o.firstChild):o.appendChild(r),this},t.prototype.removeControl=function(e){return e.onRemove(this),this},t.prototype.resize=function(){var e=this._containerDimensions(),t=e[0],r=e[1];return this._resizeCanvas(t,r),this.transform.resize(t,r),this.painter.resize(t,r),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var e=new w(this.transform.pointLocation(new b(0,this.transform.height)),this.transform.pointLocation(new b(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),e},t.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new w([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},t.prototype.setMaxBounds=function(e){if(e){var t=w.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},t.prototype.setMinZoom=function(e){if((e=null===e||void 0===e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(e){if((e=null===e||void 0===e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(e){return this.transform.locationPoint(_.convert(e))},t.prototype.unproject=function(e){return this.transform.pointLocation(b.convert(e))},t.prototype.on=function(t,r,o){var i=this;if(void 0===o)return e.prototype.on.call(this,t,r);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1;return{layer:r,listener:o,delegates:{mousemove:function(a){var s=i.getLayer(r)?i.queryRenderedFeatures(a.point,{layers:[r]}):[];s.length?e||(e=!0,o.call(i,n.extend({features:s},a,{type:t}))):e=!1},mouseout:function(){e=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:r,listener:o,delegates:{mousemove:function(e){(i.getLayer(r)?i.queryRenderedFeatures(e.point,{layers:[r]}):[]).length?a=!0:a&&(a=!1,o.call(i,n.extend({},e,{type:t})))},mouseout:function(e){a&&(a=!1,o.call(i,n.extend({},e,{type:t})))}}}}var s=function(e){var t=i.getLayer(r)?i.queryRenderedFeatures(e.point,{layers:[r]}):[];t.length&&o.call(i,n.extend({features:t},e))};return{layer:r,listener:o,delegates:(c={},c[t]=s,c)};var c}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a);for(var s in a.delegates)i.on(s,a.delegates[s]);return this},t.prototype.off=function(t,r,o){var n=this;if(void 0===o)return e.prototype.off.call(this,t,r);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],a=0;a<i.length;a++){var s=i[a];if(s.layer===r&&s.listener===o){for(var c in s.delegates)n.off(c,s.delegates[c]);return i.splice(a,1),n}}return this},t.prototype.queryRenderedFeatures=function(e,t){return 2===arguments.length?(e=arguments[0],t=arguments[1]):1===arguments.length&&function(e){return e instanceof b||Array.isArray(e)}(arguments[0])?(e=arguments[0],t={}):1===arguments.length?(e=void 0,t=arguments[0]):(e=void 0,t={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),t,this.transform.zoom,this.transform.angle):[]},t.prototype._makeQueryGeometry=function(e){var t=this;void 0===e&&(e=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var r;if(e instanceof b||"number"==typeof e[0])r=[b.convert(e)];else{var o=[b.convert(e[0]),b.convert(e[1])];r=[o[0],new b(o[1].x,o[0].y),o[1],new b(o[0].x,o[1].y),o[0]]}return r=r.map(function(e){return t.transform.pointCoordinate(e)})},t.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},t.prototype.setStyle=function(e,t){if((!t||!1!==t.diff&&!t.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){n.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new d(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0),this},t.prototype.isSourceLoaded=function(e){var t=this.style&&this.style.sourceCaches[e];return void 0===t?void this.fire("error",{error:new Error("There is no source with ID '"+e+"'")}):t.loaded()},t.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t],o=r._tiles;for(var n in o){var i=o[n];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},t.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},t.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0),this},t.prototype.getSource=function(e){return this.style.getSource(e)},t.prototype.addImage=function(e,t,r){void 0===r&&(r={});var o=r.pixelRatio;void 0===o&&(o=1);var n=r.sdf;if(void 0===n&&(n=!1),t instanceof c){var a=i.getImageData(t),s=a.width,l=a.height,p=a.data;this.style.addImage(e,{data:new E({width:s,height:l},p),pixelRatio:o,sdf:n})}else{if(void 0===t.width||void 0===t.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var u=t.width,d=t.height,h=t.data;this.style.addImage(e,{data:new E({width:u,height:d},h.slice(0)),pixelRatio:o,sdf:n})}},t.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire("error",{error:new Error("Missing required image id")}),!1)},t.prototype.removeImage=function(e){this.style.removeImage(e)},t.prototype.loadImage=function(e,t){u.getImage(this._transformRequest(e,u.ResourceType.Image),t)},t.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0),this},t.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0),this},t.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0),this},t.prototype.getLayer=function(e){return this.style.getLayer(e)},t.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0),this},t.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0),this},t.prototype.getFilter=function(e){return this.style.getFilter(e)},t.prototype.setPaintProperty=function(e,t,r){return this.style.setPaintProperty(e,t,r),this._update(!0),this},t.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},t.prototype.setLayoutProperty=function(e,t,r){return this.style.setLayoutProperty(e,t,r),this._update(!0),this},t.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},t.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),[e,t]},t.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSContainer=p.create("div","mapboxgl-missing-css",e)).innerHTML="Missing Mapbox GL JS CSS";var t=this._canvasContainer=p.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=p.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var o=this._controlContainer=p.create("div","mapboxgl-control-container",e),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){n[e]=p.create("div","mapboxgl-ctrl-"+e,o)})},t.prototype._resizeCanvas=function(e,t){var r=a.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"},t.prototype._setupPainter=function(){var e=n.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},k.webGLContextAttributes),t=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);if(!t)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new m(t,this.transform)},t.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(i.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:e})},t.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(e){this.style&&(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender())},t.prototype._render=function(){this.isEasing()&&this._updateEase();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var t=this.transform.zoom,r=i.now();this.style.zoomHistory.update(t,r);var o=new h(t,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:n.extend({duration:300,delay:0},this.style.stylesheet.transition)}),a=o.crossFadingFactor();1===a&&a===this._crossFadingFactor||(e=!0,this._crossFadingFactor=a),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty||this.isEasing())&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),i.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),o(this._canvasContainer),o(this._controlContainer),o(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){var e=this;this.style&&!this._frameId&&(this._frameId=i.frame(function(){e._frameId=null,e._render()}))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},r.showTileBoundaries.get=function(){return!!this._showTileBoundaries},r.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},r.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},r.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},r.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},r.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},r.repaint.get=function(){return!!this._repaint},r.repaint.set=function(e){this._repaint=e,this._update()},r.vertices.get=function(){return!!this._vertices},r.vertices.set=function(e){this._vertices=e,this._update()},t.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(e.dataType+"data",e)},t.prototype._onDataLoading=function(e){this.fire(e.dataType+"dataloading",e)},Object.defineProperties(t.prototype,r),t}(g);t.exports=A},{"../geo/lng_lat":65,"../geo/lng_lat_bounds":66,"../geo/transform":67,"../render/painter":93,"../style/evaluation_parameters":193,"../style/style":201,"../util/ajax":262,"../util/browser":263,"../util/dom":270,"../util/image":274,"../util/util":285,"../util/window":265,"./bind_handlers":241,"./camera":242,"./control/attribution_control":243,"./control/logo_control":246,"./events":249,"./hash":257,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],259:[function(e,t,r){"use strict";var o=e("../util/dom"),n=e("../geo/lng_lat"),i=e("@mapbox/point-geometry"),a=e("../util/smart_wrap"),s=e("../util/util"),c=s.bindAll,l=function(e,t){if(this._offset=i.convert(t&&t.offset||[0,0]),c(["_update","_onMapClick"],this),!e){e=o.create("div");var r=o.createNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"height","41px"),r.setAttributeNS(null,"width","27px"),r.setAttributeNS(null,"viewBox","0 0 27 41");var n=o.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var a=o.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=o.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],p=0,u=l;p<u.length;p+=1){var d=u[p],h=o.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",d.rx),h.setAttributeNS(null,"ry",d.ry),s.appendChild(h)}var m=o.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"fill","#3FB1CE");var y=o.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),m.appendChild(y);var f=o.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var v=o.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(v);var g=o.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var _=o.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var w=o.createNS("http://www.w3.org/2000/svg","circle");w.setAttributeNS(null,"fill","#000000"),w.setAttributeNS(null,"opacity","0.25"),w.setAttributeNS(null,"cx","5.5"),w.setAttributeNS(null,"cy","5.5"),w.setAttributeNS(null,"r","5.4999962");var b=o.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),_.appendChild(w),_.appendChild(b),a.appendChild(s),a.appendChild(m),a.appendChild(f),a.appendChild(g),a.appendChild(_),r.appendChild(a),e.appendChild(r)}e.classList.add("mapboxgl-marker"),this._element=e,this._popup=null};l.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},l.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),o.remove(this._element),this._popup&&this._popup.remove(),this},l.prototype.getLngLat=function(){return this._lngLat},l.prototype.setLngLat=function(e){return this._lngLat=n.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},l.prototype.getElement=function(){return this._element},l.prototype.setPopup=function(e){return this._popup&&(this._popup.remove(),this._popup=null),e&&("offset"in e.options||(e.options.offset=this._offset),this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},l.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},l.prototype.getPopup=function(){return this._popup},l.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},l.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),o.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},l.prototype.getOffset=function(){return this._offset},l.prototype.setOffset=function(e){return this._offset=i.convert(e),this._update(),this},t.exports=l},{"../geo/lng_lat":65,"../util/dom":270,"../util/smart_wrap":280,"../util/util":285,"@mapbox/point-geometry":4}],260:[function(e,t,r){"use strict";function o(e){if(e){if("number"==typeof e){var t=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{top:new c(0,e),"top-left":new c(t,t),"top-right":new c(-t,t),bottom:new c(0,-e),"bottom-left":new c(t,-t),"bottom-right":new c(-t,-t),left:new c(e,0),right:new c(-e,0)}}if(e instanceof c||Array.isArray(e)){var r=c.convert(e);return{top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{top:c.convert(e.top||[0,0]),"top-left":c.convert(e["top-left"]||[0,0]),"top-right":c.convert(e["top-right"]||[0,0]),bottom:c.convert(e.bottom||[0,0]),"bottom-left":c.convert(e["bottom-left"]||[0,0]),"bottom-right":c.convert(e["bottom-right"]||[0,0]),left:c.convert(e.left||[0,0]),right:c.convert(e.right||[0,0])}}return o(new c(0,0))}var n=e("../util/util"),i=e("../util/evented"),a=e("../util/dom"),s=e("../geo/lng_lat"),c=e("@mapbox/point-geometry"),l=e("../util/window"),p=e("../util/smart_wrap"),u={closeButton:!0,closeOnClick:!0},d=function(e){function t(t){e.call(this),this.options=n.extend(Object.create(u),t),n.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(e){return this._lngLat=s.convert(e),this._pos=null,this._update(),this},t.prototype.setText=function(e){return this.setDOMContent(l.document.createTextNode(e))},t.prototype.setHTML=function(e){var t,r=l.document.createDocumentFragment(),o=l.document.createElement("body");for(o.innerHTML=e;t=o.firstChild;)r.appendChild(t);return this.setDOMContent(r)},t.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},t.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=p(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),t=this.options.anchor,r=o(this.options.offset);if(!t){var n=this._container.offsetWidth,i=this._container.offsetHeight;t=e.y+r.bottom.y<i?["top"]:e.y>this._map.transform.height-i?["bottom"]:[],e.x<n/2?t.push("left"):e.x>this._map.transform.width-n/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var s=e.add(r[t]).round(),c={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var u in c)l.remove("mapboxgl-popup-anchor-"+u);l.add("mapboxgl-popup-anchor-"+t),a.setTransform(this._container,c[t]+" translate("+s.x+"px,"+s.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(i);t.exports=d},{"../geo/lng_lat":65,"../util/dom":270,"../util/evented":271,"../util/smart_wrap":280,"../util/util":285,"../util/window":265,"@mapbox/point-geometry":4}],261:[function(e,t,r){"use strict";var o=e("./util"),n=e("./web_worker_transfer"),i=n.serialize,a=n.deserialize,s=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.callbackID=0,o.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};s.prototype.send=function(e,t,r,o){var n=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[n]=r);var a=[];this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:e,id:String(n),data:i(t,a)},a)},s.prototype.receive=function(e){var t,r=this,o=e.data,n=o.id;if(!o.targetMapId||this.mapId===o.targetMapId){var s=function(e,t){var o=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(n),error:e?String(e):null,data:i(t,o)},o)};if("<response>"===o.type)t=this.callbacks[o.id],delete this.callbacks[o.id],t&&o.error?t(new Error(o.error)):t&&t(null,a(o.data));else if(void 0!==o.id&&this.parent[o.type])this.parent[o.type](o.sourceMapId,a(o.data),s);else if(void 0!==o.id&&this.parent.getWorkerSource){var c=o.type.split("."),l=this.parent.getWorkerSource(o.sourceMapId,c[0]);l[c[1]](a(o.data),s)}else this.parent[o.type](a(o.data))}},s.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},t.exports=s},{"./util":285,"./web_worker_transfer":288}],262:[function(e,t,r){"use strict";function o(e){var t=new i.XMLHttpRequest;t.open("GET",e.url,!0);for(var r in e.headers)t.setRequestHeader(r,e.headers[r]);return t.withCredentials="include"===e.credentials,t}function n(e){var t=i.document.createElement("a");return t.href=e,t.protocol===i.document.location.protocol&&t.host===i.document.location.host}var i=e("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};r.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(e){function t(t,r){e.call(this,t),this.status=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);r.getJSON=function(e,t){var r=o(e);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if(r.status>=200&&r.status<300&&r.response){var e;try{e=JSON.parse(r.response)}catch(e){return t(e)}t(null,e)}else t(new s(r.statusText,r.status))},r.send(),r},r.getArrayBuffer=function(e,t){var r=o(e);return r.responseType="arraybuffer",r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){var e=r.response;if(0===e.byteLength&&200===r.status)return t(new Error("http status 200 returned without content."));r.status>=200&&r.status<300&&r.response?t(null,{data:e,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):t(new s(r.statusText,r.status))},r.send(),r};r.getImage=function(e,t){return r.getArrayBuffer(e,function(e,r){if(e)t(e);else if(r){var o=new i.Image,n=i.URL||i.webkitURL;o.onload=function(){t(null,o),n.revokeObjectURL(o.src)};var a=new i.Blob([new Uint8Array(r.data)],{type:"image/png"});o.cacheControl=r.cacheControl,o.expires=r.expires,o.src=r.data.byteLength?n.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},r.getVideo=function(e,t){var r=i.document.createElement("video");r.onloadstart=function(){t(null,r)};for(var o=0;o<e.length;o++){var a=i.document.createElement("source");n(e[o])||(r.crossOrigin="Anonymous"),a.src=e[o],r.appendChild(a)}return r}},{"./window":265}],263:[function(e,t,r){"use strict";var o=e("./window"),n=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),i=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,a=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame;t.exports={now:n,frame:function(e){return i(e)},cancelFrame:function(e){return a(e)},getImageData:function(e){var t=o.document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},hardwareConcurrency:o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},supportsWebp:!1};var s=o.document.createElement("img");s.onload=function(){t.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":265}],264:[function(e,t,r){"use strict";var o=e("webworkify"),n=e("../window"),i=n.URL.createObjectURL(new o(e("../../source/worker"),{bare:!0}));t.exports=function(){return new n.Worker(i)}},{"../../source/worker":121,"../window":265,webworkify:39}],265:[function(e,t,r){"use strict";t.exports=self},{}],266:[function(e,t,r){"use strict";function o(e,t){return t.area-e.area}var n=e("quickselect"),i=e("./util").calculateSignedArea;t.exports=function(e,t){var r=e.length;if(r<=1)return[e];for(var a,s,c=[],l=0;l<r;l++){var p=i(e[l]);0!==p&&(e[l].area=Math.abs(p),void 0===s&&(s=p<0),s===p<0?(a&&c.push(a),a=[e[l]]):a.push(e[l]))}if(a&&c.push(a),t>1)for(var u=0;u<c.length;u++)c[u].length<=t||(n(c[u],t,1,c[u].length-1,o),c[u]=c[u].slice(0,t));return c}},{"./util":285,quickselect:31}],267:[function(e,t,r){"use strict";var o={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};t.exports=o},{}],268:[function(e,t,r){"use strict";var o=function(e){var t=this;this._stringToNumber={},this._numberToString=[];for(var r=0;r<e.length;r++){var o=e[r];t._stringToNumber[o]=r,t._numberToString[r]=o}};o.prototype.encode=function(e){return this._stringToNumber[e]},o.prototype.decode=function(e){return this._numberToString[e]},t.exports=o},{}],269:[function(e,t,r){"use strict";var o=e("./util"),n=e("./actor"),i=function(e,t){var r=this;this.workerPool=e,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var s=i[a],c=new n(s,t,r.id);c.name="Worker "+a,r.actors.push(c)}};i.prototype.broadcast=function(e,t,r){r=r||function(){},o.asyncAll(this.actors,function(r,o){r.send(e,t,o)},r)},i.prototype.send=function(e,t,r,o){return("number"!=typeof o||isNaN(o))&&(o=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[o].send(e,t,r),o},i.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},t.exports=i},{"./actor":261,"./util":285}],270:[function(e,t,r){"use strict";function o(e){for(var t=0;t<e.length;t++)if(e[t]in s)return e[t];return e[0]}var n=e("@mapbox/point-geometry"),i=e("./window");r.create=function(e,t,r){var o=i.document.createElement(e);return t&&(o.className=t),r&&r.appendChild(o),o},r.createNS=function(e,t){return i.document.createElementNS(e,t)};var a,s=i.document.documentElement.style,c=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){c&&(a=s[c],s[c]="none")},r.enableDrag=function(){c&&(s[c]=a)};var l=o(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[l]=t};var p=function(e){e.preventDefault(),e.stopPropagation(),i.removeEventListener("click",p,!0)};r.suppressClick=function(){i.addEventListener("click",p,!0),i.setTimeout(function(){i.removeEventListener("click",p,!0)},0)},r.mousePos=function(e,t){var r=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new n(t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop)},r.touchPos=function(e,t){for(var r=e.getBoundingClientRect(),o=[],i="touchend"===t.type?t.changedTouches:t.touches,a=0;a<i.length;a++)o.push(new n(i[a].clientX-r.left-e.clientLeft,i[a].clientY-r.top-e.clientTop));return o},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":265,"@mapbox/point-geometry":4}],271:[function(e,t,r){"use strict";function o(e,t,r){r[e]=r[e]||[],r[e].push(t)}function n(e,t,r){if(r&&r[e]){var o=r[e].indexOf(t);-1!==o&&r[e].splice(o,1)}}var i=e("./util"),a=function(){};a.prototype.on=function(e,t){return this._listeners=this._listeners||{},o(e,t,this._listeners),this},a.prototype.off=function(e,t){return n(e,t,this._listeners),n(e,t,this._oneTimeListeners),this},a.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},o(e,t,this._oneTimeListeners),this},a.prototype.fire=function(e,t){var r=this;if(this.listens(e)){t=i.extend({},t,{type:e,target:this});for(var o=this._listeners&&this._listeners[e]?this._listeners[e].slice():[],a=0,s=o;a<s.length;a+=1)s[a].call(r,t);for(var c=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[],l=0,p=c;l<p.length;l+=1){var u=p[l];n(e,u,r._oneTimeListeners),u.call(r,t)}this._eventedParent&&this._eventedParent.fire(e,i.extend({},t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else i.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},a.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},a.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},t.exports=a},{"./util":285}],272:[function(e,t,r){"use strict";function o(e,t){return t.max-e.max}function n(e,t,r,o){this.p=new c(e,t),this.h=r,this.d=i(this.p,o),this.max=this.d+this.h*Math.SQRT2}function i(e,t){for(var r=!1,o=1/0,n=0;n<t.length;n++)for(var i=t[n],a=0,s=i.length,c=s-1;a<s;c=a++){var p=i[a],u=i[c];p.y>e.y!=u.y>e.y&&e.x<(u.x-p.x)*(e.y-p.y)/(u.y-p.y)+p.x&&(r=!r),o=Math.min(o,l(e,p,u))}return(r?1:-1)*Math.sqrt(o)}function a(e){for(var t=0,r=0,o=0,i=e[0],a=0,s=i.length,c=s-1;a<s;c=a++){var l=i[a],p=i[c],u=l.x*p.y-p.x*l.y;r+=(l.x+p.x)*u,o+=(l.y+p.y)*u,t+=3*u}return new n(r/t,o/t,0,e)}var s=e("tinyqueue"),c=e("@mapbox/point-geometry"),l=e("./intersection_tests").distToSegmentSquared;t.exports=function(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var i=1/0,l=1/0,p=-1/0,u=-1/0,d=e[0],h=0;h<d.length;h++){var m=d[h];(!h||m.x<i)&&(i=m.x),(!h||m.y<l)&&(l=m.y),(!h||m.x>p)&&(p=m.x),(!h||m.y>u)&&(u=m.y)}var y=p-i,f=u-l,v=Math.min(y,f),g=v/2,_=new s(null,o);if(0===v)return new c(i,l);for(var w=i;w<p;w+=v)for(var b=l;b<u;b+=v)_.push(new n(w+g,b+g,g,e));for(var x=a(e),S=_.length;_.length;){var k=_.pop();(k.d>x.d||!x.d)&&(x=k,r&&console.log("found best %d after %d probes",Math.round(1e4*k.d)/1e4,S)),k.max-x.d<=t||(g=k.h/2,_.push(new n(k.p.x-g,k.p.y-g,g,e)),_.push(new n(k.p.x+g,k.p.y-g,g,e)),_.push(new n(k.p.x-g,k.p.y+g,g,e)),_.push(new n(k.p.x+g,k.p.y+g,g,e)),S+=4)}return r&&(console.log("num probes: "+S),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":275,"@mapbox/point-geometry":4,tinyqueue:33}],273:[function(e,t,r){"use strict";var o,n=e("./worker_pool");t.exports=function(){return o||(o=new n),o}},{"./worker_pool":289}],274:[function(e,t,r){"use strict";function o(e,t,r,o){var n=t.width,i=t.height;if(o){if(o.length!==n*i*r)throw new RangeError("mismatched image size")}else o=new Uint8Array(n*i*r);return e.width=n,e.height=i,e.data=o,e}function n(e,t,r){var n=t.width,a=t.height;if(n!==e.width||a!==e.height){var s=o({},{width:n,height:a},r);i(e,s,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,a)},r),e.width=n,e.height=a,e.data=s.data}}function i(e,t,r,o,n,i){if(0===n.width||0===n.height)return t;if(n.width>e.width||n.height>e.height||r.x>e.width-n.width||r.y>e.height-n.height)throw new RangeError("out of range source coordinates for image copy");if(n.width>t.width||n.height>t.height||o.x>t.width-n.width||o.y>t.height-n.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,c=0;c<n.height;c++)for(var l=((r.y+c)*e.width+r.x)*i,p=((o.y+c)*t.width+o.x)*i,u=0;u<n.width*i;u++)s[p+u]=a[l+u];return t}var a=e("./web_worker_transfer"),s=a.register,c=function(e,t){o(this,e,1,t)};c.prototype.resize=function(e){n(this,e,1)},c.prototype.clone=function(){return new c({width:this.width,height:this.height},new Uint8Array(this.data))},c.copy=function(e,t,r,o,n){i(e,t,r,o,n,1)};var l=function(e,t){o(this,e,4,t)};l.prototype.resize=function(e){n(this,e,4)},l.prototype.clone=function(){return new l({width:this.width,height:this.height},new Uint8Array(this.data))},l.copy=function(e,t,r,o,n){i(e,t,r,o,n,4)},s("AlphaImage",c),s("RGBAImage",l),t.exports={AlphaImage:c,RGBAImage:l}},{"./web_worker_transfer":288}],275:[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<e.length;r++)if(h(t,e[r]))return!0;for(var o=0;o<t.length;o++)if(h(e,t[o]))return!0;return!!c(e,t)}function n(e,t,r){for(var o=0;o<e.length;o++)for(var n=e[o],i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var c=a[s];if(h(n,c))return!0;if(p(c,n,r))return!0}return!1}function i(e,t){if(1===e.length&&1===e[0].length)return d(t,e[0][0]);for(var r=0;r<t.length;r++)for(var o=t[r],n=0;n<o.length;n++)if(d(e,o[n]))return!0;for(var i=0;i<e.length;i++){for(var a=e[i],s=0;s<a.length;s++)if(d(t,a[s]))return!0;for(var l=0;l<t.length;l++)if(c(a,t[l]))return!0}return!1}function a(e,t,r){for(var o=0;o<t.length;o++)for(var n=t[o],i=0;i<e.length;i++){var a=e[i];if(a.length>=3)for(var c=0;c<n.length;c++)if(h(a,n[c]))return!0;if(s(a,n,r))return!0}return!1}function s(e,t,r){if(e.length>1){if(c(e,t))return!0;for(var o=0;o<t.length;o++)if(p(t[o],e,r))return!0}for(var n=0;n<e.length;n++)if(p(e[n],t,r))return!0;return!1}function c(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var o=e[r],n=e[r+1],i=0;i<t.length-1;i++){var a=t[i],s=t[i+1];if(l(o,n,a,s))return!0}return!1}function l(e,t,r,o){return y(e,r,o)!==y(t,r,o)&&y(e,t,r)!==y(e,t,o)}function p(e,t,r){var o=r*r;if(1===t.length)return e.distSqr(t[0])<o;for(var n=1;n<t.length;n++)if(u(e,t[n-1],t[n])<o)return!0;return!1}function u(e,t,r){var o=t.distSqr(r);if(0===o)return e.distSqr(t);var n=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/o;return n<0?e.distSqr(t):n>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(n)._add(t))}function d(e,t){for(var r,o,n,i=!1,a=0;a<e.length;a++){r=e[a];for(var s=0,c=r.length-1;s<r.length;c=s++)o=r[s],n=r[c],o.y>t.y!=n.y>t.y&&t.x<(n.x-o.x)*(t.y-o.y)/(n.y-o.y)+o.x&&(i=!i)}return i}function h(e,t){for(var r=!1,o=0,n=e.length-1;o<e.length;n=o++){var i=e[o],a=e[n];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}var m=e("./util"),y=m.isCounterClockwise;t.exports={multiPolygonIntersectsBufferedMultiPoint:n,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:o,distToSegmentSquared:u}},{"./util":285}],276:[function(e,t,r){"use strict";var o={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};t.exports=o},{}],277:[function(e,t,r){"use strict";var o=function(e,t){this.max=e,this.onRemove=t,this.reset()};o.prototype.reset=function(){var e=this;for(var t in e.data)e.onRemove(e.data[t]);return this.data={},this.order=[],this},o.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var r=this.getAndRemove(this.order[0]);r&&this.onRemove(r)}return this},o.prototype.has=function(e){return e in this.data},o.prototype.keys=function(){return this.order},o.prototype.getAndRemove=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},o.prototype.get=function(e){return this.has(e)?this.data[e]:null},o.prototype.remove=function(e){if(!this.has(e))return this;var t=this.data[e];return delete this.data[e],this.onRemove(t),this.order.splice(this.order.indexOf(e),1),this},o.prototype.setMaxSize=function(e){var t=this;for(this.max=e;this.order.length>this.max;){var r=t.getAndRemove(t.order[0]);r&&t.onRemove(r)}return this},t.exports=o},{}],278:[function(e,t,r){"use strict";function o(e,t){var r=a(c.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"/"!==r.path&&(e.path=""+r.path+e.path),!c.REQUIRE_ACCESS_TOKEN)return s(e);if(!(t=t||c.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+p);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+p);return e.params.push("access_token="+t),s(e)}function n(e){return 0===e.indexOf("mapbox:")}function i(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+(c.ACCESS_TOKEN||""))}function a(e){var t=e.match(d);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function s(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}var c=e("./config"),l=e("./browser"),p="See https://www.mapbox.com/api-documentation/#access-tokens";r.isMapboxURL=n,r.normalizeStyleURL=function(e,t){if(!n(e))return e;var r=a(e);return r.path="/styles/v1"+r.path,o(r,t)},r.normalizeGlyphsURL=function(e,t){if(!n(e))return e;var r=a(e);return r.path="/fonts/v1"+r.path,o(r,t)},r.normalizeSourceURL=function(e,t){if(!n(e))return e;var r=a(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),o(r,t)},r.normalizeSpriteURL=function(e,t,r,i){var c=a(e);return n(e)?(c.path="/styles/v1"+c.path+"/sprite"+t+r,o(c,i)):(c.path+=""+t+r,s(c))};var u=/(\.(png|jpg)\d*)(?=$)/;r.normalizeTileURL=function(e,t,r){if(!t||!n(t))return e;var o=a(e),c=l.devicePixelRatio>=2||512===r?"@2x":"",p=l.supportsWebp?".webp":"$1";return o.path=o.path.replace(u,""+c+p),i(o.params),s(o)};var d=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":263,"./config":267}],279:[function(e,t,r){"use strict";var o=e("./is_char_in_unicode_block");t.exports.allowsIdeographicBreaking=function(e){for(var t=0,o=e;t<o.length;t+=1){var n=o[t];if(!r.charAllowsIdeographicBreaking(n.charCodeAt(0)))return!1}return!0},t.exports.allowsVerticalWritingMode=function(e){for(var t=0,o=e;t<o.length;t+=1){var n=o[t];if(r.charHasUprightVerticalOrientation(n.charCodeAt(0)))return!0}return!1},t.exports.allowsLetterSpacing=function(e){for(var t=0,o=e;t<o.length;t+=1){var n=o[t];if(!r.charAllowsLetterSpacing(n.charCodeAt(0)))return!1}return!0},t.exports.charAllowsLetterSpacing=function(e){return!o.Arabic(e)&&!o["Arabic Supplement"](e)&&!o["Arabic Extended-A"](e)&&!o["Arabic Presentation Forms-A"](e)&&!o["Arabic Presentation Forms-B"](e)},t.exports.charAllowsIdeographicBreaking=function(e){return!(e<11904)&&(!!o["Bopomofo Extended"](e)||!!o.Bopomofo(e)||!!o["CJK Compatibility Forms"](e)||!!o["CJK Compatibility Ideographs"](e)||!!o["CJK Compatibility"](e)||!!o["CJK Radicals Supplement"](e)||!!o["CJK Strokes"](e)||!!o["CJK Symbols and Punctuation"](e)||!!o["CJK Unified Ideographs Extension A"](e)||!!o["CJK Unified Ideographs"](e)||!!o["Enclosed CJK Letters and Months"](e)||!!o["Halfwidth and Fullwidth Forms"](e)||!!o.Hiragana(e)||!!o["Ideographic Description Characters"](e)||!!o["Kangxi Radicals"](e)||!!o["Katakana Phonetic Extensions"](e)||!!o.Katakana(e)||!!o["Vertical Forms"](e)||!!o["Yi Radicals"](e)||!!o["Yi Syllables"](e))},r.charHasUprightVerticalOrientation=function(e){return 746===e||747===e||!(e<4352)&&(!!o["Bopomofo Extended"](e)||!!o.Bopomofo(e)||!(!o["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||!!o["CJK Compatibility Ideographs"](e)||!!o["CJK Compatibility"](e)||!!o["CJK Radicals Supplement"](e)||!!o["CJK Strokes"](e)||!(!o["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||!!o["CJK Unified Ideographs Extension A"](e)||!!o["CJK Unified Ideographs"](e)||!!o["Enclosed CJK Letters and Months"](e)||!!o["Hangul Compatibility Jamo"](e)||!!o["Hangul Jamo Extended-A"](e)||!!o["Hangul Jamo Extended-B"](e)||!!o["Hangul Jamo"](e)||!!o["Hangul Syllables"](e)||!!o.Hiragana(e)||!!o["Ideographic Description Characters"](e)||!!o.Kanbun(e)||!!o["Kangxi Radicals"](e)||!!o["Katakana Phonetic Extensions"](e)||!(!o.Katakana(e)||12540===e)||!(!o["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!o["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||!!o["Unified Canadian Aboriginal Syllabics"](e)||!!o["Unified Canadian Aboriginal Syllabics Extended"](e)||!!o["Vertical Forms"](e)||!!o["Yijing Hexagram Symbols"](e)||!!o["Yi Syllables"](e)||!!o["Yi Radicals"](e))},r.charHasNeutralVerticalOrientation=function(e){return!(!o["Latin-1 Supplement"](e)||167!==e&&169!==e&&174!==e&&177!==e&&188!==e&&189!==e&&190!==e&&215!==e&&247!==e)||!(!o["General Punctuation"](e)||8214!==e&&8224!==e&&8225!==e&&8240!==e&&8241!==e&&8251!==e&&8252!==e&&8258!==e&&8263!==e&&8264!==e&&8265!==e&&8273!==e)||!!o["Letterlike Symbols"](e)||!!o["Number Forms"](e)||!(!o["Miscellaneous Technical"](e)||!(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215))||!(!o["Control Pictures"](e)||9251===e)||!!o["Optical Character Recognition"](e)||!!o["Enclosed Alphanumerics"](e)||!!o["Geometric Shapes"](e)||!(!o["Miscellaneous Symbols"](e)||e>=9754&&e<=9759)||!(!o["Miscellaneous Symbols and Arrows"](e)||!(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243))||!!o["CJK Symbols and Punctuation"](e)||!!o.Katakana(e)||!!o["Private Use Area"](e)||!!o["CJK Compatibility Forms"](e)||!!o["Small Form Variants"](e)||!!o["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e},r.charHasRotatedVerticalOrientation=function(e){return!(r.charHasUprightVerticalOrientation(e)||r.charHasNeutralVerticalOrientation(e))}},{"./is_char_in_unicode_block":276}],280:[function(e,t,r){"use strict";var o=e("../geo/lng_lat");t.exports=function(e,t,r){if(e=new o(e.lng,e.lat),t){var n=new o(e.lng-360,e.lat),i=new o(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(t);r.locationPoint(n).distSqr(t)<a?e=n:r.locationPoint(i).distSqr(t)<a&&(e=i)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}},{"../geo/lng_lat":65}],281:[function(e,t,r){"use strict";function o(e,t){void 0===t&&(t=1);var r=0,o=0;return{members:e.map(function(e){var a=n(e.type),s=r=i(r,Math.max(t,a)),c=e.components||1;return o=Math.max(o,a),r+=a*c,{name:e.name,type:e.type,components:c,offset:s}}),size:i(r,Math.max(o,t)),alignment:t}}function n(e){return a[e].BYTES_PER_ELEMENT}function i(e,t){return Math.ceil(e/t)*t}var a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},s=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},c=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};c.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},c.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},c.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},c.prototype.clear=function(){this.length=0},c.prototype.resize=function(e){this.reserve(e),this.length=e},c.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},c.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},t.exports.StructArray=c,t.exports.Struct=s,t.exports.viewTypes=a,t.exports.createLayout=o},{}],282:[function(e,t,r){"use strict";t.exports=function(e,t){var r=!1,o=0,n=function(){o=0,r&&(e(),o=setTimeout(n,t),r=!1)};return function(){return r=!0,o||n(),o}}},{}],283:[function(e,t,r){"use strict";function o(e,t,r,o){function n(t,n,a){var l,p,u,d;if(a>=0&&a<=i)for(l=t;l<n;l++)p=Math.floor(l/i),u=(l%i+i)%i,0!==p&&!0!==o||(d=new c(r,p,e,u,a),s[d.key]=d)}void 0===o&&(o=!0);var i=1<<e,s={};return a(t[0],t[1],t[2],0,i,n),a(t[2],t[3],t[0],0,i,n),Object.keys(s).map(function(e){return s[e]})}function n(e,t){if(e.row>t.row){var r=e;e=t,t=r}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function i(e,t,r,o,n){var i=Math.max(r,Math.floor(t.y0)),a=Math.min(o,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var c=e.dx/e.dy,l=t.dx/t.dy,p=e.dx>0,u=t.dx<0,d=i;d<a;d++){var h=c*Math.max(0,Math.min(e.dy,d+p-e.y0))+e.x0,m=l*Math.max(0,Math.min(t.dy,d+u-t.y0))+t.x0;n(Math.floor(m),Math.ceil(h),d)}}function a(e,t,r,o,a,s){var c,l=n(e,t),p=n(t,r),u=n(r,e);l.dy>p.dy&&(c=l,l=p,p=c),l.dy>u.dy&&(c=l,l=u,u=c),p.dy>u.dy&&(c=p,p=u,u=c),l.dy&&i(u,l,o,a,s),p.dy&&i(u,p,o,a,s)}var s=(e("../geo/coordinate"),e("../source/tile_id")),c=s.OverscaledTileID;t.exports=o},{"../geo/coordinate":64,"../source/tile_id":117}],284:[function(e,t,r){"use strict";function o(e,t){return t.replace(/{([^{}]+)}/g,function(t,r){return r in e?String(e[r]):""})}t.exports=o},{}],285:[function(e,t,r){"use strict";var o=e("@mapbox/unitbezier"),n=e("../geo/coordinate");e("@mapbox/point-geometry");r.easeCubicInOut=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)},r.bezier=function(e,t,r,n){var i=new o(e,t,r,n);return function(e){return i.solve(e)}},r.ease=r.bezier(.25,.1,.25,1),r.clamp=function(e,t,r){return Math.min(r,Math.max(t,e))},r.wrap=function(e,t,r){var o=r-t,n=((e-t)%o+o)%o+t;return n===t?r:n},r.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var o=e.length,n=new Array(e.length),i=null;e.forEach(function(e,a){t(e,function(e,t){e&&(i=e),n[a]=t,0==--o&&r(i,n)})})},r.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},r.keysDifference=function(e,t){var r=[];for(var o in e)o in t||r.push(o);return r},r.extend=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var o=0,n=t;o<n.length;o+=1){var i=n[o];for(var a in i)e[a]=i[a]}return e},r.pick=function(e,t){for(var r={},o=0;o<t.length;o++){var n=t[o];n in e&&(r[n]=e[n])}return r};var i=1;r.uniqueId=function(){return i++},r.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},r.getCoordinatesCenter=function(e){for(var t=1/0,r=1/0,o=-1/0,i=-1/0,a=0;a<e.length;a++)t=Math.min(t,e[a].column),r=Math.min(r,e[a].row),o=Math.max(o,e[a].column),i=Math.max(i,e[a].row);var s=o-t,c=i-r,l=Math.max(s,c),p=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new n((t+o)/2,(r+i)/2,0).zoomTo(p)},r.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},r.mapObject=function(e,t,r){var o=this,n={};for(var i in e)n[i]=t.call(r||o,e[i],i,e);return n},r.filterObject=function(e,t,r){var o=this,n={};for(var i in e)t.call(r||o,e[i],i,e)&&(n[i]=e[i]);return n},r.deepEqual=function(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!r.deepEqual(e[o],t[o]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!r.deepEqual(e[n],t[n]))return!1;return!0}return e===t},r.clone=function(e){return Array.isArray(e)?e.map(r.clone):"object"==typeof e&&e?r.mapObject(e,r.clone):e},r.arraysIntersect=function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1};var a={};r.warnOnce=function(e){a[e]||("undefined"!=typeof console&&console.warn(e),a[e]=!0)},r.isCounterClockwise=function(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)},r.calculateSignedArea=function(e){for(var t=0,r=0,o=e.length,n=o-1,i=void 0,a=void 0;r<o;n=r++)i=e[r],a=e[n],t+=(a.x-i.x)*(i.y+a.y);return t},r.isClosedPolygon=function(e){if(e.length<4)return!1;var t=e[0],o=e[e.length-1];return!(Math.abs(t.x-o.x)>0||Math.abs(t.y-o.y)>0)&&Math.abs(r.calculateSignedArea(e))>.01},r.sphericalToCartesian=function(e){var t=e[0],r=e[1],o=e[2];return r+=90,r*=Math.PI/180,o*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(o),y:t*Math.sin(r)*Math.sin(o),z:t*Math.cos(o)}},r.parseCacheControl=function(e){var t=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,r={};if(e.replace(t,function(e,t,o,n){var i=o||n;return r[t]=!i||i.toLowerCase(),""}),r["max-age"]){var o=parseInt(r["max-age"],10);isNaN(o)?delete r["max-age"]:r["max-age"]=o}return r}},{"../geo/coordinate":64,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],286:[function(e,t,r){"use strict";var o=function(e,t,r,o){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=o,this.properties=e.properties,null!=e.id&&(this.id=e.id)},n={geometry:{}};n.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},n.geometry.set=function(e){this._geometry=e},o.prototype.toJSON=function(){var e=this,t={geometry:this.geometry};for(var r in e)"_geometry"!==r&&"_vectorTileFeature"!==r&&(t[r]=e[r]);return t},Object.defineProperties(o.prototype,n),t.exports=o},{}],287:[function(e,t,r){"use strict";var o=e("./script_detection");t.exports=function(e){for(var r="",n=0;n<e.length;n++){var i=e.charCodeAt(n+1)||null,a=e.charCodeAt(n-1)||null;i&&o.charHasRotatedVerticalOrientation(i)&&!t.exports.lookup[e[n+1]]||a&&o.charHasRotatedVerticalOrientation(a)&&!t.exports.lookup[e[n-1]]||!t.exports.lookup[e[n]]?r+=e[n]:r+=t.exports.lookup[e[n]]}return r},t.exports.lookup={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"}},{"./script_detection":279}],288:[function(e,t,r){"use strict";function o(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),_[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}function n(e,t){if(null===e||void 0===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof g)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var o=[],i=0,a=e;i<a.length;i+=1){var s=a[i];o.push(n(s,t))}return o}if("object"==typeof e){var c=e.constructor,l=c._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var p={};if(c.serialize)p._serialized=c.serialize(e,t);else for(var u in e)if(e.hasOwnProperty(u)&&!(_[l].omit.indexOf(u)>=0)){var d=e[u];p[u]=_[l].shallow.indexOf(u)>=0?d:n(d,t)}return{name:l,properties:p}}throw new Error("can't serialize object of type "+typeof e)}function i(e){if(null===e||void 0===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof g)return e;if(Array.isArray(e))return e.map(function(e){return i(e)});if("object"==typeof e){var t=e,r=t.name,o=t.properties;if(!r)throw new Error("can't deserialize object of anonymous class");var n=_[r],a=n.klass;if(!a)throw new Error("can't deserialize unregistered class "+r);if(a.deserialize)return a.deserialize(o._serialized);for(var s=Object.create(a.prototype),c=0,l=Object.keys(o);c<l.length;c+=1){var p=l[c];s[p]=_[r].shallow.indexOf(p)>=0?o[p]:i(o[p])}return s}throw new Error("can't deserialize object of type "+typeof e)}var a=e("grid-index"),s=e("../style-spec/util/color"),c=e("../style-spec/expression"),l=c.StylePropertyFunction,p=c.StyleExpression,u=c.StyleExpressionWithErrorHandling,d=c.ZoomDependentExpression,h=c.ZoomConstantExpression,m=e("../style-spec/expression/compound_expression"),y=m.CompoundExpression,f=e("../style-spec/expression/definitions"),v=e("./window"),g=v.ImageData,_={};o("Object",Object),a.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),r},a.deserialize=function(e){return new a(e)},o("Grid",a),o("Color",s),o("StylePropertyFunction",l),o("StyleExpression",p,{omit:["_evaluator"]}),o("StyleExpressionWithErrorHandling",u,{omit:["_evaluator"]}),o("ZoomDependentExpression",d),o("ZoomConstantExpression",h),o("CompoundExpression",y,{omit:["_evaluate"]});for(var w in f)f[w]._classRegistryKey||o("Expression_"+w,f[w]);t.exports={register:o,serialize:n,deserialize:i}},{"../style-spec/expression":142,"../style-spec/expression/compound_expression":126,"../style-spec/expression/definitions":134,"../style-spec/util/color":165,"./window":265,"grid-index":23}],289:[function(e,t,r){"use strict";var o=e("./web_worker"),n=function(){this.active={}};n.prototype.acquire=function(t){var r=this;if(!this.workers){var n=e("../").workerCount;for(this.workers=[];this.workers.length<n;)r.workers.push(new o)}return this.active[t]=!0,this.workers.slice()},n.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},t.exports=n},{"../":76,"./web_worker":264}]},{},[76])(76)})}).call(t,r(5))},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(9),i=r.n(n),a=r(30),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),c=function(){function e(){o(this,e),this.db=new a.a("pois"),this.db.createIndex({index:{fields:[{query:"asc"}]}}).catch(function(e){console.log(e)})}return s(e,[{key:"loadPOISfromPouchDB",value:function(e){return this.db.find({selector:{query:e},limit:1}).then(function(e){return e.docs&&e.docs.length>0?e.docs[0]:null})}},{key:"savePOIsToPouchDB",value:function(e,t){var r=this;return this.loadPOISfromPouchDB(e).then(function(o){if(o)return o.pois=t,r.db.put(o);var n={query:e,pois:t};return r.db.post(n)}).then(function(e){return t})}},{key:"searchPOIs",value:function(e,t){var r=this;return console.log("POI Search: "+e),this.loadPOISfromPouchDB(e).then(function(t){if(t)return console.log("Returning results from cache."),t.pois;var o={text:e,skipTTS:!0};return i()({method:"POST",url:"/api/conversation/converse",data:o}).then(function(t){var o=[];return t.data.card&&(o=t.data.card.content),r.savePOIsToPouchDB(e,o)})})}}]),e}();t.a=c},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",_id:"cafe-steam-rochester-2",properties:{name:"Cafe Steam",label:[{value:"Cafe Steam"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"315 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072084160"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.463493,44.019878]}},{type:"Feature",_id:"chesters-kitchen-and-bar-rochester",properties:{name:"Chester's Kitchen and Bar",label:[{value:"Chester's Kitchen and Bar"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Lf8EOD30O9UzvVtcMBh1gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074241211"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"pasquales-neighborhood-pizzeria-rochester",properties:{name:"Pasquale's Neighborhood Pizzeria",label:[{value:"Pasquale's Neighborhood Pizzeria"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rpSawY8t87L1JKCiAqIAYw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"130 5th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074247800"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.4649423101647,44.0180986164811]}},{type:"Feature",_id:"tonic-rochester-2",properties:{name:"Tonic",label:[{value:"Tonic"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegetarian",term:"vegetarian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/2fXQBJu-ddUwKtt5BF16ZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1217 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585224"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.48228,44.02191]}},{type:"Feature",_id:"pescara-rochester",properties:{name:"Pescara",label:[{value:"Pescara"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"DoubleTree Hotel, 150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806900"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"nupa-mediterranean-cuisine-rochester",properties:{name:"Nupa Mediterranean Cuisine",label:[{value:"Nupa Mediterranean Cuisine"}],category:[{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1035 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072065044"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.478606,44.0285828]}},{type:"Feature",_id:"the-doggery-rochester",properties:{name:"The Doggery",label:[{value:"The Doggery"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/GdKmydZXS7vFHBnay2s_Yw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892742"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.463938,44.020227]}},{type:"Feature",_id:"pho-chau-rochester",properties:{name:"Pho Chau",label:[{value:"Pho Chau"}],category:[{value:"Vietnamese",term:"vietnamese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1014 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072813342"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462526,44.033622]}},{type:"Feature",_id:"terza-ristorante-rochester",properties:{name:"Terza Ristorante",label:[{value:"Terza Ristorante"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pasta Shops",term:"pastashops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/arM148-XROnDlUfRexG8lg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072169590"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46258,44.02027]}},{type:"Feature",_id:"mango-thai-rochester",properties:{name:"Mango Thai",label:[{value:"Mango Thai"}],category:[{value:"Thai",term:"thai",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Asian Fusion",term:"asianfusion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4in4HQsovlyaZ5gCV8FJqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882360"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462653,44.019815]}},{type:"Feature",_id:"newts-downtown-rochester-2",properties:{name:"Newt's Downtown",label:[{value:"Newt's Downtown"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Beer Bar",term:"beerbar",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"216 1/2 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890577"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4641192797623,44.0209629976761]}},{type:"Feature",_id:"porch-and-cellar-rochester",properties:{name:"Porch And Cellar",label:[{value:"Porch And Cellar"}],category:[{value:"Southern",term:"southern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5e5INeaXgx0fPWRUMGXo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073226551"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46128,44.01887]}},{type:"Feature",_id:"the-loop-rochester",properties:{name:"The Loop",label:[{value:"The Loop"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/lEfx35vYpS6YwvJSknrm5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268644"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4643224477768,44.0198890768274]}},{type:"Feature",_id:"snappy-stop-rochester",properties:{name:"Snappy Stop",label:[{value:"Snappy Stop"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hot Dogs",term:"hotdog",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"37 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072896116"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462059753384,44.012779808254]}},{type:"Feature",_id:"the-tap-house-on-historic-3rd-st-rochester",properties:{name:"The Tap House On Historic 3rd St",label:[{value:"The Tap House On Historic 3rd St"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XT0tDLspS1XpyKKt32nNzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10 Historic 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072584017"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46359,44.02024]}},{type:"Feature",_id:"300-first-rochester",properties:{name:"300 First",label:[{value:"300 First"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9R27gEzW5hlkLW4n1vlh3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812451"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"redwood-room-rochester",properties:{name:"Redwood Room",label:[{value:"Redwood Room"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jazz & Blues",term:"jazzandblues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/6EAraPjZG1aU7CB6vhrz1Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812978"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4640639,44.026493]}},{type:"Feature",_id:"city-market-downtown-rochester",properties:{name:"City Market Downtown",label:[{value:"City Market Downtown"}],category:[{value:"Delis",term:"delis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zt4nbybeAAKdODDCvtrXjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"212 1st Ave SW, Ste 12",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075364748"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46407,44.0210999]}},{type:"Feature",_id:"kutzky-market-rochester",properties:{name:"Kutzky Market",label:[{value:"Kutzky Market"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1001 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.478641815825,44.0171808351232]}},{type:"Feature",_id:"the-half-barrel-rochester-2",properties:{name:"The Half Barrel",label:[{value:"The Half Barrel"}],category:[{value:"Lounges",term:"lounges",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Euwrgeqek79vZUZ-YhyZ1A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"304 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072586606"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46417,44.02021]}},{type:"Feature",_id:"old-abe-coffee-company-rochester",properties:{name:"Old Abe Coffee Company",label:[{value:"Old Abe Coffee Company"}],category:[{value:"Street Vendors",term:"streetvendors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/h0VnsS_oybPe4UM4HUdulw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"832 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"6514104137"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4752535,44.0308259]}},{type:"Feature",_id:"china-1-rochester",properties:{name:"China 1",label:[{value:"China 1"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Civic Center Dr",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811588"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4801335214623,44.0287960417207]}},{type:"Feature",_id:"la-poblana-rochester-2",properties:{name:"La Poblana",label:[{value:"La Poblana"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1121 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072927791"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4793146550655,44.0283094346523]}},{type:"Feature",_id:"bleu-duck-kitchen-rochester-2",properties:{name:"Bleu Duck Kitchen",label:[{value:"Bleu Duck Kitchen"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/NppVfkmTIXAQQ1aNloUvgg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072584663"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4634245783091,44.0192804485559]}},{type:"Feature",_id:"nupa-mediterranean-cuisine-rochester-3",properties:{name:"Nupa Mediterranean Cuisine",label:[{value:"Nupa Mediterranean Cuisine"}],category:[{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"412 Crossroads Dr",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072183130"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46848,44.00557]}},{type:"Feature",_id:"prescotts-grill-rochester-2",properties:{name:"Prescott's Grill",label:[{value:"Prescott's Grill"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/RDFXuk8iKvZ8J-sfBzzg_g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075367775"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.464523,44.004871]}},{type:"Feature",_id:"pannekoeken-rochester",properties:{name:"Pannekoeken",label:[{value:"Pannekoeken"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/emHIgZJBRPJZkXBQOFnwww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072870722"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46407,44.0237]}},{type:"Feature",_id:"franciscos-cuban-cafe-rochester",properties:{name:"Francisco's Cuban Cafe",label:[{value:"Francisco's Cuban Cafe"}],category:[{value:"Cuban",term:"cuban",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 206, First Avenue Food Ct",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072587722"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4640582501888,44.022596047659]}},{type:"Feature",_id:"casablanca-creative-cuisine-and-wine-rochester",properties:{name:"Casablanca Creative Cuisine & Wine",label:[{value:"Casablanca Creative Cuisine & Wine"}],category:[{value:"Moroccan",term:"moroccan",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"French",term:"french",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4YD4sUTvzrtJkAachkn-Cw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1208 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072880274"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4813385009766,44.0312805175781]}},{type:"Feature",_id:"victorias-ristorante-and-wine-bar-rochester",properties:{name:"Victoria's Ristorante & Wine Bar",label:[{value:"Victoria's Ristorante & Wine Bar"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/4uR_9pnV5yROqywy6Hwzrw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806232"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.464643502439,44.023269063858]}},{type:"Feature",_id:"india-garden-rochester",properties:{name:"India Garden",label:[{value:"India Garden"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AHCJeRQn2RPpgSo1BWeIhw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1107 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072886280"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.4634323,44.034359]}},{type:"Feature",_id:"moka-rochester",properties:{name:"MOKA",label:[{value:"MOKA"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dc-T2yRVg_tAanWWHfCj7w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1023 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072826652"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.46343,44.03382]}},{type:"Feature",_id:"bravo-espresso-rochester",properties:{name:"Bravo Espresso",label:[{value:"Bravo Espresso"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dVUAlqoDDAiJTzU__2IG0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"lazeez-restaurant-and-catering-rochester-6",properties:{name:"Lazeez Restaurant and Catering",label:[{value:"Lazeez Restaurant and Catering"}],category:[{value:"Halal",term:"halal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Middle Eastern",term:"mideastern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/5hfgpyJfOWulVxWmBXaa0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"303 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822822"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.467658996582,44.0450134277344]}},{type:"Feature",_id:"cafe-presto-rochester",properties:{name:"Cafe Presto",label:[{value:"Cafe Presto"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1223 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892690"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.482467,44.021911]}},{type:"Feature",_id:"zpizza-rochester",properties:{name:"zpizza",label:[{value:"zpizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegan",term:"vegan",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gluten-Free",term:"gluten_free",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/unCLsSgBRw3Zsn-dHa6cXw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074240440"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"twigs-tavern-and-grille-rochester",properties:{name:"Twigs Tavern and Grille",label:[{value:"Twigs Tavern and Grille"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880206"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.46842,44.01735]}},{type:"Feature",_id:"hunan-chinese-restaurant-rochester",properties:{name:"Hunan Chinese Restaurant",label:[{value:"Hunan Chinese Restaurant"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"844 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072870002"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.4629022,44.0136255]}},{type:"Feature",_id:"dunn-brotherscoffee-rochester-4",properties:{name:"Dunn Brothers Coffee",label:[{value:"Dunn Brothers Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_Rftlofr_pgrjpVFMdzwWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2550 Broadway Ave S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073220250"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"canadian-honker-rochester-5",properties:{name:"Canadian Honker",label:[{value:"Canadian Honker"}],category:[{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/g9AltqtxUxWNofcdJYrVFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1203 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826572"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.481556,44.021872]}},{type:"Feature",_id:"taqueria-el-sueno-rochester",properties:{name:"Taqueria El Sueno",label:[{value:"Taqueria El Sueno"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1203 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073220202"},updated:1510719319498},geometry:{type:"Point",coordinates:[-92.48052,44.0317999]}},{type:"Feature",_id:"cheap-charlies-rochester",properties:{name:"Cheap Charlies",label:[{value:"Cheap Charlies"}],category:[{value:"Diners",term:"diners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897693"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4639129638672,44.0283546447754]}},{type:"Feature",_id:"potbelly-sandwich-shop-rochester",properties:{name:"Potbelly Sandwich Shop",label:[{value:"Potbelly Sandwich Shop"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/UmNuRnbIKrJcLEnFS8NY8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241661"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4640784,44.0198783]}},{type:"Feature",_id:"mayo-clinic-rochester",properties:{name:"Mayo Clinic",label:[{value:"Mayo Clinic"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/th0sLzGacreY6sb4hBC-Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"200 1st St SW",city:"Rochester",state_code:"MN",zip:"55905"},phone:"5072842511"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.466629,44.022129]}},{type:"Feature",_id:"daubes-bakery-rochester-2",properties:{name:"Daube's Bakery",label:[{value:"Daube's Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Delis",term:"delis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1310 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893095"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.48182,44.02823]}},{type:"Feature",_id:"kathys-pub-rochester",properties:{name:"Kathy's Pub",label:[{value:"Kathy's Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rTLy4ipZIh90eQMaI62nuQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"307 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528355"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0201187133789]}},{type:"Feature",_id:"brothers-bar-and-grill-rochester",properties:{name:"Brothers Bar & Grill",label:[{value:"Brothers Bar & Grill"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/0UD_xjZnAV1kq7fcOsImJg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"812 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818902"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4628633260727,44.0141788870096]}},{type:"Feature",_id:"caribou-coffee-rochester-3",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4YD4sUTvzrtJkAachkn-Cw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072804375"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4677429199219,44.0237503051758]}},{type:"Feature",_id:"hefe-rojo-rochester",properties:{name:"Hefe Rojo",label:[{value:"Hefe Rojo"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/_drlWwOHAraf-dxu7KGQVQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"216 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072891949"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4640731811523,44.0209884643555]}},{type:"Feature",_id:"salute-wine-bar-and-more-rochester",properties:{name:"Salute Wine Bar & More",label:[{value:"Salute Wine Bar & More"}],category:[{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wtdgpcYm_9IxaADV4mWMiA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852766"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4649823188431,44.0210134365375]}},{type:"Feature",_id:"macs-cafe-and-restaurant-rochester-2",properties:{name:"Mac's Cafe & Restaurant",label:[{value:"Mac's Cafe & Restaurant"}],category:[{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894219"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.464489,44.023349]}},{type:"Feature",_id:"brueggers-bagels-rochester-2",properties:{name:"Bruegger's Bagels",label:[{value:"Bruegger's Bagels"}],category:[{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW, Ste 140",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074244777"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.46509,44.021936]}},{type:"Feature",_id:"5-dollar-pizza-rochester",properties:{name:"5 Dollar Pizza",label:[{value:"5 Dollar Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1105 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072585528"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4797129631042,44.0318113102729]}},{type:"Feature",_id:"dunn-brothers-rochester-4",properties:{name:"Dunn Brothers",label:[{value:"Dunn Brothers"}],category:[{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_l_jPBg-oLuRSt9dbQ9ShA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072852516"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.463686,44.041765]}},{type:"Feature",_id:"dunn-brothers-coffee-rochester-3",properties:{name:"Dunn Brothers Coffee",label:[{value:"Dunn Brothers Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/T1ku3u2k1hP4c7hs-d89BQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072854991"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4637239128361,44.0416505113174]}},{type:"Feature",_id:"tinns-grilled-philly-steak-subs-rochester-4",properties:{name:"Tinn's Grilled Philly Steak Subs",label:[{value:"Tinn's Grilled Philly Steak Subs"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882188"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4634170532227,44.0245666503906]}},{type:"Feature",_id:"moka-rochester-2",properties:{name:"MOKA",label:[{value:"MOKA"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"306 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.45831,44.0067499]}},{type:"Feature",_id:"grandmas-kitchen-rochester-2",properties:{name:"Grandma's Kitchen",label:[{value:"Grandma's Kitchen"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1514 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072890331"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46136,44.03807]}},{type:"Feature",_id:"soldiers-field-veterans-memorial-rochester",properties:{name:"Soldiers Field Veterans Memorial",label:[{value:"Soldiers Field Veterans Memorial"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 7th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4682061,44.015956]}},{type:"Feature",_id:"valentinos-pizza-and-pasta-rochester",properties:{name:"Valentino's Pizza & Pasta",label:[{value:"Valentino's Pizza & Pasta"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gisH0qDPIKaS0_iI4WUpfQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"130 Elton Hills Ln, Ste 200",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812100"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.462909963736,44.0413630021125]}},{type:"Feature",_id:"dooleys-pub-rochester",properties:{name:"Dooleys Pub",label:[{value:"Dooleys Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"255 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072084085"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46469676095,44.020707506672]}},{type:"Feature",_id:"starbucks-rochester-12",properties:{name:"Starbucks",label:[{value:"Starbucks"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Un7-j0-sCockhprElpv7_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852781"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"healing-touch-spa-downtown-rochester",properties:{name:"Healing Touch Spa Downtown",label:[{value:"Healing Touch Spa Downtown"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reiki",term:"reiki",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lSFSWrG56RJldj4Xtp6irw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Fl 2",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072876162"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"kabab-restaurant-rochester",properties:{name:"Kabab Restaurant",label:[{value:"Kabab Restaurant"}],category:[{value:"Halal",term:"halal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Afghan",term:"afghani",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"125 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882181"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46044,44.02376]}},{type:"Feature",_id:"huhot-mongolian-grill-rochester",properties:{name:"HuHot Mongolian Grill",label:[{value:"HuHot Mongolian Grill"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Asian Fusion",term:"asianfusion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mongolian",term:"mongolian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/N32WHDMYK3xCm9uM7rB2Hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072064422"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.478310620871,44.0048846705178]}},{type:"Feature",_id:"wabi-sabi-express-rochester",properties:{name:"Wabi Sabi Express",label:[{value:"Wabi Sabi Express"}],category:[{value:"Sushi Bars",term:"sushi",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Japanese",term:"japanese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/dEQZZ8XUwKN3iK64L1pojA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585288"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4642296614187,44.0224311528042]}},{type:"Feature",_id:"damsy-restaurant-rochester",properties:{name:"Damsy's Restaurant",label:[{value:"Damsy's Restaurant"}],category:[{value:"Middle Eastern",term:"mideastern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"405 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073220203"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46492,44.01908]}},{type:"Feature",_id:"peoples-food-co-op-rochester-2",properties:{name:"People's Food Co-op",label:[{value:"People's Food Co-op"}],category:[{value:"Fruits & Veggies",term:"markets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Health Markets",term:"healthmarkets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"519 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072899061"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46493,44.01738]}},{type:"Feature",_id:"royal-indian-cuisine-rochester",properties:{name:"Royal Indian Cuisine",label:[{value:"Royal Indian Cuisine"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Buffets",term:"buffets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1647 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072587500"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4641513418078,43.9979998948506]}},{type:"Feature",_id:"salad-brothers-cafe-and-deli-rochester",properties:{name:"Salad Brothers Cafe & Deli",label:[{value:"Salad Brothers Cafe & Deli"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/8RNzedthIUS7i6SFPXK6rQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072891560"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46348,44.02239]}},{type:"Feature",_id:"dunkin-donuts-rochester-31",properties:{name:"Dunkin' Donuts",label:[{value:"Dunkin' Donuts"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Donuts",term:"donuts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XT0tDLspS1XpyKKt32nNzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4645221,44.0230265]}},{type:"Feature",_id:"caribou-coffee-rochester-4",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VwHKhPh65sPA2A_IJrv9Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1147 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811052"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.48102,44.02191]}},{type:"Feature",_id:"cb3-burgers-and-brews-rochester",properties:{name:"CB3 Burgers & Brews",label:[{value:"CB3 Burgers & Brews"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"W Center & 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859200"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4682329,44.0235141]}},{type:"Feature",_id:"glynners-pub-rochester",properties:{name:"Glynner's Pub",label:[{value:"Glynner's Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AKhL4xKggead_F3j9dGqQA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1643 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072528800"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4628757819366,44.0382080457257]}},{type:"Feature",_id:"tea-time-rochester-2",properties:{name:"Tea Time",label:[{value:"Tea Time"}],category:[{value:"Bubble Tea",term:"bubbletea",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 7",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072619868"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"newts-south-rochester-2",properties:{name:"Newt's South",label:[{value:"Newt's South"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/IGP7goeb9J_xhS7odv54cQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072587575"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4649317180537,44.0046172683737]}},{type:"Feature",_id:"mr-pizza-rochester",properties:{name:"Mr Pizza",label:[{value:"Mr Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/RWB2KVbWJlIBEGQsKhi9iQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1729 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881488"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4640274,43.9971504]}},{type:"Feature",_id:"jimmy-johns-rochester-2",properties:{name:"Jimmy John's",label:[{value:"Jimmy John's"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072899900"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4677429199219,44.0237503051758]}},{type:"Feature",_id:"fiesta-cafe-bar-rochester",properties:{name:"Fiesta Cafe Bar",label:[{value:"Fiesta Cafe Bar"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1645 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072881116"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46154,44.03993]}},{type:"Feature",_id:"quiznos-rochester-10",properties:{name:"Quiznos",label:[{value:"Quiznos"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste 11",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072925725"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"chocolaterie-stam-rochester",properties:{name:"Chocolaterie Stam",label:[{value:"Chocolaterie Stam"}],category:[{value:"Chocolatiers & Shops",term:"chocolate",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Jtw4tFMNH1Cm0_fArGR7kg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 208",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075362722"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.46371,44.022501]}},{type:"Feature",_id:"la-vetta-rochester-2",properties:{name:"La Vetta",label:[{value:"La Vetta"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z22hWmV_k8aF8O2mjZwkUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074134033"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4627178162336,44.0203633904457]}},{type:"Feature",_id:"forager-brewing-company-rochester-3",properties:{name:"Forager Brewing Company",label:[{value:"Forager Brewing Company"}],category:[{value:"Breweries",term:"breweries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4780221511959,44.0293365173244]}},{type:"Feature",_id:"blue-sky-dental-rochester",properties:{name:"Blue Sky Dental",label:[{value:"Blue Sky Dental"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Orthodontists",term:"orthodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW, Ste 300",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585260"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4639358520508,44.0202255249023]}},{type:"Feature",_id:"kingdom-buffet-rochester",properties:{name:"Kingdom Buffet",label:[{value:"Kingdom Buffet"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1639 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072820211"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4616248,44.040308]}},{type:"Feature",_id:"applebees-neighborhood-grill-and-bar-rochester-21",properties:{name:"Applebee's Neighborhood Grill & Bar",label:[{value:"Applebee's Neighborhood Grill & Bar"}],category:[{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"320 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072520155"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4786239,44.0049339]}},{type:"Feature",_id:"chinese-chinhs-express-rochester-2",properties:{name:"Chinese Chinh's Express",label:[{value:"Chinese Chinh's Express"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Fl 2",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585350"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"freshens-fresh-food-studio-rochester",properties:{name:"Freshens Fresh Food Studio",label:[{value:"Freshens Fresh Food Studio"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Subway Level",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852705"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"red-lobster-rochester-4",properties:{name:"Red Lobster",label:[{value:"Red Lobster"}],category:[{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4DgWUpTEvoNSMHoCRFiDjA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1280 Hwy 14 SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880688"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4805078,44.0068051]}},{type:"Feature",_id:"zzest-lunch-counter-rochester",properties:{name:"ZZest Lunch Counter",label:[{value:"ZZest Lunch Counter"}],category:[{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Soup",term:"soup",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3blIxi1V2FZ2ugqkdXa3cg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 203",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074240080"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"grand-grill-rochester",properties:{name:"Grand Grill",label:[{value:"Grand Grill"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/iNHSeezPYVOehS8HXBxo6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806200"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4657902866602,44.0232018381357]}},{type:"Feature",_id:"roscoes-root-beer-and-ribs-rochester-3",properties:{name:"Roscoe's Root Beer & Ribs",label:[{value:"Roscoe's Root Beer & Ribs"}],category:[{value:"Barbeque",term:"bbq",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hot Dogs",term:"hotdog",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JhnxhXplxCSQ6Swtyg-5Mw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"603 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072850501"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4547289,44.019574]}},{type:"Feature",_id:"pc-maid-computer-repair-services-rochester",properties:{name:"PC-Maid Computer Repair Services",label:[{value:"PC-Maid Computer Repair Services"}],category:[{value:"IT Services & Computer Repair",term:"itservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823385"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4647938103118,44.0217737625931]}},{type:"Feature",_id:"martinis-rochester-2",properties:{name:"Martini's",label:[{value:"Martini's"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Mew8QrqoNVNKIKtHWUgalg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852728"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"silver-lake-park-rochester-2",properties:{name:"Silver Lake Park",label:[{value:"Silver Lake Park"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ddoHOEON6K68k1dCncCRlw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"701-1399 E Silver Lake Dr",city:"Rochester",state_code:"MN",zip:"55906"},phone:null},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4539781734347,44.0323399264311]}},{type:"Feature",_id:"bakers-square-rochester-2",properties:{name:"Bakers Square",label:[{value:"Bakers Square"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/SOKu1d2Yz2tCLr_u6zbu5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"819 Apache Ln SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521224"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4743118286133,44.0063552856445]}},{type:"Feature",_id:"great-harvest-bread-co-rochester-3",properties:{name:"Great Harvest Bread Co",label:[{value:"Great Harvest Bread Co"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/RVR6px6TYdNBIHiLqETQnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"706 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072861101"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46258,44.0307]}},{type:"Feature",_id:"doubletree-hotel-rochester",properties:{name:"Doubletree Hotel",label:[{value:"Doubletree Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/7T3SDw-Y9s6xfR1fghzibA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"grand-rounds-brewpub-rochester",properties:{name:"Grand Rounds Brewpub",label:[{value:"Grand Rounds Brewpub"}],category:[{value:"Brewpubs",term:"brewpubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4 3rd St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072921628"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46337890625,44.0202407836914]}},{type:"Feature",_id:"jimmy-johns-rochester-5",properties:{name:"Jimmy John's",label:[{value:"Jimmy John's"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gisH0qDPIKaS0_iI4WUpfQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"90 14th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074242000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4653778,44.0024605]}},{type:"Feature",_id:"brueggers-bagels-rochester-4",properties:{name:"Bruegger's Bagels",label:[{value:"Bruegger's Bagels"}],category:[{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-NM17tQZVdg1W9GjwXMq9w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072876045"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4630074948072,44.0417667478323]}},{type:"Feature",_id:"doubletree-by-hilton-rochester",properties:{name:"Doubletree by Hilton",label:[{value:"Doubletree by Hilton"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Otpa7OFD4ofplWVkX-yxzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"freshens-rochester",properties:{name:"Freshens",label:[{value:"Freshens"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/WCDMKs7OBHViwuJrQP_u_A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 Third Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072852727"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4674988,44.0238686]}},{type:"Feature",_id:"chipotle-mexican-grill-rochester-8",properties:{name:"Chipotle Mexican Grill",label:[{value:"Chipotle Mexican Grill"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/wIyv1gY5f4A0kwpaxd3HRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 60",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075295484"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"outback-steakhouse-rochester-2",properties:{name:"Outback Steakhouse",label:[{value:"Outback Steakhouse"}],category:[{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Or2gSRG-gvDRDMPEzWJF7A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521150"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"gingerbread-house-rochester",properties:{name:"Gingerbread House",label:[{value:"Gingerbread House"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3VdIlJzu6wX6l0Jca3KuGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1104 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882621"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4625854492188,44.0342407226562]}},{type:"Feature",_id:"papa-murphys-rochester-2",properties:{name:"Papa Murphy's",label:[{value:"Papa Murphy's"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"410 Crossroads Drive South West",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075360630"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46849,44.00575]}},{type:"Feature",_id:"hunan-garden-chinese-restaurant-rochester",properties:{name:"Hunan Garden Chinese Restaurant",label:[{value:"Hunan Garden Chinese Restaurant"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ifsLhAQAcWj6iLwdFFUFTw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1120 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851438"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4803,44.03094]}},{type:"Feature",_id:"plaza-morena-campestre-grill-rochester-3",properties:{name:"Plaza Morena Campestre Grill",label:[{value:"Plaza Morena Campestre Grill"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Latin American",term:"latin",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tex-Mex",term:"tex-mex",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 17th Ave NW",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810121"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.48679,44.02369]}},{type:"Feature",_id:"perkins-restaurant-and-bakery-rochester-7",properties:{name:"Perkins Restaurant & Bakery",label:[{value:"Perkins Restaurant & Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/IGP7goeb9J_xhS7odv54cQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"432 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881996"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.483726888895,44.0284059257251]}},{type:"Feature",_id:"63-club-rochester",properties:{name:"63 Club",label:[{value:"63 Club"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/sDNh4FI5JSkYwRXsexubSA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1726 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810632"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4634172022343,43.9974070340395]}},{type:"Feature",_id:"the-lord-essex-steakhouse-rochester",properties:{name:"The Lord Essex Steakhouse",label:[{value:"The Lord Essex Steakhouse"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072854042"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4656171,44.0233826]}},{type:"Feature",_id:"rochester-public-library-rochester-8",properties:{name:"Rochester Public Library",label:[{value:"Rochester Public Library"}],category:[{value:"Libraries",term:"libraries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"publicservicesgovt",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/47FbjU847yHqs2KYUGlpWg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 2nd St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073282309"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4608383178711,44.0218849182129]}},{type:"Feature",_id:"paseo-del-rio-rochester",properties:{name:"Paseo Del Rio",label:[{value:"Paseo Del Rio"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073989577"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4612808227539,44.018871307373]}},{type:"Feature",_id:"dairy-queen-rochester-5",properties:{name:"Dairy Queen",label:[{value:"Dairy Queen"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste S9",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826633"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"homewood-suites-by-hilton-rochester",properties:{name:"Homewood Suites By Hilton",label:[{value:"Homewood Suites By Hilton"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/aekSUlayF5fMOGroJhomXA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"165 13th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072183320"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4835163354874,44.0220149606466]}},{type:"Feature",_id:"gander-plumbing-and-heating-rochester",properties:{name:"Gander Plumbing and Heating",label:[{value:"Gander Plumbing and Heating"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XK4Av4JIyWyhPHUFlRHEoA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"236 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072827540"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46727,44.02804]}},{type:"Feature",_id:"subway-rochester-21",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/kYVb4yDi0HGoc6FmUvz2YQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1103 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072800545"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.47944,44.03177]}},{type:"Feature",_id:"catering-for-all-its-worth-food-truck-rochester-2",properties:{name:"Catering For All It's Worth Food Truck",label:[{value:"Catering For All It's Worth Food Truck"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/nBEh-QbtLYys5k9u3qIT0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5079905144"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.465943172574,44.0201767043756]}},{type:"Feature",_id:"brentwood-inn-and-suites-rochester",properties:{name:"Brentwood Inn & Suites",label:[{value:"Brentwood Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ks63UcZwq8KmIsmg-oyJAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"123 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072888011"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46841,44.02505]}},{type:"Feature",_id:"carrolls-corn-rochester",properties:{name:"Carroll's Corn",label:[{value:"Carroll's Corn"}],category:[{value:"Specialty Food",term:"gourmet",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GEQkhPxaM7oCZtKfcA8fBA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072873307"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"rice-n-spice-rochester",properties:{name:"Rice N Spice",label:[{value:"Rice N Spice"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Imported Food",term:"importedfood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/9_v8o1PnfrOIVhpKmdU8Kw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"810 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075290258"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4624099731445,44.0136795043945]}},{type:"Feature",_id:"big-brads-on-broadway-rochester",properties:{name:"Big Brad's On Broadway",label:[{value:"Big Brad's On Broadway"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"309 S Broadway",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268100"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.46348,44.02006]}},{type:"Feature",_id:"socialice-rochesters-ice-bar-rochester",properties:{name:"SocialIce Rochester's Ice Bar",label:[{value:"SocialIce Rochester's Ice Bar"}],category:[{value:"Local Flavor",term:"localflavor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localflavor",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave And 1st St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074244774"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4644089,44.0224915]}},{type:"Feature",_id:"field-of-fun-rochester",properties:{name:"Field of Fun",label:[{value:"Field of Fun"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"922 George Gibbs Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073282525"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.468958,44.0146581]}},{type:"Feature",_id:"broadstreet-cafe-and-bar-rochester",properties:{name:"Broadstreet Cafe & Bar",label:[{value:"Broadstreet Cafe & Bar"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/lEwSR1A3ZK5PIy05lwyjgw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812451"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.464065,44.026493]}},{type:"Feature",_id:"rochester-honkers-baseball-rochester",properties:{name:"Rochester Honkers Baseball",label:[{value:"Rochester Honkers Baseball"}],category:[{value:"Amateur Sports Teams",term:"amateursportsteams",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"307 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072891170"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.458252,44.0237389]}},{type:"Feature",_id:"eagle-store-rochester-2",properties:{name:"Eagle Store",label:[{value:"Eagle Store"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cards & Stationery",term:"stationery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Newspapers & Magazines",term:"mags",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"23 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072893141"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.464222,44.021897]}},{type:"Feature",_id:"scheels-rochester",properties:{name:"Scheels",label:[{value:"Scheels"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 102 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4756098538637,44.0048447996378]}},{type:"Feature",_id:"o-and-b-shoe-rochester",properties:{name:"O & B Shoe",label:[{value:"O & B Shoe"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JkGCU_Gzqj60_twJlKH8zw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"19 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072895189"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.46471,44.0229]}},{type:"Feature",_id:"med-city-dental-rochester",properties:{name:"Med City Dental",label:[{value:"Med City Dental"}],category:[{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE, Ste 202",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072898707"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4627178162336,44.0203633904457]}},{type:"Feature",_id:"fiddlehead-coffee-rochester-2",properties:{name:"Fiddlehead Coffee",label:[{value:"Fiddlehead Coffee"}],category:[{value:"Coffee Roasteries",term:"coffeeroasteries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/V_f80QnoF5KcM-otQ0xrcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4782822962501,44.0295736781615]}},{type:"Feature",_id:"dominos-pizza-rochester-21",properties:{name:"Domino's Pizza",label:[{value:"Domino's Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/2XNMARA6xt88-GWPo-wkEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"444 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072883030"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4587287008762,44.0186943858862]}},{type:"Feature",_id:"apache-nails-rochester",properties:{name:"Apache Nails",label:[{value:"Apache Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Spas",term:"spas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/2Fg5zGE_IgC7WVDVwIeeZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072586318"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4787987647401,44.0046915673242]}},{type:"Feature",_id:"chuck-e-cheeses-rochester-3",properties:{name:"Chuck E Cheese's",label:[{value:"Chuck E Cheese's"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1250 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075295055"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.480980260948,44.0002173267537]}},{type:"Feature",_id:"springhill-suites-by-marriott-rochester",properties:{name:"Springhill Suites by Marriott",label:[{value:"Springhill Suites by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4p0nmfwZyjzmKoG7Mx7p6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1125 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072815455"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4802017211914,44.022144317627]}},{type:"Feature",_id:"running-room-rochester",properties:{name:"Running Room",label:[{value:"Running Room"}],category:[{value:"Sports Wear",term:"sportswear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"711 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072873341"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4635,44.015232]}},{type:"Feature",_id:"legends-bar-and-grill-rochester",properties:{name:"Legends Bar & Grill",label:[{value:"Legends Bar & Grill"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/fI5LuAH-Xt1FDJoQkjzBNg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074241896"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.46239,44.0195]}},{type:"Feature",_id:"vfw-post-1215-rochester",properties:{name:"Vfw Post 1215",label:[{value:"Vfw Post 1215"}],category:[{value:"Restaurants",term:"restaurants",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/TXBwpqNf_RY13BRVLuNoiw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896299"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4639129638672,44.0167770385742]}},{type:"Feature",_id:"rochester-area-family-ymca-rochester-3",properties:{name:"Rochester Area Family YMCA",label:[{value:"Rochester Area Family YMCA"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Swimming Pools",term:"swimmingpools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Camps",term:"daycamps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KG0Nmf3jS4CVLBGl6kTi5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"709 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072872260"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4649658203125,44.0151672363281]}},{type:"Feature",_id:"caribou-coffee-house-rochester",properties:{name:"Caribou Coffee House",label:[{value:"Caribou Coffee House"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"308 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885117"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4779739,44.005867]}},{type:"Feature",_id:"kahler-inn-and-suites-rochester",properties:{name:"Kahler Inn & Suites",label:[{value:"Kahler Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/wm_oS40wg7mfsz_xjYw9hQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859200"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4677449,44.023751]}},{type:"Feature",_id:"subway-rochester-67",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072827976"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.46495,44.02184]}},{type:"Feature",_id:"counterpoint-home-rochester-2",properties:{name:"Counterpoint Home",label:[{value:"Counterpoint Home"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 212",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072806419"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463333,44.022385]}},{type:"Feature",_id:"cowboy-jacks-rochester",properties:{name:"Cowboy Jack's",label:[{value:"Cowboy Jack's"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Px8QU1_W1R-7Y3O9e_2Kng/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072585840"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4647316821728,43.9988120832194]}},{type:"Feature",_id:"joes-auto-and-tire-rochester-2",properties:{name:"Joe's Auto & Tire",label:[{value:"Joe's Auto & Tire"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yZEY1R71I3FtDQgicc7fcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"923 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072817944"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.477391,44.029385]}},{type:"Feature",_id:"sacred-heart-studios-rochester",properties:{name:"Sacred Heart Studios",label:[{value:"Sacred Heart Studios"}],category:[{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"821 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072714954"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4630473,44.0320608]}},{type:"Feature",_id:"trader-joes-rochester-2",properties:{name:"Trader Joe's",label:[{value:"Trader Joe's"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814411"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.48021,44.00033]}},{type:"Feature",_id:"rochester-marriott-mayo-clinic-area-rochester-3",properties:{name:"Rochester Marriott Mayo Clinic Area",label:[{value:"Rochester Marriott Mayo Clinic Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jP7uqXRPviHkaciOmefG0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806000"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.464917,44.022289]}},{type:"Feature",_id:"mayo-clinic-healthy-living-program-and-rejuvenate-spa-rochester",properties:{name:"Mayo Clinic Healthy Living Program and Rejuvenate Spa",label:[{value:"Mayo Clinic Healthy Living Program and Rejuvenate Spa"}],category:[{value:"Fitness & Instruction",term:"fitness",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Coach",term:"lifecoach",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lmHOkNQfwFVZIW6-HbRGOw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"565 First St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072932933"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4704,44.02296]}},{type:"Feature",_id:"thyme-rochester-2",properties:{name:"Thyme",label:[{value:"Thyme"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Lounges",term:"lounges",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/5VWQ2Kp6n5Q2QXe4Jciv0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528200"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4698791503906,44.0215492248535]}},{type:"Feature",_id:"blu-h2o-salon-rochester",properties:{name:"Blu H2O Salon",label:[{value:"Blu H2O Salon"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Spas",term:"spas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/16-DcIUZBOF7iYQv4bDhng/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 South Broadway, Ste 201",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072927888"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4625388,44.0219958]}},{type:"Feature",_id:"canvas-and-chardonnay-rochester",properties:{name:"Canvas & Chardonnay",label:[{value:"Canvas & Chardonnay"}],category:[{value:"Art Classes",term:"artclasses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"317 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584268"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463493347168,44.0198173522949]}},{type:"Feature",_id:"residence-inn-by-marriott-rochester-4",properties:{name:"Residence Inn by Marriott",label:[{value:"Residence Inn by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"441 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072921400"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.469131,44.023702]}},{type:"Feature",_id:"hy-vee-food-stores-rochester-3",properties:{name:"Hy-Vee Food Stores",label:[{value:"Hy-Vee Food Stores"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VwHKhPh65sPA2A_IJrv9Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072888233"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4812118126126,44.0298054419966]}},{type:"Feature",_id:"taco-bell-rochester-2",properties:{name:"Taco Bell",label:[{value:"Taco Bell"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tex-Mex",term:"tex-mex",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/fUT18lZ9sT2cZ7IOEOmj7Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"516 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072821868"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463064,44.028308]}},{type:"Feature",_id:"blue-diamond-restaurant-rochester",properties:{name:"Blue Diamond Restaurant",label:[{value:"Blue Diamond Restaurant"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegetarian",term:"vegetarian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9R27gEzW5hlkLW4n1vlh3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 209",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929009"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"dennys-rochester-3",properties:{name:"Denny's",label:[{value:"Denny's"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Diners",term:"diners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/lmtK9zRsWd80EbQGYAyoZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1226 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072886482"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4625747219216,44.0054242]}},{type:"Feature",_id:"the-ups-store-rochester-2",properties:{name:"The UPS Store",label:[{value:"The UPS Store"}],category:[{value:"Shipping Centers",term:"shipping_centers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Notaries",term:"notaries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"110 West Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241212"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.465,44.02333]}},{type:"Feature",_id:"saint-marys-hospital-rochester",properties:{name:"Saint Marys Hospital",label:[{value:"Saint Marys Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KG0Nmf3jS4CVLBGl6kTi5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072554000"},updated:1510719320879},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"little-caesars-pizza-rochester",properties:{name:"Little Caesars Pizza",label:[{value:"Little Caesars Pizza"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1641 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891008"},updated:1510719321476},geometry:{type:"Point",coordinates:[-92.46154,44.03993]}},{type:"Feature",_id:"thee-only-shoe-repair-rochester",properties:{name:"Thee Only Shoe Repair",label:[{value:"Thee Only Shoe Repair"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"908 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072892932"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4627609,44.0325394]}},{type:"Feature",_id:"newts-express-rochester",properties:{name:"Newt's Express",label:[{value:"Newt's Express"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890577"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.465457,44.0215889]}},{type:"Feature",_id:"go-rochester-direct-rochester",properties:{name:"Go Rochester Direct",label:[{value:"Go Rochester Direct"}],category:[{value:"Taxis",term:"taxis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/69LjpUfDEymudoRtYePh0w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8002809270"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"joes-auto-and-tire-rochester",properties:{name:"Joe's Auto & Tire",label:[{value:"Joe's Auto & Tire"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1420 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072817970"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.482646,44.0287409]}},{type:"Feature",_id:"med-city-vapors-rochester",properties:{name:"Med City Vapors",label:[{value:"Med City Vapors"}],category:[{value:"Vape Shops",term:"vapeshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0hpDcCGiQtR0Lo42jq5H7g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1111 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072585052"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.47994,44.03184]}},{type:"Feature",_id:"kinney-creek-brewery-rochester",properties:{name:"Kinney Creek Brewery",label:[{value:"Kinney Creek Brewery"}],category:[{value:"Breweries",term:"breweries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5jNLMGop-TNlCz30__lAGQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1016 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822739"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.478226,44.030941]}},{type:"Feature",_id:"center-street-cafe-rochester",properties:{name:"Center Street Cafe",label:[{value:"Center Street Cafe"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/kvcyb-CT4ObnnbktEFNyug/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072898646"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4675,44.02387]}},{type:"Feature",_id:"the-freight-yard-rochester",properties:{name:"The Freight Yard",label:[{value:"The Freight Yard"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"821 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073220553"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.47475,44.02858]}},{type:"Feature",_id:"midas-rochester-8",properties:{name:"Midas",label:[{value:"Midas"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b9BVDBjT3xuZta95R-7TVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1225 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072824414"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.46345,44.03563]}},{type:"Feature",_id:"perkins-restaurant-and-bakery-rochester-6",properties:{name:"Perkins Restaurant & Bakery",label:[{value:"Perkins Restaurant & Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/-Ua0UuCZA6tcGhworyZ3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1818 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072889400"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4625052511692,43.9956095375446]}},{type:"Feature",_id:"justin-schwirtz-edina-realty-rochester-6",properties:{name:"Justin Schwirtz - Edina Realty",label:[{value:"Justin Schwirtz - Edina Realty"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1301 Salem Rd SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072710699"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.48624,44.00641]}},{type:"Feature",_id:"rochester-shuttle-service-rochester",properties:{name:"Rochester Shuttle Service",label:[{value:"Rochester Shuttle Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TuTjwsv_IGb1v3Ivc4ochg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Kahler Grand Lobby",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072166354"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.465698,44.0232749]}},{type:"Feature",_id:"daubes-rochester",properties:{name:"Daube's",label:[{value:"Daube's"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zce0mGnJUr5w-mzy_RXjdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072528878"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4649505615234,44.0218391418457]}},{type:"Feature",_id:"barnes-and-noble-rochester",properties:{name:"Barnes & Noble",label:[{value:"Barnes & Noble"}],category:[{value:"Bookstores",term:"bookstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PM7hO-j8yxfue2BGNXCSGg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"425 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072817950"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4796448,44.006115]}},{type:"Feature",_id:"fast-phone-repair-rochester",properties:{name:"Fast Phone Repair",label:[{value:"Fast Phone Repair"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-x38OIC0JIsJg9v7cK0ZLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"27 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5077220110"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.46212,44.013512]}},{type:"Feature",_id:"nuha-browz-rochester",properties:{name:"Nuha Browz",label:[{value:"Nuha Browz"}],category:[{value:"Eyebrow Services",term:"eyebrowservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Threading Services",term:"threadingservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/mQ_eFyha5JLtzIAt7rhUsQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24, Sola Salon Studios",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072714862"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.464522,44.004872]}},{type:"Feature",_id:"tangerine-gifts-rochester",properties:{name:"Tangerine Gifts",label:[{value:"Tangerine Gifts"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/FoU9M9v0onC587u6AopI0w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"110 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072528119"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4643586575985,44.0222858637571]}},{type:"Feature",_id:"tinns-on-2nd-rochester",properties:{name:"Tinn's On 2nd",label:[{value:"Tinn's On 2nd"}],category:[{value:"Cheesesteaks",term:"cheesesteaks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/CQOkvwzrLLT78zBmzrKtbA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1219 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072587506"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4823399,44.02178]}},{type:"Feature",_id:"herbergers-rochester-3",properties:{name:"Herberger's",label:[{value:"Herberger's"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AcwH-jdwY5EBeynGU-mKAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 SW 12 Street",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075351780"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.480452,44.004579]}},{type:"Feature",_id:"courtyard-by-marriott-rochester-4",properties:{name:"Courtyard by Marriott",label:[{value:"Courtyard by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/3GyoSx7uxxelrfj9RytdLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"161 13th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075360040"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4838047198358,44.0221179413953]}},{type:"Feature",_id:"dan-abraham-healthy-living-center-rochester-2",properties:{name:"Dan Abraham Healthy Living Center",label:[{value:"Dan Abraham Healthy Living Center"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/PVEXXd0_OoaTAK4Ow86HAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"565 1st St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072664688"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.47044,44.02302]}},{type:"Feature",_id:"mayo-clinic-blood-donor-center-rochester",properties:{name:"Mayo Clinic Blood Donor Center",label:[{value:"Mayo Clinic Blood Donor Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072667890"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4662040174007,44.0212580075217]}},{type:"Feature",_id:"optical-vision-w-flair-rochester",properties:{name:"Optical Vision W/Flair",label:[{value:"Optical Vision W/Flair"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/tUe5xxTfrRqdSr9YkmKV1g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072878444"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46471,44.02297]}},{type:"Feature",_id:"broadway-residence-and-suites-rochester",properties:{name:"Broadway Residence and Suites",label:[{value:"Broadway Residence and Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/iW20_j1xV4PUTNamBdlWlA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 1st St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072928807"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46257,44.0227999]}},{type:"Feature",_id:"tinns-grilled-philly-steak-subs-rochester-3",properties:{name:"Tinn's Grilled Philly Steak Subs",label:[{value:"Tinn's Grilled Philly Steak Subs"}],category:[{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, First Avenue Food Court",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585552"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"caribou-coffee-rochester-8",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SodrvYEb1LPVGOpK-jHdfg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste S24",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886230"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"salem-corners-services-rochester",properties:{name:"Salem Corners Services",label:[{value:"Salem Corners Services"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Sb_v3jaF9PIyXxkYFijSYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072597369"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4599999,44.02]}},{type:"Feature",_id:"hilton-garden-inn-rochester-downtown-rochester",properties:{name:"Hilton Garden Inn Rochester Downtown",label:[{value:"Hilton Garden Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Travel Services",term:"travelservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/u6nj0o41IrDSBix5znXB-g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"225 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072851234"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0208053588867]}},{type:"Feature",_id:"flapdoodles-ice-cream-south-store-rochester",properties:{name:"Flapdoodles Ice Cream - South Store",label:[{value:"Flapdoodles Ice Cream - South Store"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1710 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073220022"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.463165,43.997657]}},{type:"Feature",_id:"autozone-rochester-5",properties:{name:"Autozone",label:[{value:"Autozone"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gkcUR3sJqz_XBQstDIJtTA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1880 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072814768"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4593505859375,44.0429267883301]}},{type:"Feature",_id:"star-shuttle-service-rochester",properties:{name:"Star Shuttle Service",label:[{value:"Star Shuttle Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YOsZUphBDEuJok-Ml1EHAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 12",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8664402907"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"ginnys-fine-fabrics-and-support-group-rochester",properties:{name:"Ginny's Fine Fabrics & Support Group",label:[{value:"Ginny's Fine Fabrics & Support Group"}],category:[{value:"Fabric Stores",term:"fabricstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OD0k0EN54fNjzzI2Q43-6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072859134"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.463485,44.02111]}},{type:"Feature",_id:"fagan-studios-rochester-2",properties:{name:"Fagan Studios",label:[{value:"Fagan Studios"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/InTg4jL5VXmvjUgVKhK3EQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"324 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072592973"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46268,44.01964]}},{type:"Feature",_id:"aspen-suites-rochester",properties:{name:"Aspen Suites",label:[{value:"Aspen Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1211 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896600"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.48175,44.02184]}},{type:"Feature",_id:"rochester-downtown-farmers-market-rochester",properties:{name:"Rochester Downtown Farmers Market",label:[{value:"Rochester Downtown Farmers Market"}],category:[{value:"Farmers Market",term:"farmersmarket",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/PVEXXd0_OoaTAK4Ow86HAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4TH St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072738232"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.45125,44.01931]}},{type:"Feature",_id:"terraloco-rochester",properties:{name:"TerraLoco",label:[{value:"TerraLoco"}],category:[{value:"Sports Wear",term:"sportswear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 150",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072895626"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4793750047684,44.0006766468287]}},{type:"Feature",_id:"flowers-by-jerry-rochester-2",properties:{name:"Flowers By Jerry",label:[{value:"Flowers By Jerry"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Floral Designers",term:"floraldesigners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rDn8DsmYna1iwmf2J4zG9g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"122 10th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893967"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46019,44.0329]}},{type:"Feature",_id:"walgreens-rochester-7",properties:{name:"Walgreens",label:[{value:"Walgreens"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/prV5mc3h8F3pjDWNaiu4JQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"80 14Th St Sw",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072065132"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.465271,44.003139]}},{type:"Feature",_id:"charter-house-rochester-2",properties:{name:"Charter House",label:[{value:"Charter House"}],category:[{value:"Health & Medical",term:"health",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1KcZZ55187HvMlazWZqotQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072668572"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4667434692383,44.0257301330566]}},{type:"Feature",_id:"rochester-methodist-hospital-rochester",properties:{name:"Rochester Methodist Hospital",label:[{value:"Rochester Methodist Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Gti7RFklMjwiSofjjVICrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072667890"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.465934753418,44.0239372253418]}},{type:"Feature",_id:"rochester-methodist-hospital-cafeteria-rochester-3",properties:{name:"Rochester Methodist Hospital Cafeteria",label:[{value:"Rochester Methodist Hospital Cafeteria"}],category:[{value:"Cafeteria",term:"cafeteria",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4659621052216,44.0238511076374]}},{type:"Feature",_id:"a-1-all-brand-vacuums-rochester",properties:{name:"A-1 All Brand Vacuums",label:[{value:"A-1 All Brand Vacuums"}],category:[{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances",term:"appliances",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1004 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072809060"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.477723,44.030766]}},{type:"Feature",_id:"international-spices-and-groceries-rochester",properties:{name:"International Spices & Groceries",label:[{value:"International Spices & Groceries"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Imported Food",term:"importedfood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"125 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824856"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4604416,44.0237617]}},{type:"Feature",_id:"custom-costumes-tailor-maid-rochester",properties:{name:"Custom Costumes Tailor Maid",label:[{value:"Custom Costumes Tailor Maid"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Costumes",term:"costumes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/h5NoD_J-G5tnYZycIBrLrg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"603 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072813777"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4713592529297,44.0297164916992]}},{type:"Feature",_id:"an-honest-bike-shop-rochester",properties:{name:"An Honest Bike Shop",label:[{value:"An Honest Bike Shop"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/WqydL6_YAiBfbjTmQcMevQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"44 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888888"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.461067199707,44.01904296875]}},{type:"Feature",_id:"great-wall-rochester-2",properties:{name:"Great Wall",label:[{value:"Great Wall"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Zo5TsOWrnY4Mw-EWmImaVQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1516 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072920888"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4618727,44.0386644]}},{type:"Feature",_id:"tires-plus-rochester-2",properties:{name:"Tires Plus",label:[{value:"Tires Plus"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ofgf_16ieePXEzhoYrlzeA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1228 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072825366"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4748,44.0058099]}},{type:"Feature",_id:"kahler-hotels-rochester-5",properties:{name:"Kahler Hotels",label:[{value:"Kahler Hotels"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 SW 2nd Ave",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8005331655"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"clements-chevrolet-cadillac-rochester-2",properties:{name:"Clements Chevrolet Cadillac",label:[{value:"Clements Chevrolet Cadillac"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rTLy4ipZIh90eQMaI62nuQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1000 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890491"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4766540527344,44.0061645507812]}},{type:"Feature",_id:"john-kruesels-general-merchandise-and-auction-rochester",properties:{name:"John Kruesel's General Merchandise & Auction",label:[{value:"John Kruesel's General Merchandise & Auction"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/zcCcNyBV2uCD3J8xeB_geA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"22 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072898049"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.463501,44.0202866]}},{type:"Feature",_id:"broadway-laundromat-rochester",properties:{name:"Broadway Laundromat",label:[{value:"Broadway Laundromat"}],category:[{value:"Laundromat",term:"laundromat",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072855870"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.46343,44.03473]}},{type:"Feature",_id:"k-and-m-glass-rochester-2",properties:{name:"K & M Glass",label:[{value:"K & M Glass"}],category:[{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Glass & Mirrors",term:"glassandmirrors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windshield Installation & Repair",term:"windshieldinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"208 16th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072893261"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4599099,43.99966]}},{type:"Feature",_id:"aspen-select-rochester-3",properties:{name:"Aspen Select",label:[{value:"Aspen Select"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/SmLbgJB2XvHWoQ0njil9gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1215 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882671"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4821,44.02191]}},{type:"Feature",_id:"taco-johns-rochester",properties:{name:"Taco John's",label:[{value:"Taco John's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/gpi1yRK5cmD5qo9lJhKu0A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1045 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072819409"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4784934744457,44.031697]}},{type:"Feature",_id:"the-back-alley-kitchen-rochester",properties:{name:"The Back Alley Kitchen",label:[{value:"The Back Alley Kitchen"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/UbDYzBTgCcfQo0R2vSumpQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"301-399 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55905"},phone:"5072547249"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4659225315197,44.0202828535887]}},{type:"Feature",_id:"jems-confections-rochester-2",properties:{name:"Jem's Confections",label:[{value:"Jem's Confections"}],category:[{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cupcakes",term:"cupcakes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 117",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072590474"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4659310721027,44.0231292868772]}},{type:"Feature",_id:"rennings-flowers-rochester-2",properties:{name:"Renning's Flowers",label:[{value:"Renning's Flowers"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/7HZQMVRb19KPw4LL0lvwfg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"331 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072891818"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4687194824219,44.045524597168]}},{type:"Feature",_id:"escape-challenge-rochester-2",properties:{name:"Escape Challenge",label:[{value:"Escape Challenge"}],category:[{value:"Escape Games",term:"escapegames",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/IGxfHqp241URrwOKGawkUQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072723041"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4640502929688,44.029354095459]}},{type:"Feature",_id:"calvary-cemetery-rochester",properties:{name:"Calvary Cemetery",label:[{value:"Calvary Cemetery"}],category:[{value:"Funeral Services & Cemeteries",term:"funeralservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xe2irXiMNLrBfqlQ1etYBQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"500 11th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072881770"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4487384200916,44.0280673707242]}},{type:"Feature",_id:"pauls-lock-and-key-shop-rochester-2",properties:{name:"Paul's Lock & Key Shop",label:[{value:"Paul's Lock & Key Shop"}],category:[{value:"Keys & Locksmiths",term:"locksmiths",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1303 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072890633"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.463488,44.036087]}},{type:"Feature",_id:"99-giggles-rochester",properties:{name:"99 Giggles",label:[{value:"99 Giggles"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/U3N4aJklw4XpcyDhfD8Mqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529900"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4656171,44.0233826]}},{type:"Feature",_id:"games-by-james-rochester-2",properties:{name:"Games by James",label:[{value:"Games by James"}],category:[{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072808828"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"silver-lake-foods-rochester",properties:{name:"Silver Lake Foods",label:[{value:"Silver Lake Foods"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5e5INeaXgx0fPWRUMGXo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1402 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072823414"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4614487,44.0378189]}},{type:"Feature",_id:"great-clips-rochester-9",properties:{name:"Great Clips",label:[{value:"Great Clips"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880880"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"burger-king-rochester-27",properties:{name:"Burger King",label:[{value:"Burger King"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/_ogUF9qHdwvw-70Z8F_WpA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1550 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072851621"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4616241455078,44.0386276245117]}},{type:"Feature",_id:"pizza-hut-rochester-11",properties:{name:"Pizza Hut",label:[{value:"Pizza Hut"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"840 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072855000"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4625397,44.0136719]}},{type:"Feature",_id:"automotive-procare-rochester-4",properties:{name:"Automotive Procare",label:[{value:"Automotive Procare"}],category:[{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/uK66d5fuAilMitq6EVfzPg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"457 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072825200"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4845586,44.0282555]}},{type:"Feature",_id:"fedex-office-print-and-ship-center-rochester-2",properties:{name:"FedEx Office Print & Ship Center",label:[{value:"FedEx Office Print & Ship Center"}],category:[{value:"Shipping Centers",term:"shipping_centers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Signmaking",term:"signmaking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"440 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882233"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.469255,44.005334]}},{type:"Feature",_id:"old-rooster-antique-mall-rochester",properties:{name:"Old Rooster Antique Mall",label:[{value:"Old Rooster Antique Mall"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ROFgZ1HvJ8lAER8GPYm41w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"106 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072876228"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0246925354004]}},{type:"Feature",_id:"apache-mall-rochester-2",properties:{name:"Apache Mall",label:[{value:"Apache Mall"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/e43YLI3WoN2D2cja8h9HVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Hwys 52 South & 14 East",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072807291"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4793178994446,44.0044876319473]}},{type:"Feature",_id:"ye-olde-butcher-shoppe-rochester",properties:{name:"Ye Olde Butcher Shoppe",label:[{value:"Ye Olde Butcher Shoppe"}],category:[{value:"Meat Shops",term:"meats",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/NivUDZVgDwFy3_ZpmxPR7g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"902 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072825908"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4759902954102,44.0305824279785]}},{type:"Feature",_id:"centerstone-plaza-hotel-soldier-field-rochester",properties:{name:"Centerstone Plaza Hotel Soldiers Field - Mayo Clinic Area",label:[{value:"Centerstone Plaza Hotel Soldiers Field - Mayo Clinic Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Jq-ozJiW27IeXtjrr5gLZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882677"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.468682,44.017651]}},{type:"Feature",_id:"arbys-rochester-14",properties:{name:"Arby's",label:[{value:"Arby's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HdSHchuryCNRN7-h2Ot3xw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1218 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072812729"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4750214,44.0063591]}},{type:"Feature",_id:"lasker-jewelers-rochester",properties:{name:"Lasker Jewelers",label:[{value:"Lasker Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watches",term:"watches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gold Buyers",term:"goldbuyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HaYojGMPRK56ekS0qRy-hg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 First St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885214"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4651404676684,44.022534966125]}},{type:"Feature",_id:"hampton-inn-hotel-rochester",properties:{name:"Hampton Inn Hotel",label:[{value:"Hampton Inn Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/NFfTRDstOOKs1gJ14Cgylg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1755 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072879050"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4640119200393,43.9963662639385]}},{type:"Feature",_id:"virgils-auto-clinic-and-towing-rochester-3",properties:{name:"Virgil's Auto Clinic & Towing",label:[{value:"Virgil's Auto Clinic & Towing"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Roadside Assistance",term:"roadsideassist",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883600"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4793511,44.0220101]}},{type:"Feature",_id:"mestads-bridal-and-formal-wear-rochester",properties:{name:"Mestad's Bridal & Formal Wear",label:[{value:"Mestad's Bridal & Formal Wear"}],category:[{value:"Bridal",term:"bridal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Formal Wear",term:"formalwear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1171 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072892444"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4797464907169,44.0291771292686]}},{type:"Feature",_id:"eriks-bike-board-ski-rochester",properties:{name:"ERIK'S Bike Board Ski",label:[{value:"ERIK'S Bike Board Ski"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bike Repair/Maintenance",term:"bike_repair_maintenance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Ski & Snowboard Shops",term:"skishops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1220 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072920024"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4802166,44.0007192]}},{type:"Feature",_id:"semva-art-gallery-rochester",properties:{name:"Semva Art Gallery",label:[{value:"Semva Art Gallery"}],category:[{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/3mip-eC4NkG7y2jduWlEtw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"320 S Broadway",city:"Rochester",state_code:"MN",zip:"14602"},phone:"5072814920"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4626613,44.0197315]}},{type:"Feature",_id:"tejano-western-wear-rochester",properties:{name:"Tejano Western Wear",label:[{value:"Tejano Western Wear"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"815 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072801900"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4517212,44.0194588]}},{type:"Feature",_id:"schmitt-automotive-repair-rochester",properties:{name:"Schmitt Automotive Repair",label:[{value:"Schmitt Automotive Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Broadway N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882696"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.46257,44.02457]}},{type:"Feature",_id:"players-sports-grille-rochester",properties:{name:"Players Sports Grille",label:[{value:"Players Sports Grille"}],category:[{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/iBKtK1i8l4Px7yTzBDlQlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"821 Civic Ctr Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074242908"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.474785,44.02866]}},{type:"Feature",_id:"asian-food-store-rochester",properties:{name:"Asian Food Store",label:[{value:"Asian Food Store"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1010 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075369097"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4780197143555,44.0308876037598]}},{type:"Feature",_id:"manchu-wok-rochester",properties:{name:"Manchu Wok",label:[{value:"Manchu Wok"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/fWbSZ8gVas1oVuKrSpiwZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521218"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4774954468012,44.0048447996378]}},{type:"Feature",_id:"rochester-cycling-rochester",properties:{name:"Rochester Cycling",label:[{value:"Rochester Cycling"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1211 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897410"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.480827331543,44.031982421875]}},{type:"Feature",_id:"mcdonalds-rochester-35",properties:{name:"McDonald's",label:[{value:"McDonald's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_eyVIFPl5L9oxawpdYARJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1116 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072884454"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4624863,44.0346909]}},{type:"Feature",_id:"quality-inn-and-suites-rochester",properties:{name:"Quality Inn & Suites",label:[{value:"Quality Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1620 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828091"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.46134,43.999328]}},{type:"Feature",_id:"bobs-smoke-stack-ribs-down-rochester",properties:{name:"Bob's Smoke Stack Ribs Down",label:[{value:"Bob's Smoke Stack Ribs Down"}],category:[{value:"Barbeque",term:"bbq",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zce0mGnJUr5w-mzy_RXjdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075295699"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.462227,44.019657]}},{type:"Feature",_id:"mcdonalds-rochester",properties:{name:"McDonald's",label:[{value:"McDonald's"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xkJ1HtmOmRcLlYOdn2FhaA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072881163"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4749755859375,44.0050621032715]}},{type:"Feature",_id:"rochester-civic-theatre-rochester-2",properties:{name:"Rochester Civic Theatre",label:[{value:"Rochester Civic Theatre"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wI9vQc3ddulD0njl8wegLA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828481"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4601036,44.022731]}},{type:"Feature",_id:"holiday-inn-rochester-downtown-rochester-2",properties:{name:"Holiday Inn Rochester Downtown",label:[{value:"Holiday Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/7In3jFcEONJxP3x-NbHyFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528200"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.462577,44.020866]}},{type:"Feature",_id:"bicycle-sports-inc-rochester",properties:{name:"Bicycle Sports Inc",label:[{value:"Bicycle Sports Inc"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3Dw_uvJ2zXavAQf27djkTQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075364619"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4824829101562,44.0282325744629]}},{type:"Feature",_id:"the-machine-shed-rochester",properties:{name:"The Machine Shed",label:[{value:"The Machine Shed"}],category:[{value:"Arcades",term:"arcades",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 2nd St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072026761"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4627133,44.0254049]}},{type:"Feature",_id:"rochester-civic-music-riverside-concerts-rochester",properties:{name:"Rochester Civic Music-Riverside Concerts",label:[{value:"Rochester Civic Music-Riverside Concerts"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 4th St SE, Ste 170",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072858076"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4594039916992,44.0201072692871]}},{type:"Feature",_id:"joy-body-and-foot-massage-rochester",properties:{name:"Joy Body & Foot Massage",label:[{value:"Joy Body & Foot Massage"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jpKNyBSyRQw8Ss8nb8iafA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"204 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073192227"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4594740412143,44.0192750353239]}},{type:"Feature",_id:"pearl-house-rochester",properties:{name:"Pearl House",label:[{value:"Pearl House"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/J2nFVxnEeBzttbmFohYdQg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Civic Ctr Dr",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823662"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4795761,44.0283966]}},{type:"Feature",_id:"the-compadres-rochester",properties:{name:"The compadres",label:[{value:"The compadres"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073581901"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.463444,44.03345]}},{type:"Feature",_id:"hannys-rochester-2",properties:{name:"Hanny's",label:[{value:"Hanny's"}],category:[{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste S23",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894077"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"the-nordic-shop-rochester",properties:{name:"The Nordic Shop",label:[{value:"The Nordic Shop"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ZrWUak3es85JUTWt9AYmHw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 202",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8002826673"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634851,44.0224002]}},{type:"Feature",_id:"artistic-framers-rochester-2",properties:{name:"Artistic Framers",label:[{value:"Artistic Framers"}],category:[{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814890"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4638777,44.0202775]}},{type:"Feature",_id:"scrub-your-butt-soap-rochester",properties:{name:"Scrub Your Butt Soap",label:[{value:"Scrub Your Butt Soap"}],category:[{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072599019"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"tessas-office-wine-boutique-rochester",properties:{name:"Tessa's Office Wine Boutique",label:[{value:"Tessa's Office Wine Boutique"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072267763"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4633807817976,44.0203412899326]}},{type:"Feature",_id:"eye-q-intelligent-eyewear-rochester",properties:{name:"Eye-Q Intelligent Eyewear",label:[{value:"Eye-Q Intelligent Eyewear"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 Second Ave SW, Ste 77",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882311"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4654922,44.0229607]}},{type:"Feature",_id:"adam-howell-coldwell-banker-burnet-rochester-2",properties:{name:"Adam Howell  - Coldwell Banker Burnet",label:[{value:"Adam Howell  - Coldwell Banker Burnet"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/opKxj8PHL0XBGSCOgIXSWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072526785"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.464321,44.042018]}},{type:"Feature",_id:"goodyear-auto-service-center-rochester-11",properties:{name:"Goodyear Auto Service Center",label:[{value:"Goodyear Auto Service Center"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"12 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882485"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4626272916794,44.0238101422704]}},{type:"Feature",_id:"yoga-tribe-rochester",properties:{name:"Yoga Tribe",label:[{value:"Yoga Tribe"}],category:[{value:"Yoga",term:"yoga",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4mZYaPXdEXqKhZjWeVdT8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"328 S Broadway Ave",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072511596"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.462692,44.019542]}},{type:"Feature",_id:"welhaven-music-company-rochester",properties:{name:"Welhaven Music Company",label:[{value:"Welhaven Music Company"}],category:[{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Bhwi-zp5TuQJ03CCICQ_6w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072820287"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0240325927734]}},{type:"Feature",_id:"struves-paint-and-decorating-rochester",properties:{name:"Struve's Paint And Decorating",label:[{value:"Struve's Paint And Decorating"}],category:[{value:"Shades & Blinds",term:"blinds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Paint Stores",term:"paintstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pressure Washers",term:"pressurewashers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"501 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072822660"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634131,44.028285]}},{type:"Feature",_id:"essential-cold-pressed-juice-rochester",properties:{name:"Essential Cold-Pressed Juice",label:[{value:"Essential Cold-Pressed Juice"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/aAKC9snjEpgKk5GK2FePoQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"ell-boutiques-rochester",properties:{name:"Ell Boutiques",label:[{value:"Ell Boutiques"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/hfzZk377lo2LsvzXILeHqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585258"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634797,44.0202851]}},{type:"Feature",_id:"avis-rent-a-car-rochester-3",properties:{name:"Avis Rent A Car",label:[{value:"Avis Rent A Car"}],category:[{value:"Car Rental",term:"carrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/9UbhdPoyuyew4ih4c-bbww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885222"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"skinlab-piercing-and-tattoo-rochester",properties:{name:"SkinLab Piercing & Tattoo",label:[{value:"SkinLab Piercing & Tattoo"}],category:[{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/KnzafbZE1sBl4YmG8G4Alg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072084465"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4802703857422,44.0318908691406]}},{type:"Feature",_id:"torrid-rochester-2",properties:{name:"Torrid",label:[{value:"Torrid"}],category:[{value:"Plus Size Fashion",term:"plus_size_fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/aX5IBLJbjJVewNvUxFylKw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"US Hwy 52 And US Hwy 14 E, Sp 416",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072817928"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4591522216797,44.0193481445312]}},{type:"Feature",_id:"rochester-towing-rochester-3",properties:{name:"Rochester Towing",label:[{value:"Rochester Towing"}],category:[{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/_oxxZ7NKyBHB6ozu--KG5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072887317"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.465953,44.02157]}},{type:"Feature",_id:"kfc-rochester-20",properties:{name:"KFC",label:[{value:"KFC"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/1vVgVvdR--J6BlM7sd7Saw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"717 12th Street, South East",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072886200"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4535,44.00683]}},{type:"Feature",_id:"absolute-theatre-rochester",properties:{name:"Absolute Theatre",label:[{value:"Absolute Theatre"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/hfzZk377lo2LsvzXILeHqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"730 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072829000"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.47378,44.02509]}},{type:"Feature",_id:"thursdays-on-first-and-3rd-rochester",properties:{name:"Thursdays on First & 3rd",label:[{value:"Thursdays on First & 3rd"}],category:[{value:"Festivals",term:"festivals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/SAi3pALCIz-KD_mYmuDAIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072169882"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4645256251097,44.021566121062]}},{type:"Feature",_id:"ronald-mcdonald-house-rochester-2",properties:{name:"Ronald McDonald House",label:[{value:"Ronald McDonald House"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"850 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823955"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4756164550781,44.0212860107422]}},{type:"Feature",_id:"woodys-liquor-rochester",properties:{name:"Woody's Liquor",label:[{value:"Woody's Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/l_2C5OmpVOXnzUQAPPmUsw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"316 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822426"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46835,44.04372]}},{type:"Feature",_id:"imperial-wok-rochester",properties:{name:"Imperial Wok",label:[{value:"Imperial Wok"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"90 14th St, Ste 700",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072084288"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4654487,44.0027801]}},{type:"Feature",_id:"radioshack-rochester-3",properties:{name:"RadioShack",label:[{value:"RadioShack"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"638 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072888868"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4818497,44.0047951]}},{type:"Feature",_id:"christ-united-methodist-church-rochester",properties:{name:"Christ United Methodist Church",label:[{value:"Christ United Methodist Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"400 5th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894019"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4695892,44.0188103]}},{type:"Feature",_id:"canadian-honker-hospitality-services-rochester",properties:{name:"Canadian Honker Hospitality Services",label:[{value:"Canadian Honker Hospitality Services"}],category:[{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888682"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"calvary-episcopal-church-rochester",properties:{name:"Calvary Episcopal Church",label:[{value:"Calvary Episcopal Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/xyqDpAIlb6gHK0lglIm73A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3 Avenue & SW 2 St",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072829429"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4658557239933,44.0204136023616]}},{type:"Feature",_id:"rossi-auto-body-rochester",properties:{name:"Rossi Auto Body",label:[{value:"Rossi Auto Body"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"524 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806737"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.455336,44.019056]}},{type:"Feature",_id:"lovett-chiropractic-rochester",properties:{name:"Lovett Chiropractic",label:[{value:"Lovett Chiropractic"}],category:[{value:"Chiropractors",term:"chiropractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/jLbie4cbC2Nowvs0JSz32g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 3rd Ave SE, Ste 206",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072525448"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4584350585938,44.0202789306641]}},{type:"Feature",_id:"eagles-club-rochester-2",properties:{name:"Eagles Club",label:[{value:"Eagles Club"}],category:[{value:"Wedding Planning",term:"wedding_planning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"917 15th Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072899532"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4458299577236,44.0119579148641]}},{type:"Feature",_id:"recon-sign-and-graphics-rochester",properties:{name:"Recon Sign and Graphics",label:[{value:"Recon Sign and Graphics"}],category:[{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Advertising",term:"advertising",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"526 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073982898"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4625930786133,44.0289764404297]}},{type:"Feature",_id:"unraveled-escape-room-rochester",properties:{name:"UNRAVELED Escape Room",label:[{value:"UNRAVELED Escape Room"}],category:[{value:"Escape Games",term:"escapegames",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Team Building Activities",term:"teambuilding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Qbnn_ZU1mjQiZUgb93xzeA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074000386"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4787851,44.0263833]}},{type:"Feature",_id:"wash-me-car-wash-rochester-2",properties:{name:"Wash Me Car Wash",label:[{value:"Wash Me Car Wash"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/XLDqbSsCre7IKtWRNDeAcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1727 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073616037"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.46456,43.99715]}},{type:"Feature",_id:"gift-of-life-transplant-house-rochester",properties:{name:"Gift of Life Transplant House",label:[{value:"Gift of Life Transplant House"}],category:[{value:"Flowers & Gifts",term:"flowers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"705 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072887470"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4729232788086,44.0220909118652]}},{type:"Feature",_id:"firestone-complete-auto-care-rochester-4",properties:{name:"Firestone Complete Auto Care",label:[{value:"Firestone Complete Auto Care"}],category:[{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/NyrFef6JnPJfSUOT_8ZTMA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8778903037"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4779700889418,44.0068754017083]}},{type:"Feature",_id:"minnesota-childrens-museum-rochester-rochester",properties:{name:"Minnesota Children's Museum Rochester",label:[{value:"Minnesota Children's Museum Rochester"}],category:[{value:"Children's Museums",term:"childrensmuseums",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1643 N Broadway St, Ste A",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072183100"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.462736,44.040252]}},{type:"Feature",_id:"mayo-civic-center-presentation-hall-rochester",properties:{name:"Mayo Civic Center Presentation Hall",label:[{value:"Mayo Civic Center Presentation Hall"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HiuTU4JiG6N5zolUvn_5hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521010"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"rochester-oriental-food-and-jewelry-rochester",properties:{name:"Rochester Oriental Food and Jewelry",label:[{value:"Rochester Oriental Food and Jewelry"}],category:[{value:"Shopping",term:"shopping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ebZYsx58dY4WcPTVOI1_Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"605 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072808434"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4710949,44.0297356]}},{type:"Feature",_id:"salon-chic-and-day-spa-rochester",properties:{name:"Salon Chic & Day Spa",label:[{value:"Salon Chic & Day Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Waxing",term:"waxing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Spray Tanning",term:"spraytanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z-f97uac3QPseesVnXlwcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072851888"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4617355,44.0400715]}},{type:"Feature",_id:"majestic-tents-and-events-rochester",properties:{name:"Majestic Tents and Events",label:[{value:"Majestic Tents and Events"}],category:[{value:"Party Supplies",term:"partysupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"522 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5078761127"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4703604,44.0287562]}},{type:"Feature",_id:"jcpenney-rochester-3",properties:{name:"JCPenney",label:[{value:"JCPenney"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AcwH-jdwY5EBeynGU-mKAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072888383"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4776486122342,44.0045024795308]}},{type:"Feature",_id:"sue-madden-state-farm-insurance-agent-rochester",properties:{name:"Sue Madden - State Farm Insurance Agent",label:[{value:"Sue Madden - State Farm Insurance Agent"}],category:[{value:"Insurance",term:"insurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"914 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072810100"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46276,44.03279]}},{type:"Feature",_id:"the-power-movers-of-mn-rochester",properties:{name:"The Power Movers of MN",label:[{value:"The Power Movers of MN"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"907 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073584327"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46857,44.03257]}},{type:"Feature",_id:"magic-1-nails-rochester",properties:{name:"Magic 1 Nails",label:[{value:"Magic 1 Nails"}],category:[{value:"Tanning",term:"tanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yZW6wKkXGIZLpBMJ2fxcPg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1119 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075290708"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4799777,44.0284233]}},{type:"Feature",_id:"mayo-clinic-hospital-rochester",properties:{name:"Mayo Clinic Hospital",label:[{value:"Mayo Clinic Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/4uR_9pnV5yROqywy6Hwzrw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072555123"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"refashion-consigned-furniture-and-clothing-rochester",properties:{name:"Refashion Consigned Furniture and Clothing",label:[{value:"Refashion Consigned Furniture and Clothing"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oI0WXK-E1d6jvQhcU-zZhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"321 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810808"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.463493347168,44.0196952819824]}},{type:"Feature",_id:"nickelson-painting-rochester",properties:{name:"Nickelson Painting",label:[{value:"Nickelson Painting"}],category:[{value:"Painters",term:"painters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/URKL4KlvRbE8X3DIrTzAOg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1204 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072800202"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4625778198242,44.0351524353027]}},{type:"Feature",_id:"kwik-trip-433-rochester",properties:{name:"Kwik Trip #433",label:[{value:"Kwik Trip #433"}],category:[{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"560 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072926981"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4789505451918,44.0287734568119]}},{type:"Feature",_id:"waynes-fine-jewelry-rochester",properties:{name:"Wayne's Fine Jewelry",label:[{value:"Wayne's Fine Jewelry"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jewelry Repair",term:"jewelryrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watch Repair",term:"watch_repair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/7xxJDiDgrke0XvLiM83eJA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1134 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072876894"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.480911,44.031058]}},{type:"Feature",_id:"fifth-place-awards-rochester",properties:{name:"Fifth Place Awards",label:[{value:"Fifth Place Awards"}],category:[{value:"Trophy Shops",term:"trophyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/VU4-yIN0BL7GQjvflNCmWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"27 10th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823125"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4643630981445,44.0334434509277]}},{type:"Feature",_id:"st-marys-barbers-rochester",properties:{name:"St Mary's Barbers",label:[{value:"St Mary's Barbers"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/tW0uPY3IJDnBcoz1ey48vQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823200"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"ronningen-roofing-rochester",properties:{name:"Ronningen Roofing",label:[{value:"Ronningen Roofing"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PC_KtAp2xcVpY55IRoE_QA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"608 11th Ave NW, Ste 200 and 300",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818899"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4790352,44.0297767]}},{type:"Feature",_id:"andersons-wheelchairs-rochester",properties:{name:"Anderson's Wheelchairs",label:[{value:"Anderson's Wheelchairs"}],category:[{value:"Mobility Equipment Sales & Services",term:"mobilityequipment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/q_WTgIK4-IJiRQvfkPQhVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880113"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4796371459961,44.0219535827637]}},{type:"Feature",_id:"pharmaceutical-specialties-rochester-2",properties:{name:"Pharmaceutical Specialties",label:[{value:"Pharmaceutical Specialties"}],category:[{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ukv4Q9Y6Yt4JDXBgtsKBYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"8003258232"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"super-8-rochester-fairgrounds-area-rochester",properties:{name:"Super 8 Rochester/Fairgrounds Area",label:[{value:"Super 8 Rochester/Fairgrounds Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3BwxXsV53q2vXfHsKHl_Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1230 S Broadway, Hwy 63 and 14, 10 mi N of I-90",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8005369326"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46158,44.00531]}},{type:"Feature",_id:"o-k-barbershop-rochester",properties:{name:"O K Barbershop",label:[{value:"O K Barbershop"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/arb-WKayuoYA97Rsrm4gFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"810 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072899840"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4801989,44.0121221]}},{type:"Feature",_id:"le-petit-caf\xe9-rochester",properties:{name:"Le Petit Caf\xe9",label:[{value:"Le Petit Caf\xe9"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/yhpkHySDduPgJbqmW5Yjtw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"35 Fairgrounds Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"6513807224"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4604906935333,44.0033579855974]}},{type:"Feature",_id:"think-mutual-bank-rochester",properties:{name:"Think Mutual Bank",label:[{value:"Think Mutual Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883425"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"walgreens-rochester-8",properties:{name:"Walgreens",label:[{value:"Walgreens"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 Civic Center Dr Nw",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072065173"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4792502820492,44.0281149744987]}},{type:"Feature",_id:"savers-rochester",properties:{name:"Savers",label:[{value:"Savers"}],category:[{value:"Thrift Stores",term:"thrift_stores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/DVmToO9y4fC8fCgZoK7ZAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075362564"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"jason-elsmore-plumbing-rochester-5",properties:{name:"Elsmore Plumbing",label:[{value:"Elsmore Plumbing"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ERkSJkLPxiceit7pqouTTQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1984 68th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072548680"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4806231352295,44.0109309297886]}},{type:"Feature",_id:"american-legion-post-92-rochester",properties:{name:"American Legion Post 92",label:[{value:"American Legion Post 92"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Social Clubs",term:"social_clubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/B7PlBqwHI40Yk36unE-mHg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"315 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821322"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4651947021484,44.0267944335938]}},{type:"Feature",_id:"cold-stone-creamery-rochester-5",properties:{name:"Cold Stone Creamery",label:[{value:"Cold Stone Creamery"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Aox-lgKLdQxulOyN1SdiFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1050 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074242990"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4777249,44.002886]}},{type:"Feature",_id:"hy-vee-rochester-2",properties:{name:"Hy-Vee",label:[{value:"Hy-Vee"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"500 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072897500"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.47026,44.00513]}},{type:"Feature",_id:"psimos-nicholas-h-dds-rochester",properties:{name:"Psimos Nicholas H DDS",label:[{value:"Psimos Nicholas H DDS"}],category:[{value:"Oral Surgeons",term:"oralsurgeons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072880126"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4634323,44.0342407]}},{type:"Feature",_id:"minuteman-press-rochester-rochester-3",properties:{name:"Minuteman Press - Rochester",label:[{value:"Minuteman Press - Rochester"}],category:[{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1316 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072884777"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.48222,44.03152]}},{type:"Feature",_id:"wild-goose-sports-rochester",properties:{name:"Wild Goose Sports",label:[{value:"Wild Goose Sports"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Broadway Ave N, Ste 1",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072892520"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4634323,44.034729]}},{type:"Feature",_id:"everything-hobby-rochester-2",properties:{name:"Everything Hobby",label:[{value:"Everything Hobby"}],category:[{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1310 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074050370"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4818828701973,44.0317896008492]}},{type:"Feature",_id:"lakeside-dentistry-rochester-4",properties:{name:"Lakeside Dentistry",label:[{value:"Lakeside Dentistry"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Endodontists",term:"endodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"24 W Silver Lake Dr NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072828222"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4626923,44.0356596]}},{type:"Feature",_id:"automotive-md-rochester",properties:{name:"Automotive MD",label:[{value:"Automotive MD"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/qGwYGHHOS4kq68Uc1wcv-A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1829 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072898992"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4588928,43.9949493]}},{type:"Feature",_id:"calvary-chapel-rochester-rochester",properties:{name:"Calvary Chapel Rochester",label:[{value:"Calvary Chapel Rochester"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ip3P0Bo1dOujUsVOR3PpiQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"814 11th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072870023"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4484267,44.0319393]}},{type:"Feature",_id:"andys-liquor-rochester",properties:{name:"Andy's Liquor",label:[{value:"Andy's Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072890777"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.464188,44.005148]}},{type:"Feature",_id:"sarku-japan-rochester-2",properties:{name:"Sarku Japan",label:[{value:"Sarku Japan"}],category:[{value:"Japanese",term:"japanese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GEQkhPxaM7oCZtKfcA8fBA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075369412"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4818754941225,44.0033991522736]}},{type:"Feature",_id:"days-inn-rochester-downtown-rochester",properties:{name:"Days Inn Rochester Downtown",label:[{value:"Days Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1c8vMLzUuCbd1cOkXEk9Hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1st Avenue Northwest",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8003291073"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4644666081938,44.0234282230112]}},{type:"Feature",_id:"edge-fitness-rochester-3",properties:{name:"Edge Fitness",label:[{value:"Edge Fitness"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Crossroads Ctr, 1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072586475"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4641037,44.0048485]}},{type:"Feature",_id:"tangles-hair-extensions-and-more-rochester",properties:{name:"Tangles Hair Extensions and More",label:[{value:"Tangles Hair Extensions and More"}],category:[{value:"Hair Extensions",term:"hair_extensions",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/8r35-66ilwO4_dCuR3OPWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24, Studio 1",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079238614"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.466432899833,44.0046678702699]}},{type:"Feature",_id:"fish-and-pets-rochester",properties:{name:"Fish & Pets",label:[{value:"Fish & Pets"}],category:[{value:"Pet Stores",term:"petstore",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bfJlU5QHT2j6ODgkEHgBUw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814661"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4662366705234,44.0052837352205]}},{type:"Feature",_id:"pier-1-rochester",properties:{name:"Pier 1",label:[{value:"Pier 1"}],category:[{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/-c4W5Fwe51OBej7bP0X8tA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072896006"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"weber-and-judd-rochester",properties:{name:"Weber & Judd",label:[{value:"Weber & Judd"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TSoWxYXW4jALmL_Kn3VKKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890716"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"shops-at-university-square-rochester",properties:{name:"Shops At University Square",label:[{value:"Shops At University Square"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 Broadway Ave S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072811364"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46348,44.02239]}},{type:"Feature",_id:"southern-touch-rochester",properties:{name:"Southern Touch",label:[{value:"Southern Touch"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ErSAkdKgDHVv2ebxl2Sq9w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072693685"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46584,44.03654]}},{type:"Feature",_id:"sola-salon-studios-rochester",properties:{name:"Sola Salon Studios",label:[{value:"Sola Salon Studios"}],category:[{value:"Nail Technicians",term:"nailtechnicians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072733318"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4664100066229,44.004559301223]}},{type:"Feature",_id:"subway-rochester-14",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/LIwJKVReAzk7UNWj8XnJHg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"205 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929449"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4805196297209,44.0041373170632]}},{type:"Feature",_id:"rochester-feed-and-country-store-rochester-2",properties:{name:"Rochester Feed And Country Store",label:[{value:"Rochester Feed And Country Store"}],category:[{value:"Pet Stores",term:"petstore",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pet Groomers",term:"groomer",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1ffW9FxTmOJ7Zl-KOtqkRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5 11 1/2 St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072855547"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4576445075576,44.0003485467589]}},{type:"Feature",_id:"cinnabon-rochester",properties:{name:"Cinnabon",label:[{value:"Cinnabon"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/c_CDSuh22EJYXIA4L1SfZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811233"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.464917,44.022289]}},{type:"Feature",_id:"peace-plaza-rochester",properties:{name:"Peace Plaza",label:[{value:"Peace Plaza"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W82_iAZGtX_eOwgLXyIvXQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074245677"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4649939002336,44.0225184963339]}},{type:"Feature",_id:"carrolls-cup-rochester",properties:{name:"Carroll's Cup",label:[{value:"Carroll's Cup"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882470"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"rc-nails-rochester",properties:{name:"Rc Nails",label:[{value:"Rc Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b0kdU4VOBDEF23KHhf7uRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1613 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072829666"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46353,44.03987]}},{type:"Feature",_id:"post-bulletin-company-rochester",properties:{name:"Post-Bulletin Company",label:[{value:"Post-Bulletin Company"}],category:[{value:"Print Media",term:"printmedia",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"massmedia",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072857600"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4608383,44.0229988]}},{type:"Feature",_id:"field-house-rochester",properties:{name:"Field House",label:[{value:"Field House"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074245880"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4649429321289,43.9985466003418]}},{type:"Feature",_id:"toys-r-us-rochester",properties:{name:"Toys R Us",label:[{value:"Toys R Us"}],category:[{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z-f97uac3QPseesVnXlwcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"808 Apache Lane",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072869291"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4731597900391,44.0060195922852]}},{type:"Feature",_id:"caribou-coffee-rochester-6",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/eKyUptH0TmmKj1ZGrZRnNQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4788971,44.0068054]}},{type:"Feature",_id:"essence-skin-clinic-permanent-cosmetics-rochester",properties:{name:"Essence Skin Clinic Permanent Cosmetics",label:[{value:"Essence Skin Clinic Permanent Cosmetics"}],category:[{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Dermatologists",term:"dermatology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/jWNov1Tg2wcRxqq36fjfkg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"25 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855505"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4635229,44.0216897]}},{type:"Feature",_id:"knights-chamber-rochester-2",properties:{name:"Knights Chamber",label:[{value:"Knights Chamber"}],category:[{value:"Fashion",term:"fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072850517"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"minnesota-auto-license-bureau-rochester-2",properties:{name:"Minnesota Auto License Bureau",label:[{value:"Minnesota Auto License Bureau"}],category:[{value:"Notaries",term:"notaries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824711"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"mayo-civic-center-arena-rochester",properties:{name:"Mayo Civic Center Arena",label:[{value:"Mayo Civic Center Arena"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/pkntKlHssgGG1r9EmJBc8g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Ctr Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8006538000"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"charleys-philly-steak-rochester",properties:{name:"Charleys Philly Steak",label:[{value:"Charleys Philly Steak"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072816381"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"the-salvation-army-rochester-2",properties:{name:"The Salvation Army",label:[{value:"The Salvation Army"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"118 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072920967"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.462914288044,44.0246710181236]}},{type:"Feature",_id:"once-upon-a-child-rochester",properties:{name:"Once Upon A Child",label:[{value:"Once Upon A Child"}],category:[{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xw7c6jL1Pit39GLfvu2R5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1115 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072525090"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.47991,44.0287099]}},{type:"Feature",_id:"go-rochester-direct-rochester-2",properties:{name:"GO Rochester Direct",label:[{value:"GO Rochester Direct"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"8002809270"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"zales-jewelers-rochester",properties:{name:"Zales Jewelers",label:[{value:"Zales Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5ibEE4yUJnM3rDvtZbiThA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"240 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855320"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.4779663,44.0050812]}},{type:"Feature",_id:"jubilee-bubble-tea-rochester",properties:{name:"Jubilee Bubble Tea",label:[{value:"Jubilee Bubble Tea"}],category:[{value:"Bubble Tea",term:"bubbletea",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/OYDc89EY2QdQHdNN37htIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:null},phone:null},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.46295,44.0234]}},{type:"Feature",_id:"rochester-area-chamber-of-commerce-rochester",properties:{name:"Rochester Area Chamber of Commerce",label:[{value:"Rochester Area Chamber of Commerce"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway, Ste 100",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881122"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.462577,44.020866]}},{type:"Feature",_id:"northgate-health-club-rochester-2",properties:{name:"Northgate Health Club",label:[{value:"Northgate Health Club"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PM7hO-j8yxfue2BGNXCSGg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824445"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.479659,44.030881]}},{type:"Feature",_id:"kismet-rochester-4",properties:{name:"Kismet",label:[{value:"Kismet"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/zHKoYALOiQKMqjMVDWfgwQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"601 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074242636"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4631233,44.0295473]}},{type:"Feature",_id:"sport-clips-rochester-4",properties:{name:"Sport Clips",label:[{value:"Sport Clips"}],category:[{value:"Men's Hair Salons",term:"menshair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"414 Crossroads Dr",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072813798"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4685931950808,44.0061952918768]}},{type:"Feature",_id:"villa-italian-kitchen-rochester",properties:{name:"Villa Italian Kitchen",label:[{value:"Villa Italian Kitchen"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/B2EpI7FiAnzLUx-GPoQ_vA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823086"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"pipsqueaks-rochester",properties:{name:"pipsqueaks",label:[{value:"pipsqueaks"}],category:[{value:"Playgrounds",term:"playgrounds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"903 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.477053,44.023988]}},{type:"Feature",_id:"tonna-mechanical-rochester",properties:{name:"Tonna Mechanical",label:[{value:"Tonna Mechanical"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/i0qS6-fjh9zLHd7fYEiGLQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2411 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881908"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4598378,44.0434966]}},{type:"Feature",_id:"residences-of-old-town-hall-rochester",properties:{name:"Residences of Old Town Hall",label:[{value:"Residences of Old Town Hall"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ouSSLeZ2C0K8iVEy-XmCnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"607 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814668"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4546432495117,44.0244903564453]}},{type:"Feature",_id:"boston-shoe-and-boot-repair-rochester",properties:{name:"Boston Shoe & Boot Repair",label:[{value:"Boston Shoe & Boot Repair"}],category:[{value:"Shoe Repair",term:"shoerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HaCc7qnbzTpPI5Gq9_7KmA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"335 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826527"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.480159,44.004702]}},{type:"Feature",_id:"advance-auto-parts-rochester-13",properties:{name:"Advance Auto Parts",label:[{value:"Advance Auto Parts"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/z_WsYWbEQXnLfwFh0mPf5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1764 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072819170"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.462357737204,43.9962570447519]}},{type:"Feature",_id:"kismet-central-rochester",properties:{name:"Kismet Central",label:[{value:"Kismet Central"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"607 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074242636"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4632249,44.0297298]}},{type:"Feature",_id:"olmsted-county-fairgrounds-rochester",properties:{name:"Olmsted County Fairgrounds",label:[{value:"Olmsted County Fairgrounds"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072829862"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"brow-art-23-rochester",properties:{name:"Brow Art 23",label:[{value:"Brow Art 23"}],category:[{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St, Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072893006"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"soldiers-memorial-field-golf-course-rochester",properties:{name:"Soldiers Memorial Field Golf Course",label:[{value:"Soldiers Memorial Field Golf Course"}],category:[{value:"Golf",term:"golf",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/9S7nF6dFdQ1aiA6nbrlgbw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"244 Soldiers Field Dr SE",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072816176"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4660186767578,44.0108528137207]}},{type:"Feature",_id:"french-touch-photography-rochester-3",properties:{name:"French Touch Photography",label:[{value:"French Touch Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xfcnGMBwQlsioaFKR3yfog/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1262 17th Av NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072714248"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4874900281429,44.0352456271648]}},{type:"Feature",_id:"natures-best-cleaners-rochester-5",properties:{name:"Nature's Best Cleaners",label:[{value:"Nature's Best Cleaners"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/5hfgpyJfOWulVxWmBXaa0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1430 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072815765"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.48298,44.02817]}},{type:"Feature",_id:"ohly-law-office-rochester",properties:{name:"Ohly Law Office",label:[{value:"Ohly Law Office"}],category:[{value:"Lawyers",term:"lawyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1850 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072894529"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4594727,44.0425415]}},{type:"Feature",_id:"shoot-n-save-sports-rochester",properties:{name:"Shoot-N-Save Sports",label:[{value:"Shoot-N-Save Sports"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"106 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072859593"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4655914306641,43.9997100830078]}},{type:"Feature",_id:"bcs-computer-support-rochester",properties:{name:"BCS Computer Support",label:[{value:"BCS Computer Support"}],category:[{value:"IT Services & Computer Repair",term:"itservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Computers",term:"computers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2330 6th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072260123"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4540349,44.0423719]}},{type:"Feature",_id:"uc-nails-rochester",properties:{name:"UC Nails",label:[{value:"UC Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/H1zT_Cn1AdjjK0pDeQuQjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 400",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890646"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4793750047684,44.0006766468287]}},{type:"Feature",_id:"green-planet-disposal-rochester",properties:{name:"Green Planet Disposal",label:[{value:"Green Planet Disposal"}],category:[{value:"Recycling Center",term:"recyclingcenter",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/WUS_sokwjmxK8qkqgC-JSQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072814285"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"home-federal-rochester",properties:{name:"Home Federal",label:[{value:"Home Federal"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/IYuBt7AI3V1WAGYNbzEZNQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1016 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075295680"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4780960083008,44.0277137756348]}},{type:"Feature",_id:"panera-bread-rochester-11",properties:{name:"Panera Bread",label:[{value:"Panera Bread"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"825 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855800"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.476175,44.0004496]}},{type:"Feature",_id:"mayo-employees-federal-credit-union-rochester",properties:{name:"Mayo Employees Federal Credit Union",label:[{value:"Mayo Employees Federal Credit Union"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW, Centerplace Building Main Fl",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.464951,44.021839]}},{type:"Feature",_id:"victorias-secret-store-644-rochester",properties:{name:"Victoria's Secret Store 644",label:[{value:"Victoria's Secret Store 644"}],category:[{value:"Lingerie",term:"lingerie",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072809530"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4780149,44.0059551]}},{type:"Feature",_id:"plummer-house-rochester",properties:{name:"Plummer House",label:[{value:"Plummer House"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/vChvdcQVQ7YbjQQTyWbKqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1091 Plummer Ln SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073282525"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.479813,44.010483]}},{type:"Feature",_id:"us-postal-service-tty-assistance-rochester",properties:{name:"US Postal Service-Tty Assistance",label:[{value:"US Postal Service-Tty Assistance"}],category:[{value:"Post Offices",term:"postoffices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"publicservicesgovt",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8778777833"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0223541259766]}},{type:"Feature",_id:"shops-at-university-square-rochester-2",properties:{name:"Shops at University Square",label:[{value:"Shops at University Square"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8882806419"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"serenity-couture-salon-and-spa-rochester",properties:{name:"Serenity Couture Salon & Spa",label:[{value:"Serenity Couture Salon & Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"702 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890123"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4818218,44.0040387]}},{type:"Feature",_id:"color-me-mine-rochester-2",properties:{name:"Color Me Mine",label:[{value:"Color Me Mine"}],category:[{value:"Paint-Your-Own Pottery",term:"paintyourownpottery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"416 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585436"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4687424,44.0058517]}},{type:"Feature",_id:"danielles-consignment-boutique-rochester",properties:{name:"Danielle's Consignment Boutique",label:[{value:"Danielle's Consignment Boutique"}],category:[{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/0X_60t-PW2727IQu979bOg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1922 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072066575"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4631832,44.0171272]}},{type:"Feature",_id:"hindu-samaj-temple-of-minnesota-rochester",properties:{name:"Hindu Samaj Temple of Minnesota",label:[{value:"Hindu Samaj Temple of Minnesota"}],category:[{value:"Hindu Temples",term:"hindu_temples",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"911 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811590"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.47944,44.03276]}},{type:"Feature",_id:"pro-nails-rochester",properties:{name:"Pro Nails",label:[{value:"Pro Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Waxing",term:"waxing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lSFSWrG56RJldj4Xtp6irw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"834 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880937"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4628593027592,44.0138147771358]}},{type:"Feature",_id:"gentling-dental-care-rochester",properties:{name:"Gentling Dental Care",label:[{value:"Gentling Dental Care"}],category:[{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2210 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072887379"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4569202020996,44.0458516323205]}},{type:"Feature",_id:"5th-on-5th-rochester",properties:{name:"5th On 5th",label:[{value:"5th On 5th"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/wbwF79yFn-OGiGDHadHXnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"510 5th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4701843,44.0180244]}},{type:"Feature",_id:"firefly-barre-fitness-rochester",properties:{name:"Firefly Barre Fitness",label:[{value:"Firefly Barre Fitness"}],category:[{value:"Barre Classes",term:"barreclasses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073223969"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4643275573091,44.0201701683824]}},{type:"Feature",_id:"cut-above-home-rochester",properties:{name:"Cut Above Home",label:[{value:"Cut Above Home"}],category:[{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883808"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4804897,44.0043312]}},{type:"Feature",_id:"civic-inn-rochester",properties:{name:"Civic Inn",label:[{value:"Civic Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4iWWRVAjrUR2PpLCw6GeyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072893343"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.461296081543,44.0237617492676]}},{type:"Feature",_id:"hunts-rochester",properties:{name:"Hunt's",label:[{value:"Hunt's"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1510 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893901"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4619064,44.0386047]}},{type:"Feature",_id:"silver-lake-liquor-rochester",properties:{name:"Silver Lake Liquor",label:[{value:"Silver Lake Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072895575"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4612274,44.0374908]}},{type:"Feature",_id:"rochester-pro-music-rochester",properties:{name:"Rochester Pro Music",label:[{value:"Rochester Pro Music"}],category:[{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1312 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072529197"},updated:1510719326732},geometry:{type:"Point",coordinates:[-92.48212,44.0313299]}},{type:"Feature",_id:"junk-it-rochester-3",properties:{name:"Junk-It",label:[{value:"Junk-It"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"116 18th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072547833"},updated:1510719326732},geometry:{type:"Point",coordinates:[-92.461311340332,43.9957695007324]}},{type:"Feature",_id:"sixty-three-club-rochester",properties:{name:"Sixty-Three Club",label:[{value:"Sixty-Three Club"}],category:[{value:"Nightlife",term:"nightlife",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Kish6nNPoiio00xzygNCAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1726 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810632"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4634172022343,43.9974070340395]}},{type:"Feature",_id:"always-caring-inc-rochester",properties:{name:"Always Caring, Inc",label:[{value:"Always Caring, Inc"}],category:[{value:"Home Health Care",term:"homehealthcare",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1652 Greenview Dr SW, Ste 160",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072724059"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4864933,44.0002234]}},{type:"Feature",_id:"centerstone-plaza-hotel-rochester",properties:{name:"Centerstone Plaza Hotel",label:[{value:"Centerstone Plaza Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-nTfJ-9BQSAnuQd5PjCw1Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882677"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4684219,44.0173492]}},{type:"Feature",_id:"wyndham-garden-rochester-rochester",properties:{name:"Wyndham Garden Rochester",label:[{value:"Wyndham Garden Rochester"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/sCOmo8JsNxqicnN6ZmnKzQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8885959874"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.46494,43.99855]}},{type:"Feature",_id:"5th-avenue-inn-and-suites-rochester",properties:{name:"5th Avenue Inn & Suites",label:[{value:"5th Avenue Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/XgfE6ohYOWX7zdHwn2_FSQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 5th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893987"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.46913,44.02419]}},{type:"Feature",_id:"recreation-center-rochester",properties:{name:"Recreation Center",label:[{value:"Recreation Center"}],category:[{value:"Amateur Sports Teams",term:"amateursportsteams",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TSoWxYXW4jALmL_Kn3VKKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073282500"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4618799,44.04209]}},{type:"Feature",_id:"rochester-art-center-rochester-2",properties:{name:"Rochester Art Center",label:[{value:"Rochester Art Center"}],category:[{value:"Museums",term:"museums",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"40 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828629"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4600351,44.0230604]}},{type:"Feature",_id:"disons-cleaners-and-launderers-rochester",properties:{name:"Dison's Cleaners & Launderers",label:[{value:"Dison's Cleaners & Launderers"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"214 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893944"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4625473,44.0258293]}},{type:"Feature",_id:"junk-pros-llc-rochester",properties:{name:"Junk Pros LLC",label:[{value:"Junk Pros LLC"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-x38OIC0JIsJg9v7cK0ZLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:null},phone:"5073986207"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.45985,44.01932]}},{type:"Feature",_id:"cloud-9-spa-and-salon-rochester",properties:{name:"Cloud 9 Spa and Salon",label:[{value:"Cloud 9 Spa and Salon"}],category:[{value:"Acupuncture",term:"acupuncture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Massage Therapy",term:"massage_therapy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Lf8EOD30O9UzvVtcMBh1gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"108 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886689"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4643578971764,44.0222992733652]}},{type:"Feature",_id:"love-from-minnesota-rochester",properties:{name:"Love From Minnesota",label:[{value:"Love From Minnesota"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Souvenir Shops",term:"souvenirs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St SW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823102"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"servpro-of-rochester-rochester-2",properties:{name:"SERVPRO of Rochester",label:[{value:"SERVPRO of Rochester"}],category:[{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/LMZjT2LDdqnNKfkpBM6CvQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072869170"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.465953,44.02157]}},{type:"Feature",_id:"maurices-rochester",properties:{name:"Maurices",label:[{value:"Maurices"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072897372"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"rochester-recreation-center-rochester",properties:{name:"Rochester Recreation Center",label:[{value:"Rochester Recreation Center"}],category:[{value:"Recreation Centers",term:"recreation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/uclvBYEW0NkPYasxNLiAlA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073282500"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.462769,44.042633]}},{type:"Feature",_id:"graham-arena-complex-rochester",properties:{name:"Graham Arena Complex",label:[{value:"Graham Arena Complex"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 St & 3 Ave SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072816189"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4586525599937,43.9999704524023]}},{type:"Feature",_id:"the-buckle-rochester",properties:{name:"The Buckle",label:[{value:"The Buckle"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 414 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886570"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4794464,44.006115]}},{type:"Feature",_id:"exquisite-leather-and-luggage-rochester",properties:{name:"Exquisite Leather & Luggage",label:[{value:"Exquisite Leather & Luggage"}],category:[{value:"Luggage",term:"luggage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896982"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"rochester-city-of-rochester-53",properties:{name:"Rochester-City of",label:[{value:"Rochester-City of"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 St & 3 Ave SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072816189"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4586525599937,43.9999704524023]}},{type:"Feature",_id:"travelers-hotel-rochester",properties:{name:"Travelers Hotel",label:[{value:"Travelers Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YRTOfQA-zlmsH8gniiXpCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"426 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894095"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.469367980957,44.0212364196777]}},{type:"Feature",_id:"the-kitchen-design-studio-rochester",properties:{name:"The Kitchen Design Studio",label:[{value:"The Kitchen Design Studio"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"23 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882930"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4635162,44.0236206]}},{type:"Feature",_id:"metropolitan-market-place-rochester",properties:{name:"Metropolitan Market Place",label:[{value:"Metropolitan Market Place"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"515 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268335"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4649276733398,44.0176544189453]}},{type:"Feature",_id:"lenscrafters-rochester-6",properties:{name:"LensCrafters",label:[{value:"LensCrafters"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Optometrists",term:"optometrists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814050"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4633092123032,44.0226384441336]}},{type:"Feature",_id:"bls-repair-rochester",properties:{name:"BLS Repair",label:[{value:"BLS Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1701 2nd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806918"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4606399536133,43.9977188110352]}},{type:"Feature",_id:"u-s-bank-rochester-3",properties:{name:"U.S. Bank",label:[{value:"U.S. Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/mac7meOiVGTQwAePxWowjg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072857900"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.46495,44.02184]}},{type:"Feature",_id:"lairs-shoes-rochester",properties:{name:"Lair's Shoes",label:[{value:"Lair's Shoes"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823141"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4649505615234,44.0218391418457]}},{type:"Feature",_id:"kitchen-collection-rochester",properties:{name:"Kitchen Collection",label:[{value:"Kitchen Collection"}],category:[{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"507 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075293634"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4810296,44.0060762]}},{type:"Feature",_id:"olmsted-medical-center-rochester",properties:{name:"Olmsted Medical Center",label:[{value:"Olmsted Medical Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/yMENVZnJ7TQCjqY12atPyw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072872780"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.459877,44.0124283]}},{type:"Feature",_id:"smart-home-innovations-and-engineering-rochester",properties:{name:"Smart Home Innovations & Engineering",label:[{value:"Smart Home Innovations & Engineering"}],category:[{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Automation",term:"homeautomation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/1OYBaAM8yWBL9kiQEeroGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"212 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072268555"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4628251,44.02589]}},{type:"Feature",_id:"rochester-chamber-toastmasters-rochester",properties:{name:"Rochester Chamber Toastmasters",label:[{value:"Rochester Chamber Toastmasters"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Educational Services",term:"educationservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wghSUP0IbLkT3PBzDoyCVw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway, Ste 100",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079909342"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4628199,44.02133]}},{type:"Feature",_id:"sterling-state-bank-rochester-5",properties:{name:"Sterling State Bank",label:[{value:"Sterling State Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Ve2LSZOQcF0W-avdPUI2tA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072821845"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0223541259766]}},{type:"Feature",_id:"total-image-salon-and-spa-rochester",properties:{name:"Total Image Salon and Spa",label:[{value:"Total Image Salon and Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894920"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"u-s-bank-rochester-7",properties:{name:"U.S. Bank",label:[{value:"U.S. Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/qoko9hGyVSjjEwXbOgz4wg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"402 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072857870"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4640579,44.0188408]}},{type:"Feature",_id:"kmart-rochester-4",properties:{name:"Kmart",label:[{value:"Kmart"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"201 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072889567"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.460555,44.013909]}},{type:"Feature",_id:"eastman-auto-repair-rochester",properties:{name:"Eastman Auto Repair",label:[{value:"Eastman Auto Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/AJ-3rClGWHkYB74mFDFRZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"434 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075297665"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.462682,44.018047]}},{type:"Feature",_id:"pawn-america-rochester",properties:{name:"Pawn America",label:[{value:"Pawn America"}],category:[{value:"Pawn Shops",term:"pawn",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wI9vQc3ddulD0njl8wegLA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"770 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075291227"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4622927,44.014959]}},{type:"Feature",_id:"north-star-bar-rochester",properties:{name:"North Star Bar",label:[{value:"North Star Bar"}],category:[{value:"Nightlife",term:"nightlife",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"503 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891091"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.463415,44.028404]}},{type:"Feature",_id:"great-clips-rochester-7",properties:{name:"Great Clips",label:[{value:"Great Clips"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1600 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072525529"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4614181518555,44.0391273498535]}},{type:"Feature",_id:"think-mutual-bank-rochester-4",properties:{name:"Think Mutual Bank",label:[{value:"Think Mutual Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"221 1st Ave SW, Ste 101",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883425"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.464928,44.02087]}},{type:"Feature",_id:"brandon-hendersons-construction-plus-rochester",properties:{name:"Brandon Henderson's Construction Plus",label:[{value:"Brandon Henderson's Construction Plus"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Door Sales/Installation",term:"doorsales",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075299196"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4370792508125,43.9793825894594]}},{type:"Feature",_id:"national-pawn-co-rochester",properties:{name:"National Pawn Co",label:[{value:"National Pawn Co"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"426 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072890080"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4583435058594,44.0184097290039]}},{type:"Feature",_id:"2nd-street-inn-and-suites-rochester",properties:{name:"2nd Street Inn & Suites",label:[{value:"2nd Street Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/RFLMG4EVIOEilWzrfAkx_g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1013 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241170"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4781112670898,44.0219802856445]}},{type:"Feature",_id:"buckeye-liquor-rochester-2",properties:{name:"Buckeye Liquor",label:[{value:"Buckeye Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"438 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072825393"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4584197998047,44.0180931091309]}},{type:"Feature",_id:"imobile-repair-rochester",properties:{name:"iMobile Repair",label:[{value:"iMobile Repair"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"325 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072061978"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.463493,44.019515]}},{type:"Feature",_id:"bubbleball-rochester-rochester",properties:{name:"BubbleBall Rochester",label:[{value:"BubbleBall Rochester"}],category:[{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1Z-X8bnpyAEJRdW5yMcnpw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW, Ste 203",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072168004"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.46366,44.01896]}},{type:"Feature",_id:"med-city-hypnosis-rochester",properties:{name:"Med-City Hypnosis",label:[{value:"Med-City Hypnosis"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Weight Loss Centers",term:"weightlosscenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hypnosis/Hypnotherapy",term:"hypnosis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"400 S Broadway, Ste 19",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5077229227"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.46281,44.01907]}},{type:"Feature",_id:"murakami-law-firm-rochester",properties:{name:"Murakami Law Firm",label:[{value:"Murakami Law Firm"}],category:[{value:"Bankruptcy Law",term:"bankruptcy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Personal Injury Law",term:"personal_injury",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Criminal Defense Law",term:"criminaldefense",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"9 1st St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072800100"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4636344978389,44.0244701309297]}},{type:"Feature",_id:"olmsted-medical-center-rochester-6",properties:{name:"Olmsted Medical Center",label:[{value:"Olmsted Medical Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bgMBkBBbrMBeRMrqFyx9ow/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072883443"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4600830078125,44.0120124816895]}},{type:"Feature",_id:"soma-intimates-rochester-2",properties:{name:"Soma Intimates",label:[{value:"Soma Intimates"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Lingerie",term:"lingerie",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Shops At University Square",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072813598"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4030380249023,43.9561004638672]}},{type:"Feature",_id:"mjm-handyman-rochester",properties:{name:"MJM Handyman",label:[{value:"MJM Handyman"}],category:[{value:"Handyman",term:"handyman",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5079907706"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.46295,44.0234]}},{type:"Feature",_id:"safelite-autoglass-rochester-4",properties:{name:"Safelite AutoGlass",label:[{value:"Safelite AutoGlass"}],category:[{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windshield Installation & Repair",term:"windshieldinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/u0OoUb3NHQEakladShsZQA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8669049472"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.467932,44.028349]}},{type:"Feature",_id:"broadway-car-care-rochester-3",properties:{name:"Broadway Car Care",label:[{value:"Broadway Car Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bYjAdMGgz9arTLes4qnNnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"515 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074243097"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463463,44.02868]}},{type:"Feature",_id:"trester-tailor-rochester",properties:{name:"Trester Tailor",label:[{value:"Trester Tailor"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"521 N Broadway Ave, Ste 5, Fl 2",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073160631"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4634016,44.028874]}},{type:"Feature",_id:"kristens-knits-rochester",properties:{name:"Kristen's Knits",label:[{value:"Kristen's Knits"}],category:[{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"604 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855345"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4717178344727,44.021427154541]}},{type:"Feature",_id:"holiday-gas-station-rochester-2",properties:{name:"Holiday Gas Station",label:[{value:"Holiday Gas Station"}],category:[{value:"Gas Stations",term:"servicestations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"701 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891463"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4633675813675,44.0306721059338]}},{type:"Feature",_id:"auntie-annes-rochester-3",properties:{name:"Auntie Anne's",label:[{value:"Auntie Anne's"}],category:[{value:"Pretzels",term:"pretzels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101-115 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811233"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4645765785268,44.0223214015939]}},{type:"Feature",_id:"chocolate-oasis-rochester",properties:{name:"Chocolate Oasis",label:[{value:"Chocolate Oasis"}],category:[{value:"Candy Stores",term:"candy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806760"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"sopra-sotto-rochester",properties:{name:"Sopra Sotto",label:[{value:"Sopra Sotto"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 104",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072525522"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"silhouette-shoppe-rochester",properties:{name:"Silhouette Shoppe",label:[{value:"Silhouette Shoppe"}],category:[],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Qm4B8c-vwRnqb_Nhhc-Tyw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 117",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072810373"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"brandhoot-rochester",properties:{name:"BrandHoot",label:[{value:"BrandHoot"}],category:[{value:"Web Design",term:"web_design",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Software Development",term:"softwaredevelopment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/jSt4bBW4JjWi4jI0AcGTTw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073016695"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4636862,44.0190132]}},{type:"Feature",_id:"oxi-fresh-carpet-cleaning-rochester",properties:{name:"Oxi Fresh Carpet Cleaning",label:[{value:"Oxi Fresh Carpet Cleaning"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072269949"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.473030090332,44.0308380126953]}},{type:"Feature",_id:"best-buy-mobile-apache-mall-rochester",properties:{name:"Best Buy Mobile Apache Mall",label:[{value:"Best Buy Mobile Apache Mall"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/SDYWPwNf9zGsxdttTVfPWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"670 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529794"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4818954,44.0044327]}},{type:"Feature",_id:"kismet-rochester-5",properties:{name:"Kismet",label:[{value:"Kismet"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"601 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072529717"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463343,44.029644]}},{type:"Feature",_id:"midwest-custom-concepts-rochester",properties:{name:"Midwest Custom Concepts",label:[{value:"Midwest Custom Concepts"}],category:[{value:"Car Stereo Installation",term:"stereo_installation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Customization",term:"autocustomization",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"27 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074244600"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4621200561523,44.0135116577148]}},{type:"Feature",_id:"the-dental-doctors-rochester",properties:{name:"The Dental Doctors",label:[{value:"The Dental Doctors"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"723 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072813926"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4734878540039,44.0219802856445]}},{type:"Feature",_id:"jakobson-management-company-rochester",properties:{name:"Jakobson Management Company",label:[{value:"Jakobson Management Company"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HQ2eqbcoWAL48sBXrcxn-Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"882 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075360000"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4756091833115,44.0309876203537]}},{type:"Feature",_id:"lofts-at-mayo-park-rochester",properties:{name:"Lofts at Mayo Park",label:[{value:"Lofts at Mayo Park"}],category:[{value:"Vacation Rentals",term:"vacation_rentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Guest Houses",term:"guesthouses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"123 6th Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072067001"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4551727,44.0222074]}},{type:"Feature",_id:"pendle-hansen-bagne-inc-rochester",properties:{name:"Pendle-Hansen-Bagne",label:[{value:"Pendle-Hansen-Bagne"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/fUNbEXoNe5MVacFX8MjQiQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072884081"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4584350585938,44.0202789306641]}},{type:"Feature",_id:"halloween-express-rochester",properties:{name:"Halloween Express",label:[{value:"Halloween Express"}],category:[{value:"Costumes",term:"costumes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1250 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814490"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4808703362942,44.000920727849]}},{type:"Feature",_id:"loquella-speech-and-language-services-rochester",properties:{name:"Loquella Speech & Language Services",label:[{value:"Loquella Speech & Language Services"}],category:[{value:"Speech Therapists",term:"speech_therapists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072066200"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"jeffrey-clark-counseling-rochester",properties:{name:"Jeffrey Clark Counseling",label:[{value:"Jeffrey Clark Counseling"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072066352"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"riverview-suites-rochester",properties:{name:"Riverview Suites",label:[{value:"Riverview Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/lWBoA4g65UZ6OsYQBv6QTA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 1st St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072854444"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4594039916992,44.0248794555664]}},{type:"Feature",_id:"american-cancer-society-rochester-4",properties:{name:"American Cancer Society",label:[{value:"American Cancer Society"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wLyKdK4ajCKzxSkDUuGMmA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"411 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075294673"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.46913,44.02579]}},{type:"Feature",_id:"rolsch-steven-e-atty-rochester",properties:{name:"Rolsch Steven E Atty",label:[{value:"Rolsch Steven E Atty"}],category:[{value:"Divorce & Family Law",term:"divorce",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/b50Hq56Fk622HfGYgLDfrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"423 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072801943"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4590073,44.0185509]}},{type:"Feature",_id:"spoo-gregory-m-atty-rochester",properties:{name:"Spoo Gregory M Atty",label:[{value:"Spoo Gregory M Atty"}],category:[{value:"Lawyers",term:"lawyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"423 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072892255"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4590073,44.0185509]}},{type:"Feature",_id:"mega-express-laundry-rochester",properties:{name:"Mega Express Laundry",label:[{value:"Mega Express Laundry"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/vLYTTc9DAt_7QfQgiqhvFA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1123 Civic Ctr Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072920603"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4799576,44.0285683]}},{type:"Feature",_id:"hy-vee-wine-and-spirits-rochester",properties:{name:"Hy-Vee Wine & Spirits",label:[{value:"Hy-Vee Wine & Spirits"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/aC1ECGXHAJ3oQOiIGFTAJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072850848"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.47993,44.02964]}},{type:"Feature",_id:"southpoint-motors-rochester",properties:{name:"Southpoint Motors",label:[{value:"Southpoint Motors"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"10 7th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072809714"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4624786,44.0301514]}},{type:"Feature",_id:"fluff-n-buff-dog-grooming-rochester",properties:{name:"Fluff N Buff Dog Grooming",label:[{value:"Fluff N Buff Dog Grooming"}],category:[{value:"Pet Groomers",term:"groomer",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/dbYBA4ckFnXbbK9ZV5Sruw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"501 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072188388"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4685668945312,44.0283164978027]}},{type:"Feature",_id:"whitewing-auto-appearance-center-rochester",properties:{name:"Whitewing Auto Appearance Center",label:[{value:"Whitewing Auto Appearance Center"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"517 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851102"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4660449,44.028694]}},{type:"Feature",_id:"rochester-public-schools-rochester-29",properties:{name:"Rochester Public Schools",label:[{value:"Rochester Public Schools"}],category:[{value:"Elementary Schools",term:"elementaryschools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Middle Schools & High Schools",term:"highschools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bkETJhQrG42Cd-H9EQMpyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"615 7th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073284220"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.47218,44.01645]}},{type:"Feature",_id:"bear-creek-auto-sales-rochester",properties:{name:"Bear Creek Auto Sales",label:[{value:"Bear Creek Auto Sales"}],category:[],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/qoko9hGyVSjjEwXbOgz4wg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"604 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072876427"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4546127,44.0190582]}},{type:"Feature",_id:"center-street-village-apts-rochester",properties:{name:"Center Street Village Apts",label:[{value:"Center Street Village Apts"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"626 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072859469"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4546068161726,44.0234553068876]}},{type:"Feature",_id:"robertas-way-clnrs-rochester",properties:{name:"Roberta's Way Clnrs",label:[{value:"Roberta's Way Clnrs"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"821 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882527"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4599456787109,44.0144386291504]}},{type:"Feature",_id:"kitchen-solvers-rochester-2",properties:{name:"Kitchen Solvers",label:[{value:"Kitchen Solvers"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"601 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072812421"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4633407592773,44.0296440124512]}},{type:"Feature",_id:"freedom-boutique-rochester",properties:{name:"Freedom Boutique",label:[{value:"Freedom Boutique"}],category:[{value:"Arts & Crafts",term:"artsandcrafts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/LWmiioxCMoALNCPhcWc3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"602 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072690335"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4712600708008,44.0304260253906]}},{type:"Feature",_id:"grant-florine-dds-rochester",properties:{name:"Grant Florine, DDS",label:[{value:"Grant Florine, DDS"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Teeth Whitening",term:"teethwhitening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"922 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072827767"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.462587,44.032959]}},{type:"Feature",_id:"bell-tower-inn-rochester",properties:{name:"Bell Tower Inn",label:[{value:"Bell Tower Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1235 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892233"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4832077026367,44.0219078063965]}},{type:"Feature",_id:"auto-refinishers-plus-rochester",properties:{name:"Auto Refinishers Plus",label:[{value:"Auto Refinishers Plus"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"539 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851521"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4713592529297,44.0295562744141]}},{type:"Feature",_id:"americas-best-cleaning-and-restoration-services-rochester-2",properties:{name:"America's Best Cleaning And Restoration Services",label:[{value:"America's Best Cleaning And Restoration Services"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Air Duct Cleaning",term:"airductcleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rRxpK94cOmInmnKpV-gssQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072808171"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4635335,44.0351881]}},{type:"Feature",_id:"gopher-septic-service-rochester",properties:{name:"Gopher Septic Service",label:[{value:"Gopher Septic Service"}],category:[{value:"Septic Services",term:"septicservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"PO Box 9280",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072822243"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"abc-child-and-family-therapy-center-rochester",properties:{name:"ABC Child and Family Therapy Center",label:[{value:"ABC Child and Family Therapy Center"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5075367662"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"flury-auto-body-rochester",properties:{name:"Flury Auto Body",label:[{value:"Flury Auto Body"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"999 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072811166"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.46146,44.01082]}},{type:"Feature",_id:"at-and-t-rochester-3",properties:{name:"AT&T",label:[{value:"AT&T"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mobile Phone Accessories",term:"cellphoneaccessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xkJ1HtmOmRcLlYOdn2FhaA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"430 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072884021"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4691,44.00551]}},{type:"Feature",_id:"cascade-animal-inn-rochester",properties:{name:"Cascade Animal Inn",label:[{value:"Cascade Animal Inn"}],category:[{value:"Pet Sitting",term:"pet_sitting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"602 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897387"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4712600708008,44.0304260253906]}},{type:"Feature",_id:"broadway-gas-rochester",properties:{name:"Broadway Gas",label:[{value:"Broadway Gas"}],category:[{value:"Gas Stations",term:"servicestations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072876446"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.463447,44.033451]}},{type:"Feature",_id:"jon-ryan-dwell-realty-group-rochester-2",properties:{name:"Jon Ryan - Dwell Realty Group",label:[{value:"Jon Ryan - Dwell Realty Group"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/T5CAD_Z-ko4igA7nO6Axnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"923 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5075130005"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4633503,44.0330413]}},{type:"Feature",_id:"superior-screeners-rochester",properties:{name:"Superior Screeners",label:[{value:"Superior Screeners"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"25 9 1/2 St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824124"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4617156982422,44.0117454528809]}},{type:"Feature",_id:"infinity-tattooing-rochester",properties:{name:"Infinity Tattooing",label:[{value:"Infinity Tattooing"}],category:[{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/tv4N6QoakeTN0v67TyZ4wA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1006 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072811296"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4625854492188,44.033447265625]}},{type:"Feature",_id:"silver-lake-swimming-pool-rochester",properties:{name:"Silver Lake Swimming Pool",label:[{value:"Silver Lake Swimming Pool"}],category:[{value:"Swimming Pools",term:"swimmingpools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/oNH6UDBeJ155ayRT9K5CBg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7 St NE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072816179"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.453786,44.030015]}},{type:"Feature",_id:"106-9-rochester",properties:{name:"106.9",label:[{value:"106.9"}],category:[{value:"Radio Stations",term:"radiostations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"massmedia",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072522000"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"action-plumbing-heating-a-c-rochester",properties:{name:"Action Plumbing Heating A/C",label:[{value:"Action Plumbing Heating A/C"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"989 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072826546"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4614563,44.01091]}},{type:"Feature",_id:"bob-miller-comedy-magic-rochester",properties:{name:"Bob Miller Comedy Magic",label:[{value:"Bob Miller Comedy Magic"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"31 9th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072812213"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.46142578125,44.0325126647949]}},{type:"Feature",_id:"mister-car-wash-rochester-3",properties:{name:"Mister Car Wash",label:[{value:"Mister Car Wash"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Detailing",term:"auto_detailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/T9ovUXarZc6HjAl6SHoEQg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806233"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.467538,44.006576]}},{type:"Feature",_id:"farmers-insurance-joanna-johnson-rochester",properties:{name:"Farmers Insurance - Joanna Johnson",label:[{value:"Farmers Insurance - Joanna Johnson"}],category:[{value:"Insurance",term:"insurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072873276"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.480681,44.030955]}},{type:"Feature",_id:"trade-secret-beauty-salon-rochester",properties:{name:"Trade Secret Beauty Salon",label:[{value:"Trade Secret Beauty Salon"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885189"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.480446,44.004345]}},{type:"Feature",_id:"the-childrens-place-rochester-2",properties:{name:"The Children's Place",label:[{value:"The Children's Place"}],category:[{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/siOteQuN_Uh-mCURQgKj5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072812555"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"rochester-drain-rite-rochester-3",properties:{name:"Rochester Drain-Rite",label:[{value:"Rochester Drain-Rite"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ftqrOd8yVNSgwrHeIPQauQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"606 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072734403"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4788951,44.029845]}},{type:"Feature",_id:"happy-body-and-feet-massage-rochester",properties:{name:"Happy Body & Feet Massage",label:[{value:"Happy Body & Feet Massage"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ZKNeqXxrC9qcFxKxo1D9nQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1107 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072164687"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4798761,44.0315191]}},{type:"Feature",_id:"everything-hobby-rochester",properties:{name:"Everything Hobby",label:[{value:"Everything Hobby"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851166"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4822845458984,44.0314636230469]}},{type:"Feature",_id:"sun-place-sun-and-skincare-rochester",properties:{name:"Sun Place Sun & Skincare",label:[{value:"Sun Place Sun & Skincare"}],category:[{value:"Skin Care",term:"skincare",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Spray Tanning",term:"spraytanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 42",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075364257"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4654927,44.0053019]}},{type:"Feature",_id:"the-soccer-advantage-rochester",properties:{name:"The Soccer Advantage",label:[{value:"The Soccer Advantage"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/wjbHWTf7irBcrrGipp4lZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1115 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072268000"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4801427094733,44.0293218506596]}},{type:"Feature",_id:"kitchen-concepts-of-rochester-rochester",properties:{name:"Kitchen Concepts of Rochester",label:[{value:"Kitchen Concepts of Rochester"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1207 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851044"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.46623,44.03538]}},{type:"Feature",_id:"javiers-barbershop-rochester",properties:{name:"Javier's Barbershop",label:[{value:"Javier's Barbershop"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b9BVDBjT3xuZta95R-7TVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 9th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073192140"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4482851848006,44.0323881356045]}},{type:"Feature",_id:"mayo-psychiatry-and-psychology-treatment-center-rochester",properties:{name:"Mayo Psychiatry and Psychology Treatment Center",label:[{value:"Mayo Psychiatry and Psychology Treatment Center"}],category:[{value:"Psychologists",term:"psychologists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072555123"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"gregs-graphic-art-rochester",properties:{name:"Gregs Graphic Art",label:[{value:"Gregs Graphic Art"}],category:[{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"829 11th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072614999"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.476105,44.010113]}},{type:"Feature",_id:"mestads-wedding-world-rochester",properties:{name:"Mestad's Wedding World",label:[{value:"Mestad's Wedding World"}],category:[{value:"Bridal",term:"bridal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1171 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072892444"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4797464907169,44.0291771292686]}},{type:"Feature",_id:"macys-rochester",properties:{name:"Macy's",label:[{value:"Macy's"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/WHdSQh8VA-dgzcVTvWH37w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"901 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072805400"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.479765,44.002543]}},{type:"Feature",_id:"tawatal-halal-meat-rochester",properties:{name:"Tawatal Halal Meat",label:[{value:"Tawatal Halal Meat"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Meat Shops",term:"meats",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/hCn_qzXYyuLyV1Rzgs3o0A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"517 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075364893"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4553070068359,44.007266998291]}},{type:"Feature",_id:"diercks-auto-care-rochester",properties:{name:"Diercks Auto Care",label:[{value:"Diercks Auto Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1420 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072820553"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4826431274414,44.0287399291992]}},{type:"Feature",_id:"silver-lake-apartments-rochester",properties:{name:"Silver Lake Apartments",label:[{value:"Silver Lake Apartments"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ubAhcJjcclfEk8owVgdc5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1515 3rd Ave NE, Apt 101",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072898982"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4581919,44.0377191]}},{type:"Feature",_id:"peace-united-church-of-christ-rochester-2",properties:{name:"Peace United Church of Christ",label:[{value:"Peace United Church of Christ"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/NuDRy_2b1m_JtK-cBA17lQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1503 2nd Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072826117"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4598713219166,44.0371404034277]}},{type:"Feature",_id:"northgate-driving-school-rochester-2",properties:{name:"Northgate Driving School",label:[{value:"Northgate Driving School"}],category:[{value:"Driving Schools",term:"driving_schools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1320 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072885455"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.482398,44.03141]}},{type:"Feature",_id:"natures-best-cleaners-rochester-2",properties:{name:"Natures Best Cleaners",label:[{value:"Natures Best Cleaners"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521755"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"officemax-rochester-2",properties:{name:"Officemax",label:[{value:"Officemax"}],category:[{value:"Office Equipment",term:"officeequipment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/uOXE3HKL0TS8Ywjmfe3O2Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888212"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"warners-stellian-appliance-rochester",properties:{name:"Warners' Stellian Appliance",label:[{value:"Warners' Stellian Appliance"}],category:[{value:"Appliances",term:"appliances",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/T6ciIgzXUBzzGJM82oSHtQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1318 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072525552"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4749453177216,44.0047402953264]}},{type:"Feature",_id:"mens-wearhouse-rochester-5",properties:{name:"Men's Wearhouse",label:[{value:"Men's Wearhouse"}],category:[{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Formal Wear",term:"formalwear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Plus Size Fashion",term:"plus_size_fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0OrKg6C1HZOv9SBajUIOIA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW, Ste 1005",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885992"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.479255,44.0052094150069]}},{type:"Feature",_id:"specialty-tours-rochester",properties:{name:"Specialty Tours",label:[{value:"Specialty Tours"}],category:[{value:"Tours",term:"tours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/GPL1E5suySgx245-0mxZ1w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"972 14th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072828673"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4838638,44.0126839]}},{type:"Feature",_id:"kirklands-rochester-2",properties:{name:"Kirkland's",label:[{value:"Kirkland's"}],category:[{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075369560"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.47918,44.00032]}},{type:"Feature",_id:"12th-street-dental-office-rochester-2",properties:{name:"12th Street Dental Office",label:[{value:"12th Street Dental Office"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pediatric Dentists",term:"pediatric_dentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1008 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072826448"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4491694,44.0070153]}},{type:"Feature",_id:"findcars-rochester",properties:{name:"Findcars",label:[{value:"Findcars"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1500 1st Ave NE, Ste 221",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072520019"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4605465680361,44.0379767864943]}},{type:"Feature",_id:"allstate-insurance-jason-frankot-rochester-5",properties:{name:"Allstate Insurance Agent: Jason Frankot",label:[{value:"Allstate Insurance Agent: Jason Frankot"}],category:[{value:"Home & Rental Insurance",term:"homeinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Insurance",term:"autoinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Insurance",term:"lifeinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1641 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072899235"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.463110089302,44.0402418504736]}},{type:"Feature",_id:"anytime-fitness-rochester-2",properties:{name:"Anytime Fitness",label:[{value:"Anytime Fitness"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1629 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073226225"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4617038,44.0401391]}},{type:"Feature",_id:"dapper-surfaces-rochester",properties:{name:"Dapper Surfaces",label:[{value:"Dapper Surfaces"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Masonry/Concrete",term:"masonry_concrete",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/y3i8OmHatMQW69ATgVhrSg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1700 N Broadway, Ste 122",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5076967929"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4594560674591,44.0415292077217]}},{type:"Feature",_id:"st-pius-x-catholic-church-rochester",properties:{name:"St Pius X Catholic Church",label:[{value:"St Pius X Catholic Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/aDPyRUKr-zcNHUO2DJYjIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 12th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821361"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4803023785353,44.0354729443789]}},{type:"Feature",_id:"sleep-number-rochester",properties:{name:"Sleep Number",label:[{value:"Sleep Number"}],category:[{value:"Mattresses",term:"mattresses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/uzSuwShCDnLG9Lkb_r7eYg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"648 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075290275"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4786689132452,44.0043350211127]}},{type:"Feature",_id:"rogers-and-hollands-jewelers-rochester",properties:{name:"Rogers & Hollands Jewelers",label:[{value:"Rogers & Hollands Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watches",term:"watches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jewelry Repair",term:"jewelryrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/CwBYb_hxvosIvqyxJVuWmg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 245 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072525800"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4795734882355,44.0045765015029]}},{type:"Feature",_id:"wrights-small-engine-service-rochester-2",properties:{name:"Wright's Small Engine Service",label:[{value:"Wright's Small Engine Service"}],category:[{value:"Machine Shops",term:"machineshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1432 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072885357"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.45831,44.00232]}},{type:"Feature",_id:"bluestem-center-rochester",properties:{name:"Bluestem Center",label:[{value:"Bluestem Center"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bkETJhQrG42Cd-H9EQMpyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"124 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821009"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4645004272461,44.0408592224121]}},{type:"Feature",_id:"bernies-jewelry-rochester",properties:{name:"Bernie's Jewelry",label:[{value:"Bernie's Jewelry"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1800 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072823233"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4596481,44.0422401]}},{type:"Feature",_id:"verizon-rochester-10",properties:{name:"Verizon",label:[{value:"Verizon"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 200",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529955"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4792395532132,44.0003030126166]}},{type:"Feature",_id:"century-21-rochester-6",properties:{name:"Century 21",label:[{value:"Century 21"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HYB41YKEZrwJ3jr0pEYHrA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"12 Elton Hills Dr NW, Ste 102",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893542"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4615631103516,44.0409622192383]}},{type:"Feature",_id:"coldwell-banker-burnet-rochester-3",properties:{name:"Coldwell Banker Burnet",label:[{value:"Coldwell Banker Burnet"}],category:[{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881234"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.46432,44.04202]}},{type:"Feature",_id:"abercrombie-and-fitch-rochester",properties:{name:"Abercrombie & Fitch",label:[{value:"Abercrombie & Fitch"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4uvnYC7gOhjWBVBdItfvlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929303"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4805450439453,44.0064697265625]}},{type:"Feature",_id:"jurassic-quest-rochester",properties:{name:"Jurassic Quest",label:[{value:"Jurassic Quest"}],category:[{value:"Arts & Entertainment",term:"arts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Fairgrounds Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.460734,44.003025]}},{type:"Feature",_id:"carousel-floral-gift-and-garden-rochester-2",properties:{name:"Carousel Floral Gift and Garden",label:[{value:"Carousel Floral Gift and Garden"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1717 41st St NW",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584770"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.46422,43.99896]}},{type:"Feature",_id:"visionworks-rochester",properties:{name:"Visionworks",label:[{value:"Visionworks"}],category:[{value:"Optometrists",term:"optometrists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"640 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521540"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4818501,44.0047838]}},{type:"Feature",_id:"shawn-buryska-coldwell-banker-burnet-rochester",properties:{name:"Shawn Buryska  - Coldwell Banker Burnet",label:[{value:"Shawn Buryska  - Coldwell Banker Burnet"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072526745"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4640812,44.0423872]}},{type:"Feature",_id:"metcalf-moving-and-storage-co-rochester",properties:{name:"Metcalf Moving & Storage Co.",label:[{value:"Metcalf Moving & Storage Co."}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1550 3Rd Ave Se",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072885255"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4579544067383,44.0003471374512]}},{type:"Feature",_id:"vanity-apache-mall-rochester",properties:{name:"Vanity-Apache Mall",label:[{value:"Vanity-Apache Mall"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4uvnYC7gOhjWBVBdItfvlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"658 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529481"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4820277094841,44.0044894069433]}},{type:"Feature",_id:"woodruff-company-rochester-3",properties:{name:"Woodruff Company",label:[{value:"Woodruff Company"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9rPhTTZZ5MvTRn3BpssI3Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1524 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072852500"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.45779,44.00089]}},{type:"Feature",_id:"champs-rochester",properties:{name:"Champs",label:[{value:"Champs"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075363921"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4805450439453,44.0064697265625]}},{type:"Feature",_id:"david-friedline-rochester",properties:{name:"David Friedline",label:[{value:"David Friedline"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1301 Salem Rd SW, Edina Realty",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072716117"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.48624,44.00641]}},{type:"Feature",_id:"priority-construction-services-rochester",properties:{name:"Priority Construction Services",label:[{value:"Priority Construction Services"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/-4ikOn58YFGof3lXLamd8g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"306 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893275"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.468326,44.043768]}},{type:"Feature",_id:"summit-mortgage-corporation-rochester",properties:{name:"Summit Mortgage Corporation",label:[{value:"Summit Mortgage Corporation"}],category:[{value:"Mortgage Brokers",term:"mortgagebrokers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"315 Elton Hills Dr NW, Ste 102",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072819600"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4680841323242,44.0450802510087]}},{type:"Feature",_id:"rochester-city-lines-rochester",properties:{name:"Rochester City Lines",label:[{value:"Rochester City Lines"}],category:[{value:"Public Transportation",term:"publictransport",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/YwQsnkXkIVbkhc9pPAXnew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1825 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072884353"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.461551,44.043708]}},{type:"Feature",_id:"carousel-floral-gift-and-garden-rochester",properties:{name:"Carousel Floral Gift and Garden",label:[{value:"Carousel Floral Gift and Garden"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/LWmiioxCMoALNCPhcWc3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1608 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584770"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.46395,43.99963]}},{type:"Feature",_id:"stone-barn-dentistry-rochester",properties:{name:"Stone Barn Dentistry",label:[{value:"Stone Barn Dentistry"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"615 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882539"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.4726791381836,44.0002746582031]}},{type:"Feature",_id:"americas-best-value-inn-rochester",properties:{name:"America's Best Value Inn",label:[{value:"America's Best Value Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072812211"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.4649429321289,43.9985466003418]}},{type:"Feature",_id:"vanderheyden-law-office-pa-rochester",properties:{name:"VanDerHeyden Law Office, PA",label:[{value:"VanDerHeyden Law Office, PA"}],category:[{value:"Bankruptcy Law",term:"bankruptcy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Divorce & Family Law",term:"divorce",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Personal Injury Law",term:"personal_injury",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yqPx-8A8g4y2TuWcuJISDQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"302 Elton Hills Dr NW, Ste 300",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072813949"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4681091308594,44.0442924499512]}},{type:"Feature",_id:"glk-orthodontics-rochester",properties:{name:"GLK Orthodontics",label:[{value:"GLK Orthodontics"}],category:[{value:"Orthodontists",term:"orthodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/BsTNN6rcyFQgP_YuWy3RCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1705 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072884427"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4643178,43.9978434]}},{type:"Feature",_id:"cj-banks-rochester",properties:{name:"Cj Banks",label:[{value:"Cj Banks"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1030 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075297680"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4783249,44.0018425]}},{type:"Feature",_id:"disons-cleaners-and-launderers-rochester-5",properties:{name:"Dison's Cleaners & Launderers",label:[{value:"Dison's Cleaners & Launderers"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/uc3iNkVYAUwHm3uIZU4-NA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"304 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897239"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.467837,44.0445199]}},{type:"Feature",_id:"rochester-family-medicine-clinic-rochester",properties:{name:"Rochester Family Medicine Clinic",label:[{value:"Rochester Family Medicine Clinic"}],category:[{value:"Family Practice",term:"familydr",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"40 16th St SE, Ste E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880124"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4623641967773,43.9995727539062]}},{type:"Feature",_id:"fantastic-sams-hair-salons-rochester-2",properties:{name:"Fantastic Sams Hair Salons",label:[{value:"Fantastic Sams Hair Salons"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th Street SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072818300"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.47918,44.00032]}},{type:"Feature",_id:"rochester-pediatric-dentistry-rochester-2",properties:{name:"Rochester Pediatric Dentistry",label:[{value:"Rochester Pediatric Dentistry"}],category:[{value:"Pediatric Dentists",term:"pediatric_dentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1705 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880102"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46432,43.9978434]}},{type:"Feature",_id:"on-point-auto-service-rochester",properties:{name:"On Point Auto Service",label:[{value:"On Point Auto Service"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GjMoNBFGkSCljeovEokgKg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2027 E River Rd NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5075362777"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46082,44.04519]}},{type:"Feature",_id:"the-ruff-break-rochester",properties:{name:"The Ruff Break",label:[{value:"The Ruff Break"}],category:[{value:"Pet Training",term:"pet_training",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pet Sitting",term:"pet_sitting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oWWMD73K-fmChKqyHqEwEQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2012 5th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072619033"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4558715820312,44.0444221496582]}},{type:"Feature",_id:"advanced-periodontics-and-implants-rochester",properties:{name:"Advanced Periodontics and Implants",label:[{value:"Advanced Periodontics and Implants"}],category:[{value:"Periodontists",term:"periodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VmdByomFeeTElEhOwJulrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2112 Viking Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072089124"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46764,44.04555]}},{type:"Feature",_id:"chiropractic-solution-rochester-2",properties:{name:"The Chiropractic Solution",label:[{value:"The Chiropractic Solution"}],category:[{value:"Chiropractors",term:"chiropractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bYjAdMGgz9arTLes4qnNnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"326 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818844"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4680782109499,44.0447594225407]}},{type:"Feature",_id:"outdoor-services-rochester",properties:{name:"Outdoor Services",label:[{value:"Outdoor Services"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1725 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072825841"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4625244140625,43.9971313476562]}},{type:"Feature",_id:"joshua-becker-photography-rochester",properties:{name:"Joshua Becker Photography",label:[{value:"Joshua Becker Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/vCWcN24aKyGqtnfVxHk7QA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"832 Sierra Ln NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072504110"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.44972,44.04227]}},{type:"Feature",_id:"carwash-usa-rochester",properties:{name:"Carwash USA",label:[{value:"Carwash USA"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1727 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528011"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4636927992105,43.9973708242178]}},{type:"Feature",_id:"maier-tree-and-lawn-rochester",properties:{name:"Maier Tree & Lawn",label:[{value:"Maier Tree & Lawn"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/tnC_V7S1nxTJVCjK8atQKg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3930 Highway 14 E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072868733"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.40157,44.01157]}},{type:"Feature",_id:"rent-me-and-my-truck-rochester",properties:{name:"Rent Me & My Truck",label:[{value:"Rent Me & My Truck"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Truck Rental",term:"truck_rental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zPvqcSTIjwQIrlaU2ssXEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2315 Park Ln",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072714800"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.421512,44.01299]}},{type:"Feature",_id:"all-craft-exteriors-rochester",properties:{name:"All Craft Exteriors",label:[{value:"All Craft Exteriors"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DG6zUSBc9fJVWi2Viti9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4410 19th St NW, Ste 201",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074243323"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.530083,44.04229]}},{type:"Feature",_id:"john-sharpe-photography-rochester",properties:{name:"John Sharpe Photography",label:[{value:"John Sharpe Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SHtP4ACexseaxI6dugRlKA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"6124326473"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.524418,44.005099]}},{type:"Feature",_id:"allstar-auto-repair-of-rochester-rochester",properties:{name:"Allstar Auto Repair of Rochester",label:[{value:"Allstar Auto Repair of Rochester"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3850 Highway 14 E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881645"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4025344848633,44.0115737915039]}},{type:"Feature",_id:"k-and-s-heating-air-conditioning-plumbing-and-electric-rochester",properties:{name:"K & S Heating Air Conditioning Plumbing & Electric",label:[{value:"K & S Heating Air Conditioning Plumbing & Electric"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electricians",term:"electricians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4205 Hwy 14 W",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824328"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52632,44.03977]}},{type:"Feature",_id:"top-shop-of-rochester-rochester",properties:{name:"The Top Shop Of Rochester",label:[{value:"The Top Shop Of Rochester"}],category:[{value:"Countertop Installation",term:"countertopinstall",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/0wuufVT_hpLwAYd3bettnA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"235 Woodlake Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072829129"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4556427001953,43.9740791320801]}},{type:"Feature",_id:"piepho-moving-and-storage-rochester-3",properties:{name:"Piepho Moving & Storage",label:[{value:"Piepho Moving & Storage"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4121 Hwy 14 W",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072894515"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52402,44.03957]}},{type:"Feature",_id:"denel-ihde-sparks-re-max-results-rochester",properties:{name:"Denel Ihde-Sparks-RE/MAX Results",label:[{value:"Denel Ihde-Sparks-RE/MAX Results"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4600 18th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072877773"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.488093,44.070409]}},{type:"Feature",_id:"melanie-schmidt-re-max-results-rochester",properties:{name:"Melanie Schmidt-RE/MAX Results",label:[{value:"Melanie Schmidt-RE/MAX Results"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4123 26th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072598836"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5236628,44.050577]}},{type:"Feature",_id:"matik-management-rochester-2",properties:{name:"Matik Management",label:[{value:"Matik Management"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3249 19th St NW, Ste 3",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072160064"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5118707,44.0436202]}},{type:"Feature",_id:"charter-communications-rochester",properties:{name:"Charter Communications",label:[{value:"Charter Communications"}],category:[{value:"Television Service Providers",term:"televisionserviceproviders",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3993 Heritage Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8884382427"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.523567199707,44.0465202331543]}},{type:"Feature",_id:"salt-and-pepper-photography-rochester",properties:{name:"Salt & Pepper Photography",label:[{value:"Salt & Pepper Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2220 Bamber Valley Rd SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072819312"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5012,43.98885]}},{type:"Feature",_id:"hoyer-construction-rochester-3",properties:{name:"Hoyer Construction",label:[{value:"Hoyer Construction"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Decks & Railing",term:"decksrailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3902 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073589673"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4861221313477,44.0633201599121]}},{type:"Feature",_id:"ever-after-entertainment-rochester",properties:{name:"Ever After Entertainment",label:[{value:"Ever After Entertainment"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photo Booth Rentals",term:"photoboothrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Equipment Rentals",term:"partyequipmentrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/g_m_c3KjsCNYcQAbEI_QGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4071 4th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072168900"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5262145996094,44.0282363891602]}},{type:"Feature",_id:"above-all-roofing-of-rochester-rochester-2",properties:{name:"Above All Roofing Of Rochester",label:[{value:"Above All Roofing Of Rochester"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1086 Pendant Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818585"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52446,44.03769]}},{type:"Feature",_id:"destiny-limousine-rochester",properties:{name:"Destiny Limousine",label:[{value:"Destiny Limousine"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072067437"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5177764892578,43.968090057373]}},{type:"Feature",_id:"david-birka-coldwell-banker-at-your-service-realty-rochester-3",properties:{name:"David Birka  - Coldwell Banker At Your Service Realty",label:[{value:"David Birka  - Coldwell Banker At Your Service Realty"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2510 Superior Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072501000"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.522432,44.049436]}},{type:"Feature",_id:"hathaway-tree-service-rochester",properties:{name:"Hathaway Tree Service Inc Rochester",label:[{value:"Hathaway Tree Service Inc Rochester"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Recycling Center",term:"recyclingcenter",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2555 50th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824777"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5398178100586,44.0501098632812]}},{type:"Feature",_id:"excel-homes-rochester",properties:{name:"Excel Homes",label:[{value:"Excel Homes"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/FtPRSFpU600ldW4ev5SCWQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4123 26th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072081950"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5233930721879,44.0507361088529]}},{type:"Feature",_id:"twisted-barrel-wood-fired-pizza-rochester",properties:{name:"Twisted Barrel Wood Fired Pizza",label:[{value:"Twisted Barrel Wood Fired Pizza"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073583987"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"service-pros-plumbing-and-heating-rochester-3",properties:{name:"Service Pros Plumbing & Heating",label:[{value:"Service Pros Plumbing & Heating"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Purification Services",term:"waterpurification",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826238"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"haley-comfort-systems-rochester-3",properties:{name:"Haley Comfort Systems",label:[{value:"Haley Comfort Systems"}],category:[{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fireplace Services",term:"fireplace",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home & Garden",term:"homeandgarden",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SBxKYkScvV5ztll16mGKLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4320 US 52 N",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072810138"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5031677,44.068577]}},{type:"Feature",_id:"midwest-lifeshots-photography-rochester-3",properties:{name:"Midwest LifeShots Photography",label:[{value:"Midwest LifeShots Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/oHxkUSEhUgRW1FctpCiaAw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2932 Shadow Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079518859"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.38325,43.97868]}},{type:"Feature",_id:"total-music-dj-systems-stewartville",properties:{name:"Total Music DJ Systems",label:[{value:"Total Music DJ Systems"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photo Booth Rentals",term:"photoboothrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2010 Nightingale Ave NW",city:"Stewartville",state_code:"MN",zip:"55976"},phone:"5072593191"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5098914,44.0780552]}},{type:"Feature",_id:"walk-on-wood-rochester",properties:{name:"Walk on Wood",label:[{value:"Walk on Wood"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpeting",term:"carpeting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4867 19th St",city:"Rochester",state_code:"MN",zip:"55956"},phone:"5075562016"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5367,44.043233]}},{type:"Feature",_id:"truckin-america-rochester-5",properties:{name:"Truckin' America",label:[{value:"Truckin' America"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Detailing",term:"auto_detailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/VjcrV7Fo9DzcvdQ4Z2a1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4720 Hwy 52 N",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859855"},updated:1510719330928},geometry:{type:"Point",coordinates:[-92.5023319,44.0713636]}},{type:"Feature",_id:"dirty-deeds-done-dirt-cheap-rochester",properties:{name:"Dirty Deeds Done Dirt Cheap",label:[{value:"Dirty Deeds Done Dirt Cheap"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Cnty Rd 9",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072690136"},updated:1510719330928},geometry:{type:"Point",coordinates:[-92.421041,43.957854]}},{type:"Feature",_id:"hauser-dry-emergency-water-removal-rochester",properties:{name:"Hauser Dry Emergency Water Removal",label:[{value:"Hauser Dry Emergency Water Removal"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/A2-2alYJ3lFNI1sj14fUEA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4496 20th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5078819050"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3906793,43.9924866]}},{type:"Feature",_id:"thompsons-garage-door-and-openers-rochester",properties:{name:"Thompson's Garage Door and Openers",label:[{value:"Thompson's Garage Door and Openers"}],category:[{value:"Garage Door Services",term:"garage_door_services",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9TnvGbToYpmlvJqDDRze9A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6101 Bandel Rd NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811349"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5097122192383,44.0882568359375]}},{type:"Feature",_id:"sunflower-photography-rochester",properties:{name:"Sunflower Photography",label:[{value:"Sunflower Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073228102"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"home-doctors-rochester",properties:{name:"Home Doctors",label:[{value:"Home Doctors"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074217315"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4030380249023,43.9561004638672]}},{type:"Feature",_id:"astorinos-tree-service-rochester",properties:{name:"Astorino's Tree Service",label:[{value:"Astorino's Tree Service"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/R1XsOGGKi8BKlFA__eNSsg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072733616"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.48313,44.06082]}},{type:"Feature",_id:"hire-a-crew-rochester",properties:{name:"Hire-A-Crew",label:[{value:"Hire-A-Crew"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5076960578"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5123748779297,44.075138092041]}},{type:"Feature",_id:"two-men-and-a-truck-rochester-rochester",properties:{name:"Two Men and a Truck Rochester",label:[{value:"Two Men and a Truck Rochester"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ktxleungJVlIVzz73xhHbA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6047 Rome Circle NW, Suite 1",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072059434"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.51293,44.08756]}},{type:"Feature",_id:"molly-maid-of-rochester-rochester-2",properties:{name:"MOLLY MAID of Rochester",label:[{value:"MOLLY MAID of Rochester"}],category:[{value:"Home Cleaning",term:"homecleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6093 Rome Cir NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072853196"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5141649,44.0879704]}},{type:"Feature",_id:"sargents-landscape-nursery-rochester",properties:{name:"Sargent's Landscape Nursery",label:[{value:"Sargent's Landscape Nursery"}],category:[{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7955 18th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072890022"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.490924,44.113616]}},{type:"Feature",_id:"polytek-of-rochester-rochester",properties:{name:"Polytek of Rochester",label:[{value:"Polytek of Rochester"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3925 Marion Rd SE, Ste 3",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528112"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3764572143555,43.9649467468262]}},{type:"Feature",_id:"north-country-locksmith-rochester-4",properties:{name:"North Country Locksmith",label:[{value:"North Country Locksmith"}],category:[{value:"Keys & Locksmiths",term:"locksmiths",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dZj_vqrtnyaNObPxXZYPgw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5079939389"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.45401,44.04051]}},{type:"Feature",_id:"root-river-inspections-rochester",properties:{name:"Root River Inspections",label:[{value:"Root River Inspections"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ZCnh7oI-LljJAWy0YWtqRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3936 E Frontage Rd, Ste 156",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072541391"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.51791065625,44.0992339898612]}},{type:"Feature",_id:"custom-retaining-walls-and-landscaping-rochester-3",properties:{name:"Custom Retaining Walls and Landscaping",label:[{value:"Custom Retaining Walls and Landscaping"}],category:[{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Patio Coverings",term:"patiocoverings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2375 Sleeper Ln NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072810669"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.430702,44.107318]}},{type:"Feature",_id:"yellow-cab-of-rochester-rochester-2",properties:{name:"Yellow Cab of Rochester",label:[{value:"Yellow Cab of Rochester"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Taxis",term:"taxis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YRTOfQA-zlmsH8gniiXpCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7201 22nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072822222"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4955978393555,44.013069152832]}},{type:"Feature",_id:"garten-marketplatz-perennial-farms-byron",properties:{name:"Garten Marketplatz Perennial Farms",label:[{value:"Garten Marketplatz Perennial Farms"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Flowers & Gifts",term:"flowers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5225 County Road 15 SW",city:"Byron",state_code:"MN",zip:"55920"},phone:"5073658891"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.579077,43.9462144]}},{type:"Feature",_id:"ryan-windows-and-siding-oronoco-2",properties:{name:"Ryan Windows & Siding",label:[{value:"Ryan Windows & Siding"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3750 85th St NW",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5072816363"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5194529153442,44.1222695100065]}},{type:"Feature",_id:"star-limousine-rochester",properties:{name:"Star Limousine",label:[{value:"Star Limousine"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"7828 Leqve Dr SW, Ste A",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072810969"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4883018,43.9101207]}},{type:"Feature",_id:"a-smooth-move-rochester",properties:{name:"A Smooth Move",label:[{value:"A Smooth Move"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"5397 Hwy 52 S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806683"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3514251708984,43.9434776306152]}},{type:"Feature",_id:"the-move-crew-saint-paul",properties:{name:"The Move Crew",label:[{value:"The Move Crew"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oz-JgrJhu78wuEwoKeT-tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"840 Hampden Ave, Ste 211",city:"Saint Paul",state_code:"MN",zip:"55114"},phone:"6123616787"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1923765689135,44.9664455652237]}},{type:"Feature",_id:"bings-minneapolis",properties:{name:"Bings",label:[{value:"Bings"}],category:[{value:"Car Window Tinting",term:"carwindowtinting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vehicle Wraps",term:"vehiclewraps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Window Tinting",term:"homewindowtinting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9WI4ELiMGBH0esfAtXpTRQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3725 Elliot Ave S",city:"Minneapolis",state_code:"MN",zip:"55407"},phone:"6513578603"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.2609212046702,44.9350886513268]}},{type:"Feature",_id:"mr-nice-guys-limousine-service-golden-valley-3",properties:{name:"Mr Nice Guy's Limousine Service",label:[{value:"Mr Nice Guy's Limousine Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Town Car Service",term:"towncarservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/6FmuzguTRuVoNuFstefgvA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"8134 Golden Valley Rd",city:"Golden Valley",state_code:"MN",zip:"55427"},phone:"6128076776"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.3841397,44.9870508]}},{type:"Feature",_id:"exceptional-transportation-minneapolis",properties:{name:"Exceptional Transportation",label:[{value:"Exceptional Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/sLv-UCPxSy7hrph_WdNvkg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55447"},phone:"6129635466"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.48804,45.0009]}},{type:"Feature",_id:"moments-shared-photography-minneapolis-2",properties:{name:"Moments Shared Photography",label:[{value:"Moments Shared Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/j3p7p9DQeqmQjvualhwW3A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"505 1st Ave NE, Fl 4",city:"Minneapolis",state_code:"MN",zip:"55413"},phone:"6122347627"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.25398,44.9904]}},{type:"Feature",_id:"rj-moving-blaine",properties:{name:"RJ Moving",label:[{value:"RJ Moving"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/8pEnQK4HGOzFMbvVGsKAAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10044 Flanders Ct NE, Ste 300",city:"Blaine",state_code:"MN",zip:"55449"},phone:"6123842028"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.195187,45.151934]}},{type:"Feature",_id:"zippy-shell-of-minneapolis-south-st-paul",properties:{name:"Zippy Shell of Minneapolis",label:[{value:"Zippy Shell of Minneapolis"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yd_7LuT949kbxxczoq1NrA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"305 Bridgepoint Dr, Ste 100",city:"South St. Paul",state_code:"MN",zip:"55075"},phone:"6123263910"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.0283118784428,44.8900213837624]}},{type:"Feature",_id:"shepard-road-airport-parking-saint-paul",properties:{name:"Shepard Road Airport Parking",label:[{value:"Shepard Road Airport Parking"}],category:[{value:"Parking",term:"parking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/lskqnlQp9VvACcBgr73sOQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1465 Davern St",city:"Saint Paul",state_code:"MN",zip:"55116"},phone:"6516901200"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1749496459961,44.8967170715332]}},{type:"Feature",_id:"ez-air-park-eagan",properties:{name:"Ez Air Park",label:[{value:"Ez Air Park"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Parking",term:"parking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/BG8IRVXRLLQ_8ZD64yTBmg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2804 Lexington Ave S",city:"Eagan",state_code:"MN",zip:"55121"},phone:"6517777275"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.14439,44.85508]}},{type:"Feature",_id:"knowmad-adventures-minneapolis",properties:{name:"Knowmad Adventures",label:[{value:"Knowmad Adventures"}],category:[{value:"Travel Services",term:"travelservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tours",term:"tours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3u4_k1ku9nMVA2bWAFXq-g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"911 W 36th St",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6123152894"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.2913459,44.9374937]}},{type:"Feature",_id:"bobs-construction-oronoco-2",properties:{name:"Bob's Construction",label:[{value:"Bob's Construction"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Door Sales/Installation",term:"doorsales",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"589A Lake Shady Ave N",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5072888379"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.55072,44.16803]}},{type:"Feature",_id:"blurberrybuzz-body-art-rosemount",properties:{name:"Blurberrybuzz Body Art",label:[{value:"Blurberrybuzz Body Art"}],category:[{value:"Henna Artists",term:"hennaartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Face Painting",term:"facepainting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/TXNafn94lSRR-XE2G6mg9g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rosemount",state_code:"MN",zip:"55068"},phone:"6123088000"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1264267589996,44.7395932003116]}},{type:"Feature",_id:"flat-price-moving-and-auto-shipping-minneapolis",properties:{name:"Flat Price Moving and Auto Shipping",label:[{value:"Flat Price Moving and Auto Shipping"}],category:[{value:"Vehicle Shipping",term:"vehicleshipping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Ug4Q_37lhmX961gnaBzcuA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55413"},phone:"6125403308"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.25571,44.99521]}},{type:"Feature",_id:"icc-restoration-and-cleaning-services-woodbury",properties:{name:"ICC Restoration & Cleaning Services",label:[{value:"ICC Restoration & Cleaning Services"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/gASfE3iCgzFlfWF_m37-Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"451 Commerce Dr, Ste 800",city:"Woodbury",state_code:"MN",zip:"55125"},phone:"6517394289"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9114479,44.940847]}},{type:"Feature",_id:"minnesnowii-shave-ice-savage-2",properties:{name:"Minnesnowii Shave Ice",label:[{value:"Minnesnowii Shave Ice"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Street Vendors",term:"streetvendors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shaved Ice",term:"shavedice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0xZn8-2R5CYF8_ED_xwFIg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Savage",state_code:"MN",zip:"55378"},phone:"9524860079"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.3354608,44.7790237]}},{type:"Feature",_id:"dawn-sanborn-photography-pine-island",properties:{name:"Dawn Sanborn Photography",label:[{value:"Dawn Sanborn Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/N1v0SeW4sITNUYQqrje3eA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"222 S Main St",city:"Pine Island",state_code:"MN",zip:"55963"},phone:"5072524662"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.64657,44.2010099]}},{type:"Feature",_id:"rock-solid-retaining-walls-and-landscaping-oronoco",properties:{name:"Rock Solid Retaining Walls & Landscaping",label:[{value:"Rock Solid Retaining Walls & Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"13345 Postier Dr NW",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5073988231"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.4832305908203,44.1926498413086]}},{type:"Feature",_id:"master-transmission-and-auto-care-rosemount-2",properties:{name:"Master Transmission & Auto Care",label:[{value:"Master Transmission & Auto Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/y_-PjfIujqxKkCth5bmrew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14805 S Robert Trl",city:"Rosemount",state_code:"MN",zip:"55068"},phone:"6514234221"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1268,44.73416]}},{type:"Feature",_id:"33rd-company-woodbury-3",properties:{name:"33rd Company",label:[{value:"33rd Company"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/51OyKiPbALXV4Co51pIj1A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1800 Wooddale Drive, Suite 100",city:"Woodbury",state_code:"MN",zip:"55125"},phone:"6517775500"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9669,44.92324]}},{type:"Feature",_id:"cannon-falls-canoe-and-bike-rental-cannon-falls",properties:{name:"Cannon Falls Canoe & Bike Rental",label:[{value:"Cannon Falls Canoe & Bike Rental"}],category:[{value:"Rafting/Kayaking",term:"rafting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bike Rentals",term:"bikerentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fishing",term:"fishing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AIwBOuLhLTmHC6mJe_UwUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"615 N 5th St",city:"Cannon Falls",state_code:"MN",zip:"55009"},phone:"5074074111"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9067958,44.51295]}},{type:"Feature",_id:"mn-black-car-service-minnetonka-3",properties:{name:"MN Black Car Service",label:[{value:"MN Black Car Service"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Town Car Service",term:"towncarservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1UnyJGynLCPmas-bhYbdFQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minnetonka",state_code:"MN",zip:"55305"},phone:"6127351318"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.40582,44.95086]}},{type:"Feature",_id:"camp-faribo-faribault",properties:{name:"Camp Faribo",label:[{value:"Camp Faribo"}],category:[{value:"RV Rental",term:"rvrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Campgrounds",term:"campgrounds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4HaMC9ajHBrrHtpR3lhwqw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21851 Bagley Ave",city:"Faribault",state_code:"MN",zip:"55021"},phone:"5073328453"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3013076782227,44.2716827392578]}},{type:"Feature",_id:"jordana-snyder-photography-la-crosse",properties:{name:"Jordana Snyder Photography",label:[{value:"Jordana Snyder Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/l7r__sBHWuJEf3v6oTdLYw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"115 5th Ave S",city:"La Crosse",state_code:"WI",zip:"54601"},phone:"6083975854"},updated:1510719331787},geometry:{type:"Point",coordinates:[-91.249733,43.8113594]}},{type:"Feature",_id:"del-the-inspector-new-richmond",properties:{name:"Del The Inspector",label:[{value:"Del The Inspector"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/BASfFSnVnGk1rRHl4UuPzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"New Richmond",state_code:"WI",zip:"54017"},phone:"7153388768"},updated:1510719331787},geometry:{type:"Point",coordinates:[-92.53758,45.12213]}},{type:"Feature",_id:"samia-car-service-minneapolis",properties:{name:"Samia Car Service",label:[{value:"Samia Car Service"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jgc2NeLQL3l9jok-IamSmQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2515 South 9th St, Ste 505",city:"Minneapolis",state_code:"MN",zip:"55406"},phone:"6125984086"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.234517,44.963643]}},{type:"Feature",_id:"1st-class-transportation-st-louis-park",properties:{name:"1st Class Transportation",label:[{value:"1st Class Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Tours",term:"winetours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1GVFcv91IyMP9Yv90wvbHw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5115 Excelsior Blvd, Ste 377",city:"St. Louis Park",state_code:"MN",zip:"55416"},phone:"6122314446"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3464526,44.9305688]}},{type:"Feature",_id:"roots-to-stars-minneapolis",properties:{name:"Roots To Stars",label:[{value:"Roots To Stars"}],category:[{value:"Reiki",term:"reiki",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Coach",term:"lifecoach",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Supernatural Readings",term:"psychic_astrology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3XDLB-y8uHXDx1diTrFwJA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55416"},phone:"9195782774"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3407440185547,44.9505195617676]}},{type:"Feature",_id:"dust-doctors-little-canada",properties:{name:"Dust Doctors",label:[{value:"Dust Doctors"}],category:[{value:"Air Duct Cleaning",term:"airductcleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"102 W County Rd C, Ste B",city:"Little Canada",state_code:"MN",zip:"55117"},phone:"6519642004"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.1044732,45.0207455]}},{type:"Feature",_id:"rons-repair-owatonna",properties:{name:"Ron's Repair",label:[{value:"Ron's Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xiPr3AzonMGwVq7M_tYpqw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"505 W N St",city:"Owatonna",state_code:"MN",zip:"55060"},phone:"5074518678"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.23674,44.09278]}},{type:"Feature",_id:"minnestay-minneapolis",properties:{name:"Minnestay",label:[{value:"Minnestay"}],category:[{value:"Vacation Rentals",term:"vacation_rentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"RV Rental",term:"rvrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AKml1INK92J8sabNUdU9Xg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3628 Nicollet Ave",city:"Minneapolis",state_code:"MN",zip:"55409"},phone:"6122165511"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.278442,44.936807]}},{type:"Feature",_id:"limo-express-lakeville",properties:{name:"Limo Express",label:[{value:"Limo Express"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5r5KAe0lWR-rdTp_EFNaWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10023 166th St W",city:"Lakeville",state_code:"MN",zip:"55044"},phone:"9523344754"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.268593,44.709849]}},{type:"Feature",_id:"standard-water-control-systems-crystal",properties:{name:"Standard Water Control Systems",label:[{value:"Standard Water Control Systems"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/eoqhKfuA_izZP1JSWjPP5A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5337 Lakeland Ave N",city:"Crystal",state_code:"MN",zip:"55429"},phone:"7635374849"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3545288443565,45.0499923527241]}},{type:"Feature",_id:"cliqstudios-bloomington-2",properties:{name:"CliqStudios",label:[{value:"CliqStudios"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rwzZ6aqNcUZ_PLu6DoX1xQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5600 W 83rd St, 8200 Tower, Ste 400",city:"Bloomington",state_code:"MN",zip:"55437"},phone:"8883501242"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3552455,44.8544119]}},{type:"Feature",_id:"pine-home-services-pine-island",properties:{name:"Pine Home Services",label:[{value:"Pine Home Services"}],category:[{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electricians",term:"electricians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"314 S Main St",city:"Pine Island",state_code:"MN",zip:"55963"},phone:"5072895900"},updated:1510719331787},geometry:{type:"Point",coordinates:[-92.64675,44.19997]}},{type:"Feature",_id:"mingle-plymouth",properties:{name:"Mingle",label:[{value:"Mingle"}],category:[{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/V04Scc6JOqSBJDEO_6OWsg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"12955 Hwy 55",city:"Plymouth",state_code:"MN",zip:"55441"},phone:"7637178500"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.4441809,45.0021859]}},{type:"Feature",_id:"pella-windows-and-doors-plymouth-2",properties:{name:"Pella Windows and Doors",label:[{value:"Pella Windows and Doors"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"13810 24th Ave N, Ste 430",city:"Plymouth",state_code:"MN",zip:"55441"},phone:"6122497371"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.4550679,45.0057449]}},{type:"Feature",_id:"ressler-photography-kasson",properties:{name:"Ressler Photography",label:[{value:"Ressler Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Kasson",state_code:"MN",zip:"55944"},phone:"5079517137"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.7509042,44.0295675]}},{type:"Feature",_id:"dish-minneapolis-2",properties:{name:"DISH",label:[{value:"DISH"}],category:[{value:"Television Service Providers",term:"televisionserviceproviders",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/XW87-sPFSFU0DoITR0ASYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55415"},phone:"8552574147"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2576065063477,44.974967956543]}},{type:"Feature",_id:"its-just-lunch-minneapolis",properties:{name:"Its Just Lunch",label:[{value:"Its Just Lunch"}],category:[{value:"Matchmakers",term:"matchmakers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ctszYe-QfPVR-6qoiSkN5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"121 S 8th St, Ste 823",city:"Minneapolis",state_code:"MN",zip:"55402"},phone:"6123767373"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2708917,44.9745384]}},{type:"Feature",_id:"chandler-roofing-and-construction-red-wing-4",properties:{name:"Chandler Roofing & Construction",label:[{value:"Chandler Roofing & Construction"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2411 Goodhue St S",city:"Red Wing",state_code:"MN",zip:"55066"},phone:"6513889415"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.518077,44.535302]}},{type:"Feature",_id:"national-metro-movers-cottage-grove",properties:{name:"National Metro Movers",label:[{value:"National Metro Movers"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Cottage Grove",state_code:"MN",zip:"55016"},phone:"6513536479"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9491,44.83371]}},{type:"Feature",_id:"compview-audio-visual-saint-paul",properties:{name:"CompView Audio Visual",label:[{value:"CompView Audio Visual"}],category:[{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5WLJYQ-S6iqzniAWFkQntg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 Energy Park Dr, Ste 16",city:"Saint Paul",state_code:"MN",zip:"55108"},phone:"6516474354"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1594772,44.9708595]}},{type:"Feature",_id:"act-landscaping-preston",properties:{name:"ACT Landscaping",label:[{value:"ACT Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lq-S_1t4Rw8gJYANHSRaKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"112 Maple St SW",city:"Preston",state_code:"MN",zip:"55965"},phone:"5078845636"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.0815643,43.6630759]}},{type:"Feature",_id:"fixaphone-austin-2",properties:{name:"FixAPhone",label:[{value:"FixAPhone"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/B1Wb-0GAVQusB4lp3yxEiw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1002 W Oakland Ave",city:"Austin",state_code:"MN",zip:"55912"},phone:"5074337070"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9862803368139,43.6666312773075]}},{type:"Feature",_id:"red-carpet-movers-and-cleaners-minneapolis",properties:{name:"Red Carpet Movers & Cleaners",label:[{value:"Red Carpet Movers & Cleaners"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Cleaning",term:"homecleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6124074268"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.29413,44.94829]}},{type:"Feature",_id:"vinyl-fence-wholesaler-st-paul",properties:{name:"Vinyl Fence Wholesaler",label:[{value:"Vinyl Fence Wholesaler"}],category:[{value:"Fences & Gates",term:"fencesgates",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Decks & Railing",term:"decksrailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"14607 Felton Ct",city:"St Paul",state_code:"MN",zip:"55124"},phone:"5072064154"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1952856,44.7385329]}},{type:"Feature",_id:"ceramic-tileworks-maple-grove",properties:{name:"Ceramic Tileworks",label:[{value:"Ceramic Tileworks"}],category:[{value:"Building Supplies",term:"buildingsupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"11225 86th Ave N",city:"Maple Grove",state_code:"MN",zip:"55369"},phone:"7634935238"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.4233551025391,45.1099395751953]}},{type:"Feature",_id:"dulce-vita-burnsville-5",properties:{name:"Dulce Vita",label:[{value:"Dulce Vita"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Stylists",term:"hairstylists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/-OrttwjFS-ypZFyDTlfCdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Burnsville",state_code:"MN",zip:"55337"},phone:"6123616370"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2828826904297,44.769962310791]}},{type:"Feature",_id:"everest-home-inspectors-lakeville-2",properties:{name:"Everest Home Inspectors",label:[{value:"Everest Home Inspectors"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/2Pbc2YeyLlOQsMSbTthbZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"19226 Hilldale Ave",city:"Lakeville",state_code:"MN",zip:"55044"},phone:"6126430055"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.24113,44.67224]}},{type:"Feature",_id:"land-to-air-express-mankato",properties:{name:"Land To Air Express",label:[{value:"Land To Air Express"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"50 Sibley Pkwy",city:"Mankato",state_code:"MN",zip:"56001"},phone:"5076253977"},updated:1510719331788},geometry:{type:"Point",coordinates:[-94.0139846801758,44.1624412536621]}},{type:"Feature",_id:"to-serve-contracting-new-hope",properties:{name:"To Serve Contracting",label:[{value:"To Serve Contracting"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/juOwvQhexDAfu6c_Y-sZEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5407 Boone Ave N",city:"New Hope",state_code:"MN",zip:"55428"},phone:"7634257663"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3913013,45.051092]}},{type:"Feature",_id:"organic-lawns-by-lunseth-bloomington",properties:{name:"Organic Lawns by LUNSETH",label:[{value:"Organic Lawns by LUNSETH"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/sqcKd3ngsNKEd_-bxb2HZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9641 James Ave S",city:"Bloomington",state_code:"MN",zip:"55423"},phone:"6122261898"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3011351,44.829135]}},{type:"Feature",_id:"cross-country-movers-minneapolis",properties:{name:"Cross Country Movers",label:[{value:"Cross Country Movers"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vehicle Shipping",term:"vehicleshipping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/MSUeaQO6AQZ7kNQIRxJCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6125403306"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2941284179688,44.9482955932617]}},{type:"Feature",_id:"the-elite-nanny-team-minneapolis",properties:{name:"The Elite Nanny Team",label:[{value:"The Elite Nanny Team"}],category:[{value:"Nanny Services",term:"nannys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1645 Xerxes Ave N",city:"Minneapolis",state_code:"MN",zip:"55411"},phone:"2403308564"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3188014,44.9967815]}},{type:"Feature",_id:"riggs-roadside-st-peter",properties:{name:"Riggs Roadside",label:[{value:"Riggs Roadside"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Roadside Assistance",term:"roadsideassist",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"108 S Minnesota Ave, Ste 700",city:"St. Peter",state_code:"MN",zip:"56082"},phone:"5074694859"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.9558432,44.3258057]}},{type:"Feature",_id:"all-safe-window-cleaning-services-saint-paul-park-2",properties:{name:"All-Safe Window Cleaning Services",label:[{value:"All-Safe Window Cleaning Services"}],category:[{value:"Window Washing",term:"windowwashing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"908 Summit Ave",city:"Saint Paul Park",state_code:"MN",zip:"55071"},phone:"6512063549"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9909909,44.841828]}},{type:"Feature",_id:"all-time-favorites-eagan",properties:{name:"All Time Favorites",label:[{value:"All Time Favorites"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/NC5kuNmb5b8yYyiMA4e1FQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Eagan",state_code:"MN",zip:"55123"},phone:"6514541124"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1469573974609,44.826961517334]}},{type:"Feature",_id:"summit-hill-studios-stillwater",properties:{name:"Summit Hill Studios",label:[{value:"Summit Hill Studios"}],category:[{value:"Videographers",term:"videographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Photography",term:"estatephotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"216 Myrtle St W, Ste 2262",city:"Stillwater",state_code:"MN",zip:"55082"},phone:"6125030800"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.8112394,45.0557248]}},{type:"Feature",_id:"verizon-wireless-winona-8",properties:{name:"Verizon Wireless",label:[{value:"Verizon Wireless"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/x-5GXsQyWTaEYRx_AfYENA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1213 Gilmore Ave, Winona Mall",city:"Winona",state_code:"MN",zip:"55987"},phone:"5074537810"},updated:1510719331789},geometry:{type:"Point",coordinates:[-91.668816,44.046902]}},{type:"Feature",_id:"drurys-fountain",properties:{name:"Drury's",label:[{value:"Drury's"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpeting",term:"carpeting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/H5c_jB4F9mn-drpVrytubg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Fountain",state_code:"MN",zip:"55935"},phone:"5072684363"},updated:1510719331789},geometry:{type:"Point",coordinates:[-92.1349563598633,43.7393951416016]}},{type:"Feature",_id:"new-dimension-electronics-austin",properties:{name:"New Dimension Electronics",label:[{value:"New Dimension Electronics"}],category:[{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"TV Mounting",term:"tvmounting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/XQ7FK0EFUcuE-onCVSYo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"209 11th St NE",city:"Austin",state_code:"MN",zip:"55912"},phone:"5074332122"},updated:1510719332357},geometry:{type:"Point",coordinates:[-92.9587578,43.667495]}},{type:"Feature",_id:"supreme-images-photography-minneapolis",properties:{name:"Supreme Images Photography",label:[{value:"Supreme Images Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2542 Blaisdell Ave",city:"Minneapolis",state_code:"MN",zip:"55404"},phone:"6128740964"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.2801099,44.95606]}},{type:"Feature",_id:"bauer-restoration-faribault-2",properties:{name:"Bauer Restoration",label:[{value:"Bauer Restoration"}],category:[{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1hn0dwWgugIC1jS1_6aUIQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"933 Hulett Ave, Ste 2",city:"Faribault",state_code:"MN",zip:"55021"},phone:"5073339838"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.2888265,44.3001063]}},{type:"Feature",_id:"midwest-concrete-professionals-onalaska-3",properties:{name:"Midwest Concrete Professionals",label:[{value:"Midwest Concrete Professionals"}],category:[{value:"Masonry/Concrete",term:"masonry_concrete",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/2mz5X2ailmvzkM30vpEjxQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"La Crosse",state_code:"WI",zip:"54603"},phone:"6087975134"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.219353,43.818786]}},{type:"Feature",_id:"minnesota-home-remodeling-minneapolis",properties:{name:"Minnesota Home Remodeling",label:[{value:"Minnesota Home Remodeling"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ze9bipVRTCJCDT3oEjbk_A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 S 5th St, Ste 700",city:"Minneapolis",state_code:"MN",zip:"55402"},phone:"6128020900"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.20558203125,44.9920412788697]}},{type:"Feature",_id:"advanced-home-inspections-onalaska",properties:{name:"Advanced Home Inspections",label:[{value:"Advanced Home Inspections"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xzl2MMiMMivkbFVMEJWRJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 11th Ave S",city:"Onalaska",state_code:"WI",zip:"54650"},phone:"6087923657"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.2227599,43.88342]}},{type:"Feature",_id:"bark-busters-home-dog-training-dakota-county-apple-valley",properties:{name:"Bark Busters Home Dog Training Dakota County",label:[{value:"Bark Busters Home Dog Training Dakota County"}],category:[{value:"Pet Training",term:"pet_training",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/y4DFIKd0rzKM4J9NllnxDg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Apple Valley",state_code:"MN",zip:"55124"},phone:"8775002275"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.21116,44.73352]}},{type:"Feature",_id:"interstate-roofing-and-waterproofing-onalaska-2",properties:{name:"Interstate Roofing & Waterproofing",label:[{value:"Interstate Roofing & Waterproofing"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"N5544 Commerce Rd",city:"Onalaska",state_code:"WI",zip:"54650"},phone:"6087832106"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.2453036,43.9220047]}},{type:"Feature",_id:"chris-moe-entertainment-morristown",properties:{name:"Chris Moe Entertainment",label:[{value:"Chris Moe Entertainment"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Morristown",state_code:"MN",zip:"55052"},phone:"5073848820"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.44466,44.22529]}},{type:"Feature",_id:"trester-trolley-winona",properties:{name:"Trester Trolley",label:[{value:"Trester Trolley"}],category:[{value:"Transportation",term:"transport",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bus Tours",term:"bustours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qlyct7ASnO-rCbOrRO7OnA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"956 Mankato Ave",city:"Winona",state_code:"MN",zip:"55987"},phone:"5074299101"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.6211116,44.0303956]}},{type:"Feature",_id:"shoferd-transportation-eagan-2",properties:{name:"ShoFerd Transportation",label:[{value:"ShoFerd Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/U-udcas235lDYRxyv4lfUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3748 Burgundy Dr",city:"Eagan",state_code:"MN",zip:"55122"},phone:"6512262555"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.200935,44.820957]}},{type:"Feature",_id:"gregs-grass-and-landscaping-albert-lea",properties:{name:"Greg's Grass & Landscaping",label:[{value:"Greg's Grass & Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"801 E 12th St",city:"Albert Lea",state_code:"MN",zip:"56007"},phone:"5073771123"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.3556518554688,43.6285057067871]}}]}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"olli-logo-div"},s.a.createElement("img",{className:"olli-logo",src:"./img/accessible-olli-logo.svg",alt:"olli, forward-thinking transportation"}))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Object(u.a)({selectPOI:d.x,deselectPOI:d.t},e)}function s(e){return{activePersona:e.activePersona,activePersonaTypes:e.activePersonaTypes,pois:e.pois}}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),m=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"onPOIClick",value:function(e){e.selected?this.props.deselectPOI(e):this.props.selectPOI(e)}},{key:"render",value:function(){var e=this;if(!this.props.pois)return l.a.createElement("div",{className:"pois-nearby-hidden"});var t=null;t=this.props.pois.map(function(t,r){var o="deselected";t.selected&&(o="selected");var n="poi-image "+o;return l.a.createElement("div",{key:r,className:"poi-nearby"},l.a.createElement("img",{className:n,src:t.image_url,title:t.name,alt:t.name,onClick:function(r){return e.onPOIClick(t)}}),l.a.createElement("div",{className:"poi-image-title"},t.name))});var r="pois-nearby-hidden";if(this.props.activePersona){this.props.activePersonaTypes.cognitive&&!this.props.activePersonaTypes.deaf&&!this.props.activePersonaTypes.blind&&!this.props.activePersonaTypes.wheelchair||(r="pois-nearby")}return l.a.createElement("div",{className:r},l.a.createElement("h2",null,"POIs near my destination"),l.a.createElement("div",{className:"poi-images"},l.a.createElement("div",null,t)))}}]),t}(c.Component);t.a=Object(p.b)(s,a)(m)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),s=r.n(a),c=r(245),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),p=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e="TBD";return this.props.stop&&this.props.stop.properties&&(e=this.props.stop.properties.name),s.a.createElement("div",{className:"stop-name-div"},s.a.createElement(c.a,null),s.a.createElement("h1",{className:"stop-name"},e))}}]),t}(a.Component);t.a=p},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Object(u.a)({setDestination:d.y},e)}function s(e){return{destinationStopName:e.destinationStopName}}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),m=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"reset",value:function(){this.props.setDestination(null)}},{key:"render",value:function(){var e=this;return this.props.destinationStopName?l.a.createElement("button",{className:"reset-button",onClick:function(t){return e.reset()}},"Reset"):l.a.createElement("div",null)}}]),t}(c.Component);t.a=Object(p.b)(s,a)(m)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{activePersona:e.activePersona,activePersonaTypes:e.activePersonaTypes,destinationStopName:e.destinationStopName}}function s(e){return Object(u.a)({setDestination:d.y},e)}var c=r(1),l=r.n(c),p=r(4),u=r(3),d=r(0),h=r(82),m=r.n(h),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),f=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"onStopClick",value:function(e){this.props.destinationStopName===e.target.name||this.props.setDestination(e.target.name)}},{key:"render",value:function(){var e=this,t=m.a.map(function(t,r){var o=void 0;if(t.disabled)o=l.a.createElement("input",{type:"image",className:"stop-btn-img",src:"./img/olli-stop.png",alt:"stop",disabled:!0});else{var n="stop-btn-img";e.props.destinationStopName===t.name&&(n+=" selected"),o=l.a.createElement("input",{type:"image",className:n,src:"./img/olli-stop-color.png",alt:"stop",name:t.name,onClick:e.onStopClick.bind(e)})}return l.a.createElement("td",{key:r,className:"stop-btn"},o)}),r=m.a.map(function(e,t){return l.a.createElement("td",{key:t,className:"stop-btn",style:{whiteSpace:"pre-line"}},e.label)}),o="stop-graph-hidden";if(this.props.activePersona){this.props.activePersonaTypes.cognitive&&!this.props.activePersonaTypes.deaf&&!this.props.activePersonaTypes.blind&&!this.props.activePersonaTypes.wheelchair||(o="stop-graph")}return l.a.createElement("div",{className:o},l.a.createElement("h2",null,"Click a stop to set your destination"),l.a.createElement("table",{id:"stop-btn-table",style:{backgroundImage:"url(img/stop-dot.png)",backgroundRepeat:"repeat-x"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,t),l.a.createElement("tr",null,r))))}}]),t}(c.Component);Object(p.b)(a,s)(f)},function(e,t,r){"use strict";function o(e){var t={};return e.toString().split("\n").forEach(function(e){var r=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!=r){var o=r[1],n=r[2]?r[2]:"",i=n?n.length:0;i>0&&'"'===n.charAt(0)&&'"'===n.charAt(i-1)&&(n=n.replace(/\\n/gm,"\n")),n=n.replace(/(^['"]|['"]$)/g,"").trim(),t[o]=n}}),t}function n(e){var t=".env",r="utf8";e&&(e.path&&(t=e.path),e.encoding&&(r=e.encoding));try{var n=o(i.readFileSync(t,{encoding:r}));return Object.keys(n).forEach(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"/olli-stop",REACT_APP_MONITOR:"monitor1",REACT_APP_REMOTE_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_TELEMETRY_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_EVENT_DB:"http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",REACT_APP_REMOTE_PERSONA_DB:"http://rajsingh:genjisan@127.0.0.1:5984/persona_transitions",REACT_APP_OLLI_STOP_IDX:"3",REACT_APP_OLLI_BLIND_STOP_IDX:"0",REACT_APP_OLLI_BLIND_STOP_DELAY:"1000",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_TEXT_PERSONA_IF_SET:"false",REACT_APP_TEXT_PHONE_NUMBER:"617-299-1557"})[e]=Object({NODE_ENV:"production",PUBLIC_URL:"/olli-stop",REACT_APP_MONITOR:"monitor1",REACT_APP_REMOTE_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_TELEMETRY_DB:"http://rajsingh:genjisan@127.0.0.1:5984/telemetry_transitions",REACT_APP_REMOTE_EVENT_DB:"http://rajsingh:genjisan@127.0.0.1:5984/rule_event_transitions",REACT_APP_REMOTE_PERSONA_DB:"http://rajsingh:genjisan@127.0.0.1:5984/persona_transitions",REACT_APP_OLLI_STOP_IDX:"3",REACT_APP_OLLI_BLIND_STOP_IDX:"0",REACT_APP_OLLI_BLIND_STOP_DELAY:"1000",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_TEXT_PERSONA_IF_SET:"false",REACT_APP_TEXT_PHONE_NUMBER:"617-299-1557"})[e]||n[e]}),{parsed:n}}catch(e){return{error:e}}}var i=r(248);e.exports.config=n,e.exports.load=n,e.exports.parse=o},function(e,t){},function(e,t,r){"use strict";function o(){if("serviceWorker"in navigator){if(new URL("/olli-stop",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/olli-stop/service-worker.js";a?i(e):n(e)})}}function n(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):n(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=o;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.a92e7c0b.js.map